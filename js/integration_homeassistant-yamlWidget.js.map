{"version":3,"file":"integration_homeassistant-yamlWidget.js","mappings":"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","sources":["webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/classes/semver.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/functions/major.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/functions/parse.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/functions/valid.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/internal/constants.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/internal/debug.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/internal/identifiers.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/internal/parse-options.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/node_modules/semver/internal/re.js","webpack:///integration_homeassistant/node_modules/base64-js/index.js","webpack:///integration_homeassistant/node_modules/buffer/index.js","webpack:///integration_homeassistant/node_modules/ieee754/index.js","webpack:///integration_homeassistant/node_modules/process/browser.js","webpack:///integration_homeassistant/webpack/bootstrap","webpack:///integration_homeassistant/webpack/runtime/define property getters","webpack:///integration_homeassistant/webpack/runtime/hasOwnProperty shorthand","webpack:///integration_homeassistant/webpack/runtime/make namespace object","webpack:///integration_homeassistant/node_modules/@nextcloud/initial-state/dist/index.mjs","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/errors.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/auth.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/messages.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/util.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/socket.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/connection.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/store.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/collection.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/commands.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/entities.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/identity.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/visit.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/doc/directives.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/doc/anchors.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/doc/applyReviver.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/toJS.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/Node.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/Alias.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/Scalar.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/doc/createNode.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/Collection.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyComment.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/foldFlowLines.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyString.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringify.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/log.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/addPairToJSMap.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/Pair.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyPair.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyCollection.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/YAMLMap.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/common/map.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/nodes/YAMLSeq.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/common/seq.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/common/string.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/common/null.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/core/bool.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyNumber.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/core/float.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/core/int.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/core/schema.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/json/schema.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/binary.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/pairs.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/omap.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/bool.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/float.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/int.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/set.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/timestamp.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/yaml-1.1/schema.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/tags.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/schema/Schema.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/doc/Document.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/stringify/stringifyDocument.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/errors.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-props.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/util-contains-newline.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/util-flow-indent-check.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/util-map-includes.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-block-map.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-end.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-flow-collection.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/compose-collection.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-block-seq.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-block-scalar.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/resolve-flow-scalar.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/compose-scalar.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/util-empty-scalar-position.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/compose-node.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/composer.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/compose/compose-doc.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/cst-scalar.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/cst-stringify.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/cst-visit.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/cst.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/lexer.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/line-counter.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/parse/parser.js","webpack:///integration_homeassistant/node_modules/yaml/browser/dist/public-api.js","webpack:///integration_homeassistant/node_modules/yaml/browser/index.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/bind.js","webpack:///integration_homeassistant/node_modules/axios/lib/utils.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/AxiosError.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/toFormData.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/buildURL.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/InterceptorManager.js","webpack:///integration_homeassistant/node_modules/axios/lib/defaults/transitional.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/browser/index.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/browser/classes/FormData.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/browser/classes/Blob.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/common/utils.js","webpack:///integration_homeassistant/node_modules/axios/lib/platform/index.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/formDataToJSON.js","webpack:///integration_homeassistant/node_modules/axios/lib/defaults/index.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/toURLEncodedForm.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/parseHeaders.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/AxiosHeaders.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/transformData.js","webpack:///integration_homeassistant/node_modules/axios/lib/cancel/isCancel.js","webpack:///integration_homeassistant/node_modules/axios/lib/cancel/CanceledError.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/settle.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/speedometer.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/throttle.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/progressEventReducer.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/cookies.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/buildFullPath.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/combineURLs.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/mergeConfig.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/resolveConfig.js","webpack:///integration_homeassistant/node_modules/axios/lib/adapters/xhr.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/parseProtocol.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/composeSignals.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/trackStream.js","webpack:///integration_homeassistant/node_modules/axios/lib/adapters/fetch.js","webpack:///integration_homeassistant/node_modules/axios/lib/adapters/adapters.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/null.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/dispatchRequest.js","webpack:///integration_homeassistant/node_modules/axios/lib/env/data.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/validator.js","webpack:///integration_homeassistant/node_modules/axios/lib/core/Axios.js","webpack:///integration_homeassistant/node_modules/axios/lib/cancel/CancelToken.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/HttpStatusCode.js","webpack:///integration_homeassistant/node_modules/axios/lib/axios.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/spread.js","webpack:///integration_homeassistant/node_modules/axios/lib/helpers/isAxiosError.js","webpack:///integration_homeassistant/node_modules/@nextcloud/event-bus/dist/index.mjs","webpack:///integration_homeassistant/node_modules/@nextcloud/auth/dist/index.mjs","webpack:///integration_homeassistant/node_modules/@nextcloud/router/dist/index.mjs","webpack:///integration_homeassistant/node_modules/@nextcloud/axios/dist/index.mjs","webpack:///integration_homeassistant/src/yamlWidget.js","webpack:///integration_homeassistant/node_modules/home-assistant-js-websocket/dist/index.js"],"sourcesContent":["const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function loadState(app, key, fallback) {\n  const elem = document.querySelector(`#initial-state-${app}-${key}`);\n  if (elem === null) {\n    if (fallback !== void 0) {\n      return fallback;\n    }\n    throw new Error(`Could not find initial state ${key} of ${app}`);\n  }\n  try {\n    return JSON.parse(atob(elem.value));\n  } catch (e) {\n    throw new Error(`Could not parse initial state ${key} of ${app}`);\n  }\n}\nexport {\n  loadState\n};\n","export const ERR_CANNOT_CONNECT = 1;\nexport const ERR_INVALID_AUTH = 2;\nexport const ERR_CONNECTION_LOST = 3;\nexport const ERR_HASS_HOST_REQUIRED = 4;\nexport const ERR_INVALID_HTTPS_TO_HTTP = 5;\nexport const ERR_INVALID_AUTH_CALLBACK = 6;\n","import { parseQuery } from \"./util.js\";\nimport { ERR_HASS_HOST_REQUIRED, ERR_INVALID_AUTH, ERR_INVALID_AUTH_CALLBACK, ERR_INVALID_HTTPS_TO_HTTP, } from \"./errors.js\";\nexport const genClientId = () => `${location.protocol}//${location.host}/`;\nexport const genExpires = (expires_in) => {\n    return expires_in * 1000 + Date.now();\n};\nfunction genRedirectUrl() {\n    // Get current url but without # part.\n    const { protocol, host, pathname, search } = location;\n    return `${protocol}//${host}${pathname}${search}`;\n}\nfunction genAuthorizeUrl(hassUrl, clientId, redirectUrl, state) {\n    let authorizeUrl = `${hassUrl}/auth/authorize?response_type=code&redirect_uri=${encodeURIComponent(redirectUrl)}`;\n    if (clientId !== null) {\n        authorizeUrl += `&client_id=${encodeURIComponent(clientId)}`;\n    }\n    if (state) {\n        authorizeUrl += `&state=${encodeURIComponent(state)}`;\n    }\n    return authorizeUrl;\n}\nfunction redirectAuthorize(hassUrl, clientId, redirectUrl, state) {\n    // Add either ?auth_callback=1 or &auth_callback=1\n    redirectUrl += (redirectUrl.includes(\"?\") ? \"&\" : \"?\") + \"auth_callback=1\";\n    document.location.href = genAuthorizeUrl(hassUrl, clientId, redirectUrl, state);\n}\nasync function tokenRequest(hassUrl, clientId, data) {\n    // Browsers don't allow fetching tokens from https -> http.\n    // Throw an error because it's a pain to debug this.\n    // Guard against not working in node.\n    const l = typeof location !== \"undefined\" && location;\n    if (l && l.protocol === \"https:\") {\n        // Ensure that the hassUrl is hosted on https.\n        const a = document.createElement(\"a\");\n        a.href = hassUrl;\n        if (a.protocol === \"http:\" && a.hostname !== \"localhost\") {\n            throw ERR_INVALID_HTTPS_TO_HTTP;\n        }\n    }\n    const formData = new FormData();\n    if (clientId !== null) {\n        formData.append(\"client_id\", clientId);\n    }\n    Object.keys(data).forEach((key) => {\n        // @ts-ignore\n        formData.append(key, data[key]);\n    });\n    const resp = await fetch(`${hassUrl}/auth/token`, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: formData,\n    });\n    if (!resp.ok) {\n        throw resp.status === 400 /* auth invalid */ ||\n            resp.status === 403 /* user not active */\n            ? ERR_INVALID_AUTH\n            : new Error(\"Unable to fetch tokens\");\n    }\n    const tokens = await resp.json();\n    tokens.hassUrl = hassUrl;\n    tokens.clientId = clientId;\n    tokens.expires = genExpires(tokens.expires_in);\n    return tokens;\n}\nfunction fetchToken(hassUrl, clientId, code) {\n    return tokenRequest(hassUrl, clientId, {\n        code,\n        grant_type: \"authorization_code\",\n    });\n}\nfunction encodeOAuthState(state) {\n    return btoa(JSON.stringify(state));\n}\nfunction decodeOAuthState(encoded) {\n    return JSON.parse(atob(encoded));\n}\nexport class Auth {\n    constructor(data, saveTokens) {\n        this.data = data;\n        this._saveTokens = saveTokens;\n    }\n    get wsUrl() {\n        // Convert from http:// -> ws://, https:// -> wss://\n        return `ws${this.data.hassUrl.substr(4)}/api/websocket`;\n    }\n    get accessToken() {\n        return this.data.access_token;\n    }\n    get expired() {\n        return Date.now() > this.data.expires;\n    }\n    /**\n     * Refresh the access token.\n     */\n    async refreshAccessToken() {\n        if (!this.data.refresh_token)\n            throw new Error(\"No refresh_token\");\n        const data = await tokenRequest(this.data.hassUrl, this.data.clientId, {\n            grant_type: \"refresh_token\",\n            refresh_token: this.data.refresh_token,\n        });\n        // Access token response does not contain refresh token.\n        data.refresh_token = this.data.refresh_token;\n        this.data = data;\n        if (this._saveTokens)\n            this._saveTokens(data);\n    }\n    /**\n     * Revoke the refresh & access tokens.\n     */\n    async revoke() {\n        if (!this.data.refresh_token)\n            throw new Error(\"No refresh_token to revoke\");\n        const formData = new FormData();\n        formData.append(\"token\", this.data.refresh_token);\n        // There is no error checking, as revoke will always return 200\n        await fetch(`${this.data.hassUrl}/auth/revoke`, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            body: formData,\n        });\n        if (this._saveTokens) {\n            this._saveTokens(null);\n        }\n    }\n}\nexport function createLongLivedTokenAuth(hassUrl, access_token) {\n    return new Auth({\n        hassUrl,\n        clientId: null,\n        expires: Date.now() + 1e11,\n        refresh_token: \"\",\n        access_token,\n        expires_in: 1e11,\n    });\n}\nexport async function getAuth(options = {}) {\n    let data;\n    let hassUrl = options.hassUrl;\n    // Strip trailing slash.\n    if (hassUrl && hassUrl[hassUrl.length - 1] === \"/\") {\n        hassUrl = hassUrl.substr(0, hassUrl.length - 1);\n    }\n    const clientId = options.clientId !== undefined ? options.clientId : genClientId();\n    const limitHassInstance = options.limitHassInstance === true;\n    // Use auth code if it was passed in\n    if (options.authCode && hassUrl) {\n        data = await fetchToken(hassUrl, clientId, options.authCode);\n        if (options.saveTokens) {\n            options.saveTokens(data);\n        }\n    }\n    // Check if we came back from an authorize redirect\n    if (!data) {\n        const query = parseQuery(location.search.substr(1));\n        // Check if we got redirected here from authorize page\n        if (\"auth_callback\" in query) {\n            // Restore state\n            const state = decodeOAuthState(query.state);\n            if (limitHassInstance &&\n                (state.hassUrl !== hassUrl || state.clientId !== clientId)) {\n                throw ERR_INVALID_AUTH_CALLBACK;\n            }\n            data = await fetchToken(state.hassUrl, state.clientId, query.code);\n            if (options.saveTokens) {\n                options.saveTokens(data);\n            }\n        }\n    }\n    // Check for stored tokens\n    if (!data && options.loadTokens) {\n        data = await options.loadTokens();\n    }\n    if (data) {\n        return new Auth(data, options.saveTokens);\n    }\n    if (hassUrl === undefined) {\n        throw ERR_HASS_HOST_REQUIRED;\n    }\n    // If no tokens found but a hassUrl was passed in, let's go get some tokens!\n    redirectAuthorize(hassUrl, clientId, options.redirectUrl || genRedirectUrl(), encodeOAuthState({\n        hassUrl,\n        clientId,\n    }));\n    // Just don't resolve while we navigate to next page\n    return new Promise(() => { });\n}\n","export function auth(accessToken) {\n    return {\n        type: \"auth\",\n        access_token: accessToken,\n    };\n}\nexport function supportedFeatures() {\n    return {\n        type: \"supported_features\",\n        id: 1, // Always the first message after auth\n        features: { coalesce_messages: 1 },\n    };\n}\nexport function states() {\n    return {\n        type: \"get_states\",\n    };\n}\nexport function config() {\n    return {\n        type: \"get_config\",\n    };\n}\nexport function services() {\n    return {\n        type: \"get_services\",\n    };\n}\nexport function user() {\n    return {\n        type: \"auth/current_user\",\n    };\n}\nexport function callService(domain, service, serviceData, target, returnResponse) {\n    const message = {\n        type: \"call_service\",\n        domain,\n        service,\n        target,\n        return_response: returnResponse,\n    };\n    if (serviceData) {\n        message.service_data = serviceData;\n    }\n    return message;\n}\nexport function subscribeEvents(eventType) {\n    const message = {\n        type: \"subscribe_events\",\n    };\n    if (eventType) {\n        message.event_type = eventType;\n    }\n    return message;\n}\nexport function unsubscribeEvents(subscription) {\n    return {\n        type: \"unsubscribe_events\",\n        subscription,\n    };\n}\nexport function ping() {\n    return {\n        type: \"ping\",\n    };\n}\nexport function error(code, message) {\n    return {\n        type: \"result\",\n        success: false,\n        error: {\n            code,\n            message,\n        },\n    };\n}\n","export function parseQuery(queryString) {\n    const query = {};\n    const items = queryString.split(\"&\");\n    for (let i = 0; i < items.length; i++) {\n        const item = items[i].split(\"=\");\n        const key = decodeURIComponent(item[0]);\n        const value = item.length > 1 ? decodeURIComponent(item[1]) : undefined;\n        query[key] = value;\n    }\n    return query;\n}\n// From: https://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// eslint-disable-next-line: ban-types\nexport const debounce = (func, wait, immediate = false) => {\n    let timeout;\n    // @ts-ignore\n    return function (...args) {\n        // @ts-ignore\n        const context = this;\n        const later = () => {\n            timeout = undefined;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n};\nexport const atLeastHaVersion = (version, major, minor, patch) => {\n    const [haMajor, haMinor, haPatch] = version.split(\".\", 3);\n    return (Number(haMajor) > major ||\n        (Number(haMajor) === major &&\n            (patch === undefined\n                ? Number(haMinor) >= minor\n                : Number(haMinor) > minor)) ||\n        (patch !== undefined &&\n            Number(haMajor) === major &&\n            Number(haMinor) === minor &&\n            Number(haPatch) >= patch));\n};\n","/**\n * Create a web socket connection with a Home Assistant instance.\n */\nimport { ERR_INVALID_AUTH, ERR_CANNOT_CONNECT, ERR_HASS_HOST_REQUIRED, } from \"./errors.js\";\nimport * as messages from \"./messages.js\";\nimport { atLeastHaVersion } from \"./util.js\";\nconst DEBUG = false;\nexport const MSG_TYPE_AUTH_REQUIRED = \"auth_required\";\nexport const MSG_TYPE_AUTH_INVALID = \"auth_invalid\";\nexport const MSG_TYPE_AUTH_OK = \"auth_ok\";\nexport function createSocket(options) {\n    if (!options.auth) {\n        throw ERR_HASS_HOST_REQUIRED;\n    }\n    const auth = options.auth;\n    // Start refreshing expired tokens even before the WS connection is open.\n    // We know that we will need auth anyway.\n    let authRefreshTask = auth.expired\n        ? auth.refreshAccessToken().then(() => {\n            authRefreshTask = undefined;\n        }, () => {\n            authRefreshTask = undefined;\n        })\n        : undefined;\n    // Convert from http:// -> ws://, https:// -> wss://\n    const url = auth.wsUrl;\n    if (DEBUG) {\n        console.log(\"[Auth phase] Initializing\", url);\n    }\n    function connect(triesLeft, promResolve, promReject) {\n        if (DEBUG) {\n            console.log(\"[Auth Phase] New connection\", url);\n        }\n        const socket = new WebSocket(url);\n        // If invalid auth, we will not try to reconnect.\n        let invalidAuth = false;\n        const closeMessage = () => {\n            // If we are in error handler make sure close handler doesn't also fire.\n            socket.removeEventListener(\"close\", closeMessage);\n            if (invalidAuth) {\n                promReject(ERR_INVALID_AUTH);\n                return;\n            }\n            // Reject if we no longer have to retry\n            if (triesLeft === 0) {\n                // We never were connected and will not retry\n                promReject(ERR_CANNOT_CONNECT);\n                return;\n            }\n            const newTries = triesLeft === -1 ? -1 : triesLeft - 1;\n            // Try again in a second\n            setTimeout(() => connect(newTries, promResolve, promReject), 1000);\n        };\n        // Auth is mandatory, so we can send the auth message right away.\n        const handleOpen = async (event) => {\n            try {\n                if (auth.expired) {\n                    await (authRefreshTask ? authRefreshTask : auth.refreshAccessToken());\n                }\n                socket.send(JSON.stringify(messages.auth(auth.accessToken)));\n            }\n            catch (err) {\n                // Refresh token failed\n                invalidAuth = err === ERR_INVALID_AUTH;\n                socket.close();\n            }\n        };\n        const handleMessage = async (event) => {\n            const message = JSON.parse(event.data);\n            if (DEBUG) {\n                console.log(\"[Auth phase] Received\", message);\n            }\n            switch (message.type) {\n                case MSG_TYPE_AUTH_INVALID:\n                    invalidAuth = true;\n                    socket.close();\n                    break;\n                case MSG_TYPE_AUTH_OK:\n                    socket.removeEventListener(\"open\", handleOpen);\n                    socket.removeEventListener(\"message\", handleMessage);\n                    socket.removeEventListener(\"close\", closeMessage);\n                    socket.removeEventListener(\"error\", closeMessage);\n                    socket.haVersion = message.ha_version;\n                    if (atLeastHaVersion(socket.haVersion, 2022, 9)) {\n                        socket.send(JSON.stringify(messages.supportedFeatures()));\n                    }\n                    promResolve(socket);\n                    break;\n                default:\n                    if (DEBUG) {\n                        // We already send response to this message when socket opens\n                        if (message.type !== MSG_TYPE_AUTH_REQUIRED) {\n                            console.warn(\"[Auth phase] Unhandled message\", message);\n                        }\n                    }\n            }\n        };\n        socket.addEventListener(\"open\", handleOpen);\n        socket.addEventListener(\"message\", handleMessage);\n        socket.addEventListener(\"close\", closeMessage);\n        socket.addEventListener(\"error\", closeMessage);\n    }\n    return new Promise((resolve, reject) => connect(options.setupRetry, resolve, reject));\n}\n","/**\n * Connection that wraps a socket and provides an interface to interact with\n * the Home Assistant websocket API.\n */\nimport * as messages from \"./messages.js\";\nimport { ERR_INVALID_AUTH, ERR_CONNECTION_LOST } from \"./errors.js\";\nconst DEBUG = false;\nexport class Connection {\n    constructor(socket, options) {\n        this._handleMessage = (event) => {\n            let messageGroup = JSON.parse(event.data);\n            if (!Array.isArray(messageGroup)) {\n                messageGroup = [messageGroup];\n            }\n            messageGroup.forEach((message) => {\n                if (DEBUG) {\n                    console.log(\"Received\", message);\n                }\n                const info = this.commands.get(message.id);\n                switch (message.type) {\n                    case \"event\":\n                        if (info) {\n                            info.callback(message.event);\n                        }\n                        else {\n                            console.warn(`Received event for unknown subscription ${message.id}. Unsubscribing.`);\n                            this.sendMessagePromise(messages.unsubscribeEvents(message.id)).catch((err) => {\n                                if (DEBUG) {\n                                    console.warn(` Error unsubsribing from unknown subscription ${message.id}`, err);\n                                }\n                            });\n                        }\n                        break;\n                    case \"result\":\n                        // No info is fine. If just sendMessage is used, we did not store promise for result\n                        if (info) {\n                            if (message.success) {\n                                info.resolve(message.result);\n                                // Don't remove subscriptions.\n                                if (!(\"subscribe\" in info)) {\n                                    this.commands.delete(message.id);\n                                }\n                            }\n                            else {\n                                info.reject(message.error);\n                                this.commands.delete(message.id);\n                            }\n                        }\n                        break;\n                    case \"pong\":\n                        if (info) {\n                            info.resolve();\n                            this.commands.delete(message.id);\n                        }\n                        else {\n                            console.warn(`Received unknown pong response ${message.id}`);\n                        }\n                        break;\n                    default:\n                        if (DEBUG) {\n                            console.warn(\"Unhandled message\", message);\n                        }\n                }\n            });\n        };\n        this._handleClose = async () => {\n            const oldCommands = this.commands;\n            // reset to original state except haVersion\n            this.commandId = 1;\n            this.oldSubscriptions = this.commands;\n            this.commands = new Map();\n            this.socket = undefined;\n            // Reject in-flight sendMessagePromise requests\n            oldCommands.forEach((info) => {\n                // We don't cancel subscribeEvents commands in flight\n                // as we will be able to recover them.\n                if (!(\"subscribe\" in info)) {\n                    info.reject(messages.error(ERR_CONNECTION_LOST, \"Connection lost\"));\n                }\n            });\n            if (this.closeRequested) {\n                return;\n            }\n            this.fireEvent(\"disconnected\");\n            // Disable setupRetry, we control it here with auto-backoff\n            const options = Object.assign(Object.assign({}, this.options), { setupRetry: 0 });\n            const reconnect = (tries) => {\n                setTimeout(async () => {\n                    if (this.closeRequested) {\n                        return;\n                    }\n                    if (DEBUG) {\n                        console.log(\"Trying to reconnect\");\n                    }\n                    try {\n                        const socket = await options.createSocket(options);\n                        this._setSocket(socket);\n                    }\n                    catch (err) {\n                        if (this._queuedMessages) {\n                            const queuedMessages = this._queuedMessages;\n                            this._queuedMessages = undefined;\n                            for (const msg of queuedMessages) {\n                                if (msg.reject) {\n                                    msg.reject(ERR_CONNECTION_LOST);\n                                }\n                            }\n                        }\n                        if (err === ERR_INVALID_AUTH) {\n                            this.fireEvent(\"reconnect-error\", err);\n                        }\n                        else {\n                            reconnect(tries + 1);\n                        }\n                    }\n                }, Math.min(tries, 5) * 1000);\n            };\n            if (this.suspendReconnectPromise) {\n                await this.suspendReconnectPromise;\n                this.suspendReconnectPromise = undefined;\n                // For the first retry after suspend, we will queue up\n                // all messages.\n                this._queuedMessages = [];\n            }\n            reconnect(0);\n        };\n        // connection options\n        //  - setupRetry: amount of ms to retry when unable to connect on initial setup\n        //  - createSocket: create a new Socket connection\n        this.options = options;\n        // id if next command to send\n        this.commandId = 2; // socket may send 1 at the start to enable features\n        // info about active subscriptions and commands in flight\n        this.commands = new Map();\n        // map of event listeners\n        this.eventListeners = new Map();\n        // true if a close is requested by the user\n        this.closeRequested = false;\n        this._setSocket(socket);\n    }\n    get connected() {\n        // Using conn.socket.OPEN instead of WebSocket for better node support\n        return (this.socket !== undefined && this.socket.readyState == this.socket.OPEN);\n    }\n    _setSocket(socket) {\n        this.socket = socket;\n        this.haVersion = socket.haVersion;\n        socket.addEventListener(\"message\", this._handleMessage);\n        socket.addEventListener(\"close\", this._handleClose);\n        const oldSubscriptions = this.oldSubscriptions;\n        if (oldSubscriptions) {\n            this.oldSubscriptions = undefined;\n            oldSubscriptions.forEach((info) => {\n                if (\"subscribe\" in info && info.subscribe) {\n                    info.subscribe().then((unsub) => {\n                        info.unsubscribe = unsub;\n                        // We need to resolve this in case it wasn't resolved yet.\n                        // This allows us to subscribe while we're disconnected\n                        // and recover properly.\n                        info.resolve();\n                    });\n                }\n            });\n        }\n        const queuedMessages = this._queuedMessages;\n        if (queuedMessages) {\n            this._queuedMessages = undefined;\n            for (const queuedMsg of queuedMessages) {\n                queuedMsg.resolve();\n            }\n        }\n        this.fireEvent(\"ready\");\n    }\n    addEventListener(eventType, callback) {\n        let listeners = this.eventListeners.get(eventType);\n        if (!listeners) {\n            listeners = [];\n            this.eventListeners.set(eventType, listeners);\n        }\n        listeners.push(callback);\n    }\n    removeEventListener(eventType, callback) {\n        const listeners = this.eventListeners.get(eventType);\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(callback);\n        if (index !== -1) {\n            listeners.splice(index, 1);\n        }\n    }\n    fireEvent(eventType, eventData) {\n        (this.eventListeners.get(eventType) || []).forEach((callback) => callback(this, eventData));\n    }\n    suspendReconnectUntil(suspendPromise) {\n        this.suspendReconnectPromise = suspendPromise;\n    }\n    suspend() {\n        if (!this.suspendReconnectPromise) {\n            throw new Error(\"Suspend promise not set\");\n        }\n        if (this.socket) {\n            this.socket.close();\n        }\n    }\n    /**\n     * Reconnect the websocket connection.\n     * @param force discard old socket instead of gracefully closing it.\n     */\n    reconnect(force = false) {\n        if (!this.socket) {\n            return;\n        }\n        if (!force) {\n            this.socket.close();\n            return;\n        }\n        this.socket.removeEventListener(\"message\", this._handleMessage);\n        this.socket.removeEventListener(\"close\", this._handleClose);\n        this.socket.close();\n        this._handleClose();\n    }\n    close() {\n        this.closeRequested = true;\n        if (this.socket) {\n            this.socket.close();\n        }\n    }\n    /**\n     * Subscribe to a specific or all events.\n     *\n     * @param callback Callback  to be called when a new event fires\n     * @param eventType\n     * @returns promise that resolves to an unsubscribe function\n     */\n    async subscribeEvents(callback, eventType) {\n        return this.subscribeMessage(callback, messages.subscribeEvents(eventType));\n    }\n    ping() {\n        return this.sendMessagePromise(messages.ping());\n    }\n    sendMessage(message, commandId) {\n        if (!this.connected) {\n            throw ERR_CONNECTION_LOST;\n        }\n        if (DEBUG) {\n            console.log(\"Sending\", message);\n        }\n        if (this._queuedMessages) {\n            if (commandId) {\n                throw new Error(\"Cannot queue with commandId\");\n            }\n            this._queuedMessages.push({ resolve: () => this.sendMessage(message) });\n            return;\n        }\n        if (!commandId) {\n            commandId = this._genCmdId();\n        }\n        message.id = commandId;\n        this.socket.send(JSON.stringify(message));\n    }\n    sendMessagePromise(message) {\n        return new Promise((resolve, reject) => {\n            if (this._queuedMessages) {\n                this._queuedMessages.push({\n                    reject,\n                    resolve: async () => {\n                        try {\n                            resolve(await this.sendMessagePromise(message));\n                        }\n                        catch (err) {\n                            reject(err);\n                        }\n                    },\n                });\n                return;\n            }\n            const commandId = this._genCmdId();\n            this.commands.set(commandId, { resolve, reject });\n            this.sendMessage(message, commandId);\n        });\n    }\n    /**\n     * Call a websocket command that starts a subscription on the backend.\n     *\n     * @param message the message to start the subscription\n     * @param callback the callback to be called when a new item arrives\n     * @param [options.resubscribe] re-established a subscription after a reconnect. Defaults to true.\n     * @returns promise that resolves to an unsubscribe function\n     */\n    async subscribeMessage(callback, subscribeMessage, options) {\n        if (this._queuedMessages) {\n            await new Promise((resolve, reject) => {\n                this._queuedMessages.push({ resolve, reject });\n            });\n        }\n        let info;\n        await new Promise((resolve, reject) => {\n            // Command ID that will be used\n            const commandId = this._genCmdId();\n            // We store unsubscribe on info object. That way we can overwrite it in case\n            // we get disconnected and we have to subscribe again.\n            info = {\n                resolve,\n                reject,\n                callback,\n                subscribe: (options === null || options === void 0 ? void 0 : options.resubscribe) !== false\n                    ? () => this.subscribeMessage(callback, subscribeMessage)\n                    : undefined,\n                unsubscribe: async () => {\n                    // No need to unsubscribe if we're disconnected\n                    if (this.connected) {\n                        await this.sendMessagePromise(messages.unsubscribeEvents(commandId));\n                    }\n                    this.commands.delete(commandId);\n                },\n            };\n            this.commands.set(commandId, info);\n            try {\n                this.sendMessage(subscribeMessage, commandId);\n            }\n            catch (err) {\n                // Happens when the websocket is already closing.\n                // Don't have to handle the error, reconnect logic will pick it up.\n            }\n        });\n        return () => info.unsubscribe();\n    }\n    _genCmdId() {\n        return ++this.commandId;\n    }\n}\n","export const createStore = (state) => {\n    let listeners = [];\n    function unsubscribe(listener) {\n        let out = [];\n        for (let i = 0; i < listeners.length; i++) {\n            if (listeners[i] === listener) {\n                listener = null;\n            }\n            else {\n                out.push(listeners[i]);\n            }\n        }\n        listeners = out;\n    }\n    function setState(update, overwrite) {\n        state = overwrite ? update : Object.assign(Object.assign({}, state), update);\n        let currentListeners = listeners;\n        for (let i = 0; i < currentListeners.length; i++) {\n            currentListeners[i](state);\n        }\n    }\n    /**\n     * An observable state container, returned from {@link createStore}\n     * @name store\n     */\n    return {\n        get state() {\n            return state;\n        },\n        /**\n         * Create a bound copy of the given action function.\n         * The bound returned function invokes action() and persists the result back to the store.\n         * If the return value of `action` is a Promise, the resolved value will be used as state.\n         * @param {Function} action\tAn action of the form `action(state, ...args) -> stateUpdate`\n         * @returns {Function} boundAction()\n         */\n        action(action) {\n            function apply(result) {\n                setState(result, false);\n            }\n            // Note: perf tests verifying this implementation: https://esbench.com/bench/5a295e6299634800a0349500\n            return function () {\n                let args = [state];\n                for (let i = 0; i < arguments.length; i++)\n                    args.push(arguments[i]);\n                // @ts-ignore\n                let ret = action.apply(this, args);\n                if (ret != null) {\n                    return ret instanceof Promise ? ret.then(apply) : apply(ret);\n                }\n            };\n        },\n        /**\n         * Apply a partial state object to the current state, invoking registered listeners.\n         * @param {Object} update\t\t\t\tAn object with properties to be merged into state\n         * @param {Boolean} [overwrite=false]\tIf `true`, update will replace state instead of being merged into it\n         */\n        setState,\n        clearState() {\n            state = undefined;\n        },\n        /**\n         * Register a listener function to be called whenever state is changed. Returns an `unsubscribe()` function.\n         * @param {Function} listener\tA function to call when state changes. Gets passed the new state.\n         * @returns {Function} unsubscribe()\n         */\n        subscribe(listener) {\n            listeners.push(listener);\n            return () => {\n                unsubscribe(listener);\n            };\n        },\n        // /**\n        //  * Remove a previously-registered listener function.\n        //  * @param {Function} listener\tThe callback previously passed to `subscribe()` that should be removed.\n        //  * @function\n        //  */\n        // unsubscribe,\n    };\n};\n","import { createStore } from \"./store.js\";\n// Time to wait to unsubscribe from updates after last subscriber unsubscribes\nconst UNSUB_GRACE_PERIOD = 5000; // 5 seconds\nconst DEBUG = false;\n/**\n *\n * @param conn connection\n * @param key the key to store it on the connection. Must be unique for each collection.\n * @param fetchCollection fetch the current state. If undefined assumes subscribeUpdates receives current state\n * @param subscribeUpdates subscribe to updates on the current state\n * @returns\n */\nexport const getCollection = (conn, key, fetchCollection, subscribeUpdates, options = { unsubGrace: true }) => {\n    // @ts-ignore\n    if (conn[key]) {\n        // @ts-ignore\n        return conn[key];\n    }\n    let active = 0;\n    let unsubProm;\n    let unsubTimer;\n    let store = createStore();\n    const refresh = () => {\n        if (!fetchCollection) {\n            throw new Error(\"Collection does not support refresh\");\n        }\n        return fetchCollection(conn).then((state) => store.setState(state, true));\n    };\n    const refreshSwallow = () => refresh().catch((err) => {\n        // Swallow errors if socket is connecting, closing or closed.\n        // We will automatically call refresh again when we re-establish the connection.\n        if (conn.connected) {\n            throw err;\n        }\n    });\n    const setupUpdateSubscription = () => {\n        if (unsubTimer !== undefined) {\n            if (DEBUG) {\n                console.log(`Prevented unsubscribe for ${key}`);\n            }\n            clearTimeout(unsubTimer);\n            unsubTimer = undefined;\n            return;\n        }\n        if (DEBUG) {\n            console.log(`Subscribing to ${key}`);\n        }\n        if (subscribeUpdates) {\n            unsubProm = subscribeUpdates(conn, store);\n        }\n        if (fetchCollection) {\n            // Fetch when connection re-established.\n            conn.addEventListener(\"ready\", refreshSwallow);\n            refreshSwallow();\n        }\n        conn.addEventListener(\"disconnected\", handleDisconnect);\n    };\n    const teardownUpdateSubscription = () => {\n        if (DEBUG) {\n            console.log(`Unsubscribing from ${key}`);\n        }\n        unsubTimer = undefined;\n        // Unsubscribe from changes\n        if (unsubProm)\n            unsubProm.then((unsub) => {\n                unsub();\n            });\n        store.clearState();\n        conn.removeEventListener(\"ready\", refresh);\n        conn.removeEventListener(\"disconnected\", handleDisconnect);\n    };\n    const scheduleTeardownUpdateSubscription = () => {\n        if (DEBUG) {\n            console.log(`Scheduling unsubscribing from ${key}`);\n        }\n        unsubTimer = setTimeout(teardownUpdateSubscription, UNSUB_GRACE_PERIOD);\n    };\n    const handleDisconnect = () => {\n        // If we're going to unsubscribe and then lose connection,\n        // just unsubscribe immediately.\n        if (unsubTimer) {\n            clearTimeout(unsubTimer);\n            teardownUpdateSubscription();\n        }\n    };\n    // @ts-ignore\n    conn[key] = {\n        get state() {\n            return store.state;\n        },\n        refresh,\n        subscribe(subscriber) {\n            active++;\n            if (DEBUG) {\n                console.log(`New subscriber for ${key}. Active subscribers: ${active}`);\n            }\n            // If this was the first subscriber, attach collection\n            if (active === 1) {\n                setupUpdateSubscription();\n            }\n            const unsub = store.subscribe(subscriber);\n            if (store.state !== undefined) {\n                // Don't call it right away so that caller has time\n                // to initialize all the things.\n                setTimeout(() => subscriber(store.state), 0);\n            }\n            return () => {\n                unsub();\n                active--;\n                if (DEBUG) {\n                    console.log(`Unsubscribe for ${key}. Active subscribers: ${active}`);\n                }\n                if (!active) {\n                    options.unsubGrace\n                        ? scheduleTeardownUpdateSubscription()\n                        : teardownUpdateSubscription();\n                }\n            };\n        },\n    };\n    // @ts-ignore\n    return conn[key];\n};\n// Legacy name. It gets a collection and subscribes.\nexport const createCollection = (key, fetchCollection, subscribeUpdates, conn, onChange) => getCollection(conn, key, fetchCollection, subscribeUpdates).subscribe(onChange);\n","import * as messages from \"./messages.js\";\nexport const getStates = (connection) => connection.sendMessagePromise(messages.states());\nexport const getServices = (connection) => connection.sendMessagePromise(messages.services());\nexport const getConfig = (connection) => connection.sendMessagePromise(messages.config());\nexport const getUser = (connection) => connection.sendMessagePromise(messages.user());\nexport const callService = (connection, domain, service, serviceData, target, returnResponse) => connection.sendMessagePromise(messages.callService(domain, service, serviceData, target, returnResponse));\n","import { getCollection } from \"./collection.js\";\nimport { getStates } from \"./commands.js\";\nimport { atLeastHaVersion } from \"./util.js\";\nfunction processEvent(store, updates) {\n    const state = Object.assign({}, store.state);\n    if (updates.a) {\n        for (const entityId in updates.a) {\n            const newState = updates.a[entityId];\n            let last_changed = new Date(newState.lc * 1000).toISOString();\n            state[entityId] = {\n                entity_id: entityId,\n                state: newState.s,\n                attributes: newState.a,\n                context: typeof newState.c === \"string\"\n                    ? { id: newState.c, parent_id: null, user_id: null }\n                    : newState.c,\n                last_changed: last_changed,\n                last_updated: newState.lu\n                    ? new Date(newState.lu * 1000).toISOString()\n                    : last_changed,\n            };\n        }\n    }\n    if (updates.r) {\n        for (const entityId of updates.r) {\n            delete state[entityId];\n        }\n    }\n    if (updates.c) {\n        for (const entityId in updates.c) {\n            let entityState = state[entityId];\n            if (!entityState) {\n                console.warn(\"Received state update for unknown entity\", entityId);\n                continue;\n            }\n            entityState = Object.assign({}, entityState);\n            const { \"+\": toAdd, \"-\": toRemove } = updates.c[entityId];\n            const attributesChanged = (toAdd === null || toAdd === void 0 ? void 0 : toAdd.a) || (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a);\n            const attributes = attributesChanged\n                ? Object.assign({}, entityState.attributes) : entityState.attributes;\n            if (toAdd) {\n                if (toAdd.s !== undefined) {\n                    entityState.state = toAdd.s;\n                }\n                if (toAdd.c) {\n                    if (typeof toAdd.c === \"string\") {\n                        entityState.context = Object.assign(Object.assign({}, entityState.context), { id: toAdd.c });\n                    }\n                    else {\n                        entityState.context = Object.assign(Object.assign({}, entityState.context), toAdd.c);\n                    }\n                }\n                if (toAdd.lc) {\n                    entityState.last_updated = entityState.last_changed = new Date(toAdd.lc * 1000).toISOString();\n                }\n                else if (toAdd.lu) {\n                    entityState.last_updated = new Date(toAdd.lu * 1000).toISOString();\n                }\n                if (toAdd.a) {\n                    Object.assign(attributes, toAdd.a);\n                }\n            }\n            if (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a) {\n                for (const key of toRemove.a) {\n                    delete attributes[key];\n                }\n            }\n            if (attributesChanged) {\n                entityState.attributes = attributes;\n            }\n            state[entityId] = entityState;\n        }\n    }\n    store.setState(state, true);\n}\nconst subscribeUpdates = (conn, store) => conn.subscribeMessage((ev) => processEvent(store, ev), {\n    type: \"subscribe_entities\",\n});\nfunction legacyProcessEvent(store, event) {\n    const state = store.state;\n    if (state === undefined)\n        return;\n    const { entity_id, new_state } = event.data;\n    if (new_state) {\n        store.setState({ [new_state.entity_id]: new_state });\n    }\n    else {\n        const newEntities = Object.assign({}, state);\n        delete newEntities[entity_id];\n        store.setState(newEntities, true);\n    }\n}\nasync function legacyFetchEntities(conn) {\n    const states = await getStates(conn);\n    const entities = {};\n    for (let i = 0; i < states.length; i++) {\n        const state = states[i];\n        entities[state.entity_id] = state;\n    }\n    return entities;\n}\nconst legacySubscribeUpdates = (conn, store) => conn.subscribeEvents((ev) => legacyProcessEvent(store, ev), \"state_changed\");\nexport const entitiesColl = (conn) => atLeastHaVersion(conn.haVersion, 2022, 4, 0)\n    ? getCollection(conn, \"_ent\", undefined, subscribeUpdates)\n    : getCollection(conn, \"_ent\", legacyFetchEntities, legacySubscribeUpdates);\nexport const subscribeEntities = (conn, onChange) => entitiesColl(conn).subscribe(onChange);\n","const ALIAS = Symbol.for('yaml.alias');\nconst DOC = Symbol.for('yaml.document');\nconst MAP = Symbol.for('yaml.map');\nconst PAIR = Symbol.for('yaml.pair');\nconst SCALAR = Symbol.for('yaml.scalar');\nconst SEQ = Symbol.for('yaml.seq');\nconst NODE_TYPE = Symbol.for('yaml.node.type');\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\nconst isScalar = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR;\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\nfunction isCollection(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case MAP:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nfunction isNode(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case ALIAS:\n            case MAP:\n            case SCALAR:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nconst hasAnchor = (node) => (isScalar(node) || isCollection(node)) && !!node.anchor;\n\nexport { ALIAS, DOC, MAP, NODE_TYPE, PAIR, SCALAR, SEQ, hasAnchor, isAlias, isCollection, isDocument, isMap, isNode, isPair, isScalar, isSeq };\n","import { isDocument, isNode, isPair, isCollection, isMap, isSeq, isScalar, isAlias } from './nodes/identity.js';\n\nconst BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove node');\n/**\n * Apply a visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nfunction visit(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        visit_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisit.SKIP = SKIP;\n/** Remove the current node */\nvisit.REMOVE = REMOVE;\nfunction visit_(key, node, visitor, path) {\n    const ctrl = callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visit_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = visit_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = visit_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = visit_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\n/**\n * Apply an async visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `Promise`: Must resolve to one of the following values\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nasync function visitAsync(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisitAsync.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisitAsync.SKIP = SKIP;\n/** Remove the current node */\nvisitAsync.REMOVE = REMOVE;\nasync function visitAsync_(key, node, visitor, path) {\n    const ctrl = await callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visitAsync_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = await visitAsync_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = await visitAsync_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\nfunction initVisitor(visitor) {\n    if (typeof visitor === 'object' &&\n        (visitor.Collection || visitor.Node || visitor.Value)) {\n        return Object.assign({\n            Alias: visitor.Node,\n            Map: visitor.Node,\n            Scalar: visitor.Node,\n            Seq: visitor.Node\n        }, visitor.Value && {\n            Map: visitor.Value,\n            Scalar: visitor.Value,\n            Seq: visitor.Value\n        }, visitor.Collection && {\n            Map: visitor.Collection,\n            Seq: visitor.Collection\n        }, visitor);\n    }\n    return visitor;\n}\nfunction callVisitor(key, node, visitor, path) {\n    if (typeof visitor === 'function')\n        return visitor(key, node, path);\n    if (isMap(node))\n        return visitor.Map?.(key, node, path);\n    if (isSeq(node))\n        return visitor.Seq?.(key, node, path);\n    if (isPair(node))\n        return visitor.Pair?.(key, node, path);\n    if (isScalar(node))\n        return visitor.Scalar?.(key, node, path);\n    if (isAlias(node))\n        return visitor.Alias?.(key, node, path);\n    return undefined;\n}\nfunction replaceNode(key, path, node) {\n    const parent = path[path.length - 1];\n    if (isCollection(parent)) {\n        parent.items[key] = node;\n    }\n    else if (isPair(parent)) {\n        if (key === 'key')\n            parent.key = node;\n        else\n            parent.value = node;\n    }\n    else if (isDocument(parent)) {\n        parent.contents = node;\n    }\n    else {\n        const pt = isAlias(parent) ? 'alias' : 'scalar';\n        throw new Error(`Cannot replace node with ${pt} parent`);\n    }\n}\n\nexport { visit, visitAsync };\n","import { isNode } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\nconst escapeChars = {\n    '!': '%21',\n    ',': '%2C',\n    '[': '%5B',\n    ']': '%5D',\n    '{': '%7B',\n    '}': '%7D'\n};\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\nclass Directives {\n    constructor(yaml, tags) {\n        /**\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\n         * included in the document's stringified representation.\n         */\n        this.docStart = null;\n        /** The doc-end marker `...`.  */\n        this.docEnd = false;\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\n    }\n    clone() {\n        const copy = new Directives(this.yaml, this.tags);\n        copy.docStart = this.docStart;\n        return copy;\n    }\n    /**\n     * During parsing, get a Directives instance for the current document and\n     * update the stream state according to the current version's spec.\n     */\n    atDocument() {\n        const res = new Directives(this.yaml, this.tags);\n        switch (this.yaml.version) {\n            case '1.1':\n                this.atNextDocument = true;\n                break;\n            case '1.2':\n                this.atNextDocument = false;\n                this.yaml = {\n                    explicit: Directives.defaultYaml.explicit,\n                    version: '1.2'\n                };\n                this.tags = Object.assign({}, Directives.defaultTags);\n                break;\n        }\n        return res;\n    }\n    /**\n     * @param onError - May be called even if the action was successful\n     * @returns `true` on success\n     */\n    add(line, onError) {\n        if (this.atNextDocument) {\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\n            this.tags = Object.assign({}, Directives.defaultTags);\n            this.atNextDocument = false;\n        }\n        const parts = line.trim().split(/[ \\t]+/);\n        const name = parts.shift();\n        switch (name) {\n            case '%TAG': {\n                if (parts.length !== 2) {\n                    onError(0, '%TAG directive should contain exactly two parts');\n                    if (parts.length < 2)\n                        return false;\n                }\n                const [handle, prefix] = parts;\n                this.tags[handle] = prefix;\n                return true;\n            }\n            case '%YAML': {\n                this.yaml.explicit = true;\n                if (parts.length !== 1) {\n                    onError(0, '%YAML directive should contain exactly one part');\n                    return false;\n                }\n                const [version] = parts;\n                if (version === '1.1' || version === '1.2') {\n                    this.yaml.version = version;\n                    return true;\n                }\n                else {\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\n                    return false;\n                }\n            }\n            default:\n                onError(0, `Unknown directive ${name}`, true);\n                return false;\n        }\n    }\n    /**\n     * Resolves a tag, matching handles to those defined in %TAG directives.\n     *\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\n     *   `'!local'` tag, or `null` if unresolvable.\n     */\n    tagName(source, onError) {\n        if (source === '!')\n            return '!'; // non-specific tag\n        if (source[0] !== '!') {\n            onError(`Not a valid tag: ${source}`);\n            return null;\n        }\n        if (source[1] === '<') {\n            const verbatim = source.slice(2, -1);\n            if (verbatim === '!' || verbatim === '!!') {\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\n                return null;\n            }\n            if (source[source.length - 1] !== '>')\n                onError('Verbatim tags must end with a >');\n            return verbatim;\n        }\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/s);\n        if (!suffix)\n            onError(`The ${source} tag has no suffix`);\n        const prefix = this.tags[handle];\n        if (prefix) {\n            try {\n                return prefix + decodeURIComponent(suffix);\n            }\n            catch (error) {\n                onError(String(error));\n                return null;\n            }\n        }\n        if (handle === '!')\n            return source; // local tag\n        onError(`Could not resolve tag: ${source}`);\n        return null;\n    }\n    /**\n     * Given a fully resolved tag, returns its printable string form,\n     * taking into account current tag prefixes and defaults.\n     */\n    tagString(tag) {\n        for (const [handle, prefix] of Object.entries(this.tags)) {\n            if (tag.startsWith(prefix))\n                return handle + escapeTagName(tag.substring(prefix.length));\n        }\n        return tag[0] === '!' ? tag : `!<${tag}>`;\n    }\n    toString(doc) {\n        const lines = this.yaml.explicit\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\n            : [];\n        const tagEntries = Object.entries(this.tags);\n        let tagNames;\n        if (doc && tagEntries.length > 0 && isNode(doc.contents)) {\n            const tags = {};\n            visit(doc.contents, (_key, node) => {\n                if (isNode(node) && node.tag)\n                    tags[node.tag] = true;\n            });\n            tagNames = Object.keys(tags);\n        }\n        else\n            tagNames = [];\n        for (const [handle, prefix] of tagEntries) {\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\n                continue;\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\n                lines.push(`%TAG ${handle} ${prefix}`);\n        }\n        return lines.join('\\n');\n    }\n}\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\n\nexport { Directives };\n","import { isScalar, isCollection } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\n/**\n * Verify that the input string is a valid anchor.\n *\n * Will throw on errors.\n */\nfunction anchorIsValid(anchor) {\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\n        const sa = JSON.stringify(anchor);\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\n        throw new Error(msg);\n    }\n    return true;\n}\nfunction anchorNames(root) {\n    const anchors = new Set();\n    visit(root, {\n        Value(_key, node) {\n            if (node.anchor)\n                anchors.add(node.anchor);\n        }\n    });\n    return anchors;\n}\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\nfunction findNewAnchor(prefix, exclude) {\n    for (let i = 1; true; ++i) {\n        const name = `${prefix}${i}`;\n        if (!exclude.has(name))\n            return name;\n    }\n}\nfunction createNodeAnchors(doc, prefix) {\n    const aliasObjects = [];\n    const sourceObjects = new Map();\n    let prevAnchors = null;\n    return {\n        onAnchor: (source) => {\n            aliasObjects.push(source);\n            if (!prevAnchors)\n                prevAnchors = anchorNames(doc);\n            const anchor = findNewAnchor(prefix, prevAnchors);\n            prevAnchors.add(anchor);\n            return anchor;\n        },\n        /**\n         * With circular references, the source node is only resolved after all\n         * of its child nodes are. This is why anchors are set only after all of\n         * the nodes have been created.\n         */\n        setAnchors: () => {\n            for (const source of aliasObjects) {\n                const ref = sourceObjects.get(source);\n                if (typeof ref === 'object' &&\n                    ref.anchor &&\n                    (isScalar(ref.node) || isCollection(ref.node))) {\n                    ref.node.anchor = ref.anchor;\n                }\n                else {\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\n                    error.source = source;\n                    throw error;\n                }\n            }\n        },\n        sourceObjects\n    };\n}\n\nexport { anchorIsValid, anchorNames, createNodeAnchors, findNewAnchor };\n","/**\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\n *\n * Includes extensions for handling Map and Set objects.\n */\nfunction applyReviver(reviver, obj, key, val) {\n    if (val && typeof val === 'object') {\n        if (Array.isArray(val)) {\n            for (let i = 0, len = val.length; i < len; ++i) {\n                const v0 = val[i];\n                const v1 = applyReviver(reviver, val, String(i), v0);\n                if (v1 === undefined)\n                    delete val[i];\n                else if (v1 !== v0)\n                    val[i] = v1;\n            }\n        }\n        else if (val instanceof Map) {\n            for (const k of Array.from(val.keys())) {\n                const v0 = val.get(k);\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    val.delete(k);\n                else if (v1 !== v0)\n                    val.set(k, v1);\n            }\n        }\n        else if (val instanceof Set) {\n            for (const v0 of Array.from(val)) {\n                const v1 = applyReviver(reviver, val, v0, v0);\n                if (v1 === undefined)\n                    val.delete(v0);\n                else if (v1 !== v0) {\n                    val.delete(v0);\n                    val.add(v1);\n                }\n            }\n        }\n        else {\n            for (const [k, v0] of Object.entries(val)) {\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    delete val[k];\n                else if (v1 !== v0)\n                    val[k] = v1;\n            }\n        }\n    }\n    return reviver.call(obj, key, val);\n}\n\nexport { applyReviver };\n","import { hasAnchor } from './identity.js';\n\n/**\n * Recursively convert any node or its contents to native JavaScript\n *\n * @param value - The input value\n * @param arg - If `value` defines a `toJSON()` method, use this\n *   as its first argument\n * @param ctx - Conversion context, originally set in Document#toJS(). If\n *   `{ keep: true }` is not set, output should be suitable for JSON\n *   stringification.\n */\nfunction toJS(value, arg, ctx) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    if (Array.isArray(value))\n        return value.map((v, i) => toJS(v, String(i), ctx));\n    if (value && typeof value.toJSON === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        if (!ctx || !hasAnchor(value))\n            return value.toJSON(arg, ctx);\n        const data = { aliasCount: 0, count: 1, res: undefined };\n        ctx.anchors.set(value, data);\n        ctx.onCreate = res => {\n            data.res = res;\n            delete ctx.onCreate;\n        };\n        const res = value.toJSON(arg, ctx);\n        if (ctx.onCreate)\n            ctx.onCreate(res);\n        return res;\n    }\n    if (typeof value === 'bigint' && !ctx?.keep)\n        return Number(value);\n    return value;\n}\n\nexport { toJS };\n","import { applyReviver } from '../doc/applyReviver.js';\nimport { NODE_TYPE, isDocument } from './identity.js';\nimport { toJS } from './toJS.js';\n\nclass NodeBase {\n    constructor(type) {\n        Object.defineProperty(this, NODE_TYPE, { value: type });\n    }\n    /** Create a copy of this node.  */\n    clone() {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** A plain JavaScript representation of this node. */\n    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        if (!isDocument(doc))\n            throw new TypeError('A document argument is required');\n        const ctx = {\n            anchors: new Map(),\n            doc,\n            keep: true,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this, '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n}\n\nexport { NodeBase };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { visit } from '../visit.js';\nimport { ALIAS, isAlias, isCollection, isPair } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nclass Alias extends NodeBase {\n    constructor(source) {\n        super(ALIAS);\n        this.source = source;\n        Object.defineProperty(this, 'tag', {\n            set() {\n                throw new Error('Alias nodes cannot have tags');\n            }\n        });\n    }\n    /**\n     * Resolve the value of this alias within `doc`, finding the last\n     * instance of the `source` anchor before this node.\n     */\n    resolve(doc) {\n        let found = undefined;\n        visit(doc, {\n            Node: (_key, node) => {\n                if (node === this)\n                    return visit.BREAK;\n                if (node.anchor === this.source)\n                    found = node;\n            }\n        });\n        return found;\n    }\n    toJSON(_arg, ctx) {\n        if (!ctx)\n            return { source: this.source };\n        const { anchors, doc, maxAliasCount } = ctx;\n        const source = this.resolve(doc);\n        if (!source) {\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n            throw new ReferenceError(msg);\n        }\n        let data = anchors.get(source);\n        if (!data) {\n            // Resolve anchors for Node.prototype.toJS()\n            toJS(source, null, ctx);\n            data = anchors.get(source);\n        }\n        /* istanbul ignore if */\n        if (!data || data.res === undefined) {\n            const msg = 'This should not happen: Alias anchor was not resolved?';\n            throw new ReferenceError(msg);\n        }\n        if (maxAliasCount >= 0) {\n            data.count += 1;\n            if (data.aliasCount === 0)\n                data.aliasCount = getAliasCount(doc, source, anchors);\n            if (data.count * data.aliasCount > maxAliasCount) {\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\n                throw new ReferenceError(msg);\n            }\n        }\n        return data.res;\n    }\n    toString(ctx, _onComment, _onChompKeep) {\n        const src = `*${this.source}`;\n        if (ctx) {\n            anchorIsValid(this.source);\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n                throw new Error(msg);\n            }\n            if (ctx.implicitKey)\n                return `${src} `;\n        }\n        return src;\n    }\n}\nfunction getAliasCount(doc, node, anchors) {\n    if (isAlias(node)) {\n        const source = node.resolve(doc);\n        const anchor = anchors && source && anchors.get(source);\n        return anchor ? anchor.count * anchor.aliasCount : 0;\n    }\n    else if (isCollection(node)) {\n        let count = 0;\n        for (const item of node.items) {\n            const c = getAliasCount(doc, item, anchors);\n            if (c > count)\n                count = c;\n        }\n        return count;\n    }\n    else if (isPair(node)) {\n        const kc = getAliasCount(doc, node.key, anchors);\n        const vc = getAliasCount(doc, node.value, anchors);\n        return Math.max(kc, vc);\n    }\n    return 1;\n}\n\nexport { Alias };\n","import { SCALAR } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\nclass Scalar extends NodeBase {\n    constructor(value) {\n        super(SCALAR);\n        this.value = value;\n    }\n    toJSON(arg, ctx) {\n        return ctx?.keep ? this.value : toJS(this.value, arg, ctx);\n    }\n    toString() {\n        return String(this.value);\n    }\n}\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\nScalar.PLAIN = 'PLAIN';\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\n\nexport { Scalar, isScalarValue };\n","import { Alias } from '../nodes/Alias.js';\nimport { isNode, isPair, MAP, SEQ, isDocument } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\n\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\nfunction findTagObject(value, tagName, tags) {\n    if (tagName) {\n        const match = tags.filter(t => t.tag === tagName);\n        const tagObj = match.find(t => !t.format) ?? match[0];\n        if (!tagObj)\n            throw new Error(`Tag ${tagName} not found`);\n        return tagObj;\n    }\n    return tags.find(t => t.identify?.(value) && !t.format);\n}\nfunction createNode(value, tagName, ctx) {\n    if (isDocument(value))\n        value = value.contents;\n    if (isNode(value))\n        return value;\n    if (isPair(value)) {\n        const map = ctx.schema[MAP].createNode?.(ctx.schema, null, ctx);\n        map.items.push(value);\n        return map;\n    }\n    if (value instanceof String ||\n        value instanceof Number ||\n        value instanceof Boolean ||\n        (typeof BigInt !== 'undefined' && value instanceof BigInt) // not supported everywhere\n    ) {\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\n        value = value.valueOf();\n    }\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\n    // Detect duplicate references to the same object & use Alias nodes for all\n    // after first. The `ref` wrapper allows for circular references to resolve.\n    let ref = undefined;\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\n        ref = sourceObjects.get(value);\n        if (ref) {\n            if (!ref.anchor)\n                ref.anchor = onAnchor(value);\n            return new Alias(ref.anchor);\n        }\n        else {\n            ref = { anchor: null, node: null };\n            sourceObjects.set(value, ref);\n        }\n    }\n    if (tagName?.startsWith('!!'))\n        tagName = defaultTagPrefix + tagName.slice(2);\n    let tagObj = findTagObject(value, tagName, schema.tags);\n    if (!tagObj) {\n        if (value && typeof value.toJSON === 'function') {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            value = value.toJSON();\n        }\n        if (!value || typeof value !== 'object') {\n            const node = new Scalar(value);\n            if (ref)\n                ref.node = node;\n            return node;\n        }\n        tagObj =\n            value instanceof Map\n                ? schema[MAP]\n                : Symbol.iterator in Object(value)\n                    ? schema[SEQ]\n                    : schema[MAP];\n    }\n    if (onTagObj) {\n        onTagObj(tagObj);\n        delete ctx.onTagObj;\n    }\n    const node = tagObj?.createNode\n        ? tagObj.createNode(ctx.schema, value, ctx)\n        : typeof tagObj?.nodeClass?.from === 'function'\n            ? tagObj.nodeClass.from(ctx.schema, value, ctx)\n            : new Scalar(value);\n    if (tagName)\n        node.tag = tagName;\n    else if (!tagObj.default)\n        node.tag = tagObj.tag;\n    if (ref)\n        ref.node = node;\n    return node;\n}\n\nexport { createNode };\n","import { createNode } from '../doc/createNode.js';\nimport { isNode, isPair, isCollection, isScalar } from './identity.js';\nimport { NodeBase } from './Node.js';\n\nfunction collectionFromPath(schema, path, value) {\n    let v = value;\n    for (let i = path.length - 1; i >= 0; --i) {\n        const k = path[i];\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\n            const a = [];\n            a[k] = v;\n            v = a;\n        }\n        else {\n            v = new Map([[k, v]]);\n        }\n    }\n    return createNode(v, undefined, {\n        aliasDuplicateObjects: false,\n        keepUndefined: false,\n        onAnchor: () => {\n            throw new Error('This should not happen, please report a bug.');\n        },\n        schema,\n        sourceObjects: new Map()\n    });\n}\n// Type guard is intentionally a little wrong so as to be more useful,\n// as it does not cover untypable empty non-string iterables (e.g. []).\nconst isEmptyPath = (path) => path == null ||\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\nclass Collection extends NodeBase {\n    constructor(type, schema) {\n        super(type);\n        Object.defineProperty(this, 'schema', {\n            value: schema,\n            configurable: true,\n            enumerable: false,\n            writable: true\n        });\n    }\n    /**\n     * Create a copy of this collection.\n     *\n     * @param schema - If defined, overwrites the original's schema\n     */\n    clone(schema) {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (schema)\n            copy.schema = schema;\n        copy.items = copy.items.map(it => isNode(it) || isPair(it) ? it.clone(schema) : it);\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /**\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\n     * that already exists in the map.\n     */\n    addIn(path, value) {\n        if (isEmptyPath(path))\n            this.add(value);\n        else {\n            const [key, ...rest] = path;\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.addIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n    /**\n     * Removes a value from the collection.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.delete(key);\n        const node = this.get(key, true);\n        if (isCollection(node))\n            return node.deleteIn(rest);\n        else\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        const [key, ...rest] = path;\n        const node = this.get(key, true);\n        if (rest.length === 0)\n            return !keepScalar && isScalar(node) ? node.value : node;\n        else\n            return isCollection(node) ? node.getIn(rest, keepScalar) : undefined;\n    }\n    hasAllNullValues(allowScalar) {\n        return this.items.every(node => {\n            if (!isPair(node))\n                return false;\n            const n = node.value;\n            return (n == null ||\n                (allowScalar &&\n                    isScalar(n) &&\n                    n.value == null &&\n                    !n.commentBefore &&\n                    !n.comment &&\n                    !n.tag));\n        });\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     */\n    hasIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.has(key);\n        const node = this.get(key, true);\n        return isCollection(node) ? node.hasIn(rest) : false;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        const [key, ...rest] = path;\n        if (rest.length === 0) {\n            this.set(key, value);\n        }\n        else {\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.setIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n}\nCollection.maxFlowStringSingleLineLength = 60;\n\nexport { Collection, collectionFromPath, isEmptyPath };\n","/**\n * Stringifies a comment.\n *\n * Empty comment lines are left empty,\n * lines consisting of a single space are replaced by `#`,\n * and all other lines are prefixed with a `#`.\n */\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\nfunction indentComment(comment, indent) {\n    if (/^\\n+$/.test(comment))\n        return comment.substring(1);\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\n}\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\n    ? indentComment(comment, indent)\n    : comment.includes('\\n')\n        ? '\\n' + indentComment(comment, indent)\n        : (str.endsWith(' ') ? '' : ' ') + comment;\n\nexport { indentComment, lineComment, stringifyComment };\n","const FOLD_FLOW = 'flow';\nconst FOLD_BLOCK = 'block';\nconst FOLD_QUOTED = 'quoted';\n/**\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\n * terminated with `\\n` and started with `indent`.\n */\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\n    if (!lineWidth || lineWidth < 0)\n        return text;\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\n    if (text.length <= endStep)\n        return text;\n    const folds = [];\n    const escapedFolds = {};\n    let end = lineWidth - indent.length;\n    if (typeof indentAtStart === 'number') {\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\n            folds.push(0);\n        else\n            end = lineWidth - indentAtStart;\n    }\n    let split = undefined;\n    let prev = undefined;\n    let overflow = false;\n    let i = -1;\n    let escStart = -1;\n    let escEnd = -1;\n    if (mode === FOLD_BLOCK) {\n        i = consumeMoreIndentedLines(text, i, indent.length);\n        if (i !== -1)\n            end = i + endStep;\n    }\n    for (let ch; (ch = text[(i += 1)]);) {\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\n            escStart = i;\n            switch (text[i + 1]) {\n                case 'x':\n                    i += 3;\n                    break;\n                case 'u':\n                    i += 5;\n                    break;\n                case 'U':\n                    i += 9;\n                    break;\n                default:\n                    i += 1;\n            }\n            escEnd = i;\n        }\n        if (ch === '\\n') {\n            if (mode === FOLD_BLOCK)\n                i = consumeMoreIndentedLines(text, i, indent.length);\n            end = i + indent.length + endStep;\n            split = undefined;\n        }\n        else {\n            if (ch === ' ' &&\n                prev &&\n                prev !== ' ' &&\n                prev !== '\\n' &&\n                prev !== '\\t') {\n                // space surrounded by non-space can be replaced with newline + indent\n                const next = text[i + 1];\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\n                    split = i;\n            }\n            if (i >= end) {\n                if (split) {\n                    folds.push(split);\n                    end = split + endStep;\n                    split = undefined;\n                }\n                else if (mode === FOLD_QUOTED) {\n                    // white-space collected at end may stretch past lineWidth\n                    while (prev === ' ' || prev === '\\t') {\n                        prev = ch;\n                        ch = text[(i += 1)];\n                        overflow = true;\n                    }\n                    // Account for newline escape, but don't break preceding escape\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\n                    if (escapedFolds[j])\n                        return text;\n                    folds.push(j);\n                    escapedFolds[j] = true;\n                    end = j + endStep;\n                    split = undefined;\n                }\n                else {\n                    overflow = true;\n                }\n            }\n        }\n        prev = ch;\n    }\n    if (overflow && onOverflow)\n        onOverflow();\n    if (folds.length === 0)\n        return text;\n    if (onFold)\n        onFold();\n    let res = text.slice(0, folds[0]);\n    for (let i = 0; i < folds.length; ++i) {\n        const fold = folds[i];\n        const end = folds[i + 1] || text.length;\n        if (fold === 0)\n            res = `\\n${indent}${text.slice(0, end)}`;\n        else {\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\n                res += `${text[fold]}\\\\`;\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\n        }\n    }\n    return res;\n}\n/**\n * Presumes `i + 1` is at the start of a line\n * @returns index of last newline in more-indented block\n */\nfunction consumeMoreIndentedLines(text, i, indent) {\n    let end = i;\n    let start = i + 1;\n    let ch = text[start];\n    while (ch === ' ' || ch === '\\t') {\n        if (i < start + indent) {\n            ch = text[++i];\n        }\n        else {\n            do {\n                ch = text[++i];\n            } while (ch && ch !== '\\n');\n            end = i;\n            start = i + 1;\n            ch = text[start];\n        }\n    }\n    return end;\n}\n\nexport { FOLD_BLOCK, FOLD_FLOW, FOLD_QUOTED, foldFlowLines };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { foldFlowLines, FOLD_QUOTED, FOLD_FLOW, FOLD_BLOCK } from './foldFlowLines.js';\n\nconst getFoldOptions = (ctx, isBlock) => ({\n    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,\n    lineWidth: ctx.options.lineWidth,\n    minContentWidth: ctx.options.minContentWidth\n});\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\n// presume that's starting a new document.\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\n    if (!lineWidth || lineWidth < 0)\n        return false;\n    const limit = lineWidth - indentLength;\n    const strLen = str.length;\n    if (strLen <= limit)\n        return false;\n    for (let i = 0, start = 0; i < strLen; ++i) {\n        if (str[i] === '\\n') {\n            if (i - start > limit)\n                return true;\n            start = i + 1;\n            if (strLen - start <= limit)\n                return false;\n        }\n    }\n    return true;\n}\nfunction doubleQuotedString(value, ctx) {\n    const json = JSON.stringify(value);\n    if (ctx.options.doubleQuotedAsJSON)\n        return json;\n    const { implicitKey } = ctx;\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    let str = '';\n    let start = 0;\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\n            // space before newline needs to be escaped to not be folded\n            str += json.slice(start, i) + '\\\\ ';\n            i += 1;\n            start = i;\n            ch = '\\\\';\n        }\n        if (ch === '\\\\')\n            switch (json[i + 1]) {\n                case 'u':\n                    {\n                        str += json.slice(start, i);\n                        const code = json.substr(i + 2, 4);\n                        switch (code) {\n                            case '0000':\n                                str += '\\\\0';\n                                break;\n                            case '0007':\n                                str += '\\\\a';\n                                break;\n                            case '000b':\n                                str += '\\\\v';\n                                break;\n                            case '001b':\n                                str += '\\\\e';\n                                break;\n                            case '0085':\n                                str += '\\\\N';\n                                break;\n                            case '00a0':\n                                str += '\\\\_';\n                                break;\n                            case '2028':\n                                str += '\\\\L';\n                                break;\n                            case '2029':\n                                str += '\\\\P';\n                                break;\n                            default:\n                                if (code.substr(0, 2) === '00')\n                                    str += '\\\\x' + code.substr(2);\n                                else\n                                    str += json.substr(i, 6);\n                        }\n                        i += 5;\n                        start = i + 1;\n                    }\n                    break;\n                case 'n':\n                    if (implicitKey ||\n                        json[i + 2] === '\"' ||\n                        json.length < minMultiLineLength) {\n                        i += 1;\n                    }\n                    else {\n                        // folding will eat first newline\n                        str += json.slice(start, i) + '\\n\\n';\n                        while (json[i + 2] === '\\\\' &&\n                            json[i + 3] === 'n' &&\n                            json[i + 4] !== '\"') {\n                            str += '\\n';\n                            i += 2;\n                        }\n                        str += indent;\n                        // space after newline needs to be escaped to not be folded\n                        if (json[i + 2] === ' ')\n                            str += '\\\\';\n                        i += 1;\n                        start = i + 1;\n                    }\n                    break;\n                default:\n                    i += 1;\n            }\n    }\n    str = start ? str + json.slice(start) : json;\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx, false));\n}\nfunction singleQuotedString(value, ctx) {\n    if (ctx.options.singleQuote === false ||\n        (ctx.implicitKey && value.includes('\\n')) ||\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\n    )\n        return doubleQuotedString(value, ctx);\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\n    return ctx.implicitKey\n        ? res\n        : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction quotedString(value, ctx) {\n    const { singleQuote } = ctx.options;\n    let qs;\n    if (singleQuote === false)\n        qs = doubleQuotedString;\n    else {\n        const hasDouble = value.includes('\"');\n        const hasSingle = value.includes(\"'\");\n        if (hasDouble && !hasSingle)\n            qs = singleQuotedString;\n        else if (hasSingle && !hasDouble)\n            qs = doubleQuotedString;\n        else\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\n    }\n    return qs(value, ctx);\n}\n// The negative lookbehind avoids a polynomial search,\n// but isn't supported yet on Safari: https://caniuse.com/js-regexp-lookbehind\nlet blockEndNewlines;\ntry {\n    blockEndNewlines = new RegExp('(^|(?<!\\n))\\n+(?!\\n|$)', 'g');\n}\ncatch {\n    blockEndNewlines = /\\n+(?!\\n|$)/g;\n}\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\n    const { blockQuote, commentString, lineWidth } = ctx.options;\n    // 1. Block can't end in whitespace unless the last line is non-empty.\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\n    if (!blockQuote || /\\n[\\t ]+$/.test(value) || /^\\s*$/.test(value)) {\n        return quotedString(value, ctx);\n    }\n    const indent = ctx.indent ||\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\n    const literal = blockQuote === 'literal'\n        ? true\n        : blockQuote === 'folded' || type === Scalar.BLOCK_FOLDED\n            ? false\n            : type === Scalar.BLOCK_LITERAL\n                ? true\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\n    if (!value)\n        return literal ? '|\\n' : '>\\n';\n    // determine chomping from whitespace at value end\n    let chomp;\n    let endStart;\n    for (endStart = value.length; endStart > 0; --endStart) {\n        const ch = value[endStart - 1];\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\n            break;\n    }\n    let end = value.substring(endStart);\n    const endNlPos = end.indexOf('\\n');\n    if (endNlPos === -1) {\n        chomp = '-'; // strip\n    }\n    else if (value === end || endNlPos !== end.length - 1) {\n        chomp = '+'; // keep\n        if (onChompKeep)\n            onChompKeep();\n    }\n    else {\n        chomp = ''; // clip\n    }\n    if (end) {\n        value = value.slice(0, -end.length);\n        if (end[end.length - 1] === '\\n')\n            end = end.slice(0, -1);\n        end = end.replace(blockEndNewlines, `$&${indent}`);\n    }\n    // determine indent indicator from whitespace at value start\n    let startWithSpace = false;\n    let startEnd;\n    let startNlPos = -1;\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\n        const ch = value[startEnd];\n        if (ch === ' ')\n            startWithSpace = true;\n        else if (ch === '\\n')\n            startNlPos = startEnd;\n        else\n            break;\n    }\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\n    if (start) {\n        value = value.substring(start.length);\n        start = start.replace(/\\n+/g, `$&${indent}`);\n    }\n    const indentSize = indent ? '2' : '1'; // root is at -1\n    let header = (literal ? '|' : '>') + (startWithSpace ? indentSize : '') + chomp;\n    if (comment) {\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\n        if (onComment)\n            onComment();\n    }\n    if (literal) {\n        value = value.replace(/\\n+/g, `$&${indent}`);\n        return `${header}\\n${indent}${start}${value}${end}`;\n    }\n    value = value\n        .replace(/\\n+/g, '\\n$&')\n        .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\n        //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\n        .replace(/\\n+/g, `$&${indent}`);\n    const body = foldFlowLines(`${start}${value}${end}`, indent, FOLD_BLOCK, getFoldOptions(ctx, true));\n    return `${header}\\n${indent}${body}`;\n}\nfunction plainString(item, ctx, onComment, onChompKeep) {\n    const { type, value } = item;\n    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;\n    if ((implicitKey && value.includes('\\n')) ||\n        (inFlow && /[[\\]{},]/.test(value))) {\n        return quotedString(value, ctx);\n    }\n    if (!value ||\n        /^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\n        // not allowed:\n        // - empty string, '-' or '?'\n        // - start with an indicator character (except [?:-]) or /[?-] /\n        // - '\\n ', ': ' or ' \\n' anywhere\n        // - '#' not preceded by a non-space char\n        // - end with ' ' or ':'\n        return implicitKey || inFlow || !value.includes('\\n')\n            ? quotedString(value, ctx)\n            : blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (!implicitKey &&\n        !inFlow &&\n        type !== Scalar.PLAIN &&\n        value.includes('\\n')) {\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\n        return blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (containsDocumentMarker(value)) {\n        if (indent === '') {\n            ctx.forceBlockIndent = true;\n            return blockString(item, ctx, onComment, onChompKeep);\n        }\n        else if (implicitKey && indent === indentStep) {\n            return quotedString(value, ctx);\n        }\n    }\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\n    // and others in v1.1.\n    if (actualString) {\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\n        const { compat, tags } = ctx.doc.schema;\n        if (tags.some(test) || compat?.some(test))\n            return quotedString(value, ctx);\n    }\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\n    const { implicitKey, inFlow } = ctx;\n    const ss = typeof item.value === 'string'\n        ? item\n        : Object.assign({}, item, { value: String(item.value) });\n    let { type } = item;\n    if (type !== Scalar.QUOTE_DOUBLE) {\n        // force double quotes on control characters & unpaired surrogates\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\n            type = Scalar.QUOTE_DOUBLE;\n    }\n    const _stringify = (_type) => {\n        switch (_type) {\n            case Scalar.BLOCK_FOLDED:\n            case Scalar.BLOCK_LITERAL:\n                return implicitKey || inFlow\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\n                    : blockString(ss, ctx, onComment, onChompKeep);\n            case Scalar.QUOTE_DOUBLE:\n                return doubleQuotedString(ss.value, ctx);\n            case Scalar.QUOTE_SINGLE:\n                return singleQuotedString(ss.value, ctx);\n            case Scalar.PLAIN:\n                return plainString(ss, ctx, onComment, onChompKeep);\n            default:\n                return null;\n        }\n    };\n    let res = _stringify(type);\n    if (res === null) {\n        const { defaultKeyType, defaultStringType } = ctx.options;\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\n        res = _stringify(t);\n        if (res === null)\n            throw new Error(`Unsupported default string type ${t}`);\n    }\n    return res;\n}\n\nexport { stringifyString };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { isPair, isAlias, isNode, isScalar, isCollection } from '../nodes/identity.js';\nimport { stringifyComment } from './stringifyComment.js';\nimport { stringifyString } from './stringifyString.js';\n\nfunction createStringifyContext(doc, options) {\n    const opt = Object.assign({\n        blockQuote: true,\n        commentString: stringifyComment,\n        defaultKeyType: null,\n        defaultStringType: 'PLAIN',\n        directives: null,\n        doubleQuotedAsJSON: false,\n        doubleQuotedMinMultiLineLength: 40,\n        falseStr: 'false',\n        flowCollectionPadding: true,\n        indentSeq: true,\n        lineWidth: 80,\n        minContentWidth: 20,\n        nullStr: 'null',\n        simpleKeys: false,\n        singleQuote: null,\n        trueStr: 'true',\n        verifyAliasOrder: true\n    }, doc.schema.toStringOptions, options);\n    let inFlow;\n    switch (opt.collectionStyle) {\n        case 'block':\n            inFlow = false;\n            break;\n        case 'flow':\n            inFlow = true;\n            break;\n        default:\n            inFlow = null;\n    }\n    return {\n        anchors: new Set(),\n        doc,\n        flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',\n        indent: '',\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\n        inFlow,\n        options: opt\n    };\n}\nfunction getTagObject(tags, item) {\n    if (item.tag) {\n        const match = tags.filter(t => t.tag === item.tag);\n        if (match.length > 0)\n            return match.find(t => t.format === item.format) ?? match[0];\n    }\n    let tagObj = undefined;\n    let obj;\n    if (isScalar(item)) {\n        obj = item.value;\n        const match = tags.filter(t => t.identify?.(obj));\n        tagObj =\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\n    }\n    else {\n        obj = item;\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\n    }\n    if (!tagObj) {\n        const name = obj?.constructor?.name ?? typeof obj;\n        throw new Error(`Tag not resolved for ${name} value`);\n    }\n    return tagObj;\n}\n// needs to be called before value stringifier to allow for circular anchor refs\nfunction stringifyProps(node, tagObj, { anchors, doc }) {\n    if (!doc.directives)\n        return '';\n    const props = [];\n    const anchor = (isScalar(node) || isCollection(node)) && node.anchor;\n    if (anchor && anchorIsValid(anchor)) {\n        anchors.add(anchor);\n        props.push(`&${anchor}`);\n    }\n    const tag = node.tag ? node.tag : tagObj.default ? null : tagObj.tag;\n    if (tag)\n        props.push(doc.directives.tagString(tag));\n    return props.join(' ');\n}\nfunction stringify(item, ctx, onComment, onChompKeep) {\n    if (isPair(item))\n        return item.toString(ctx, onComment, onChompKeep);\n    if (isAlias(item)) {\n        if (ctx.doc.directives)\n            return item.toString(ctx);\n        if (ctx.resolvedAliases?.has(item)) {\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\n        }\n        else {\n            if (ctx.resolvedAliases)\n                ctx.resolvedAliases.add(item);\n            else\n                ctx.resolvedAliases = new Set([item]);\n            item = item.resolve(ctx.doc);\n        }\n    }\n    let tagObj = undefined;\n    const node = isNode(item)\n        ? item\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\n    if (!tagObj)\n        tagObj = getTagObject(ctx.doc.schema.tags, node);\n    const props = stringifyProps(node, tagObj, ctx);\n    if (props.length > 0)\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\n    const str = typeof tagObj.stringify === 'function'\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\n        : isScalar(node)\n            ? stringifyString(node, ctx, onComment, onChompKeep)\n            : node.toString(ctx, onComment, onChompKeep);\n    if (!props)\n        return str;\n    return isScalar(node) || str[0] === '{' || str[0] === '['\n        ? `${props} ${str}`\n        : `${props}\\n${ctx.indent}${str}`;\n}\n\nexport { createStringifyContext, stringify };\n","function debug(logLevel, ...messages) {\n    if (logLevel === 'debug')\n        console.log(...messages);\n}\nfunction warn(logLevel, warning) {\n    if (logLevel === 'debug' || logLevel === 'warn') {\n        // https://github.com/typescript-eslint/typescript-eslint/issues/7478\n        // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n        if (typeof process !== 'undefined' && process.emitWarning)\n            process.emitWarning(warning);\n        else\n            console.warn(warning);\n    }\n}\n\nexport { debug, warn };\n","import { warn } from '../log.js';\nimport { createStringifyContext } from '../stringify/stringify.js';\nimport { isAlias, isSeq, isScalar, isMap, isNode } from './identity.js';\nimport { Scalar } from './Scalar.js';\nimport { toJS } from './toJS.js';\n\nconst MERGE_KEY = '<<';\nfunction addPairToJSMap(ctx, map, { key, value }) {\n    if (ctx?.doc.schema.merge && isMergeKey(key)) {\n        value = isAlias(value) ? value.resolve(ctx.doc) : value;\n        if (isSeq(value))\n            for (const it of value.items)\n                mergeToJSMap(ctx, map, it);\n        else if (Array.isArray(value))\n            for (const it of value)\n                mergeToJSMap(ctx, map, it);\n        else\n            mergeToJSMap(ctx, map, value);\n    }\n    else {\n        const jsKey = toJS(key, '', ctx);\n        if (map instanceof Map) {\n            map.set(jsKey, toJS(value, jsKey, ctx));\n        }\n        else if (map instanceof Set) {\n            map.add(jsKey);\n        }\n        else {\n            const stringKey = stringifyKey(key, jsKey, ctx);\n            const jsValue = toJS(value, stringKey, ctx);\n            if (stringKey in map)\n                Object.defineProperty(map, stringKey, {\n                    value: jsValue,\n                    writable: true,\n                    enumerable: true,\n                    configurable: true\n                });\n            else\n                map[stringKey] = jsValue;\n        }\n    }\n    return map;\n}\nconst isMergeKey = (key) => key === MERGE_KEY ||\n    (isScalar(key) &&\n        key.value === MERGE_KEY &&\n        (!key.type || key.type === Scalar.PLAIN));\n// If the value associated with a merge key is a single mapping node, each of\n// its key/value pairs is inserted into the current mapping, unless the key\n// already exists in it. If the value associated with the merge key is a\n// sequence, then this sequence is expected to contain mapping nodes and each\n// of these nodes is merged in turn according to its order in the sequence.\n// Keys in mapping nodes earlier in the sequence override keys specified in\n// later mapping nodes. -- http://yaml.org/type/merge.html\nfunction mergeToJSMap(ctx, map, value) {\n    const source = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (!isMap(source))\n        throw new Error('Merge sources must be maps or map aliases');\n    const srcMap = source.toJSON(null, ctx, Map);\n    for (const [key, value] of srcMap) {\n        if (map instanceof Map) {\n            if (!map.has(key))\n                map.set(key, value);\n        }\n        else if (map instanceof Set) {\n            map.add(key);\n        }\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\n            Object.defineProperty(map, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    }\n    return map;\n}\nfunction stringifyKey(key, jsKey, ctx) {\n    if (jsKey === null)\n        return '';\n    if (typeof jsKey !== 'object')\n        return String(jsKey);\n    if (isNode(key) && ctx?.doc) {\n        const strCtx = createStringifyContext(ctx.doc, {});\n        strCtx.anchors = new Set();\n        for (const node of ctx.anchors.keys())\n            strCtx.anchors.add(node.anchor);\n        strCtx.inFlow = true;\n        strCtx.inStringifyKey = true;\n        const strKey = key.toString(strCtx);\n        if (!ctx.mapKeyWarned) {\n            let jsonStr = JSON.stringify(strKey);\n            if (jsonStr.length > 40)\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\n            warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\n            ctx.mapKeyWarned = true;\n        }\n        return strKey;\n    }\n    return JSON.stringify(jsKey);\n}\n\nexport { addPairToJSMap };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyPair } from '../stringify/stringifyPair.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { NODE_TYPE, PAIR, isNode } from './identity.js';\n\nfunction createPair(key, value, ctx) {\n    const k = createNode(key, undefined, ctx);\n    const v = createNode(value, undefined, ctx);\n    return new Pair(k, v);\n}\nclass Pair {\n    constructor(key, value = null) {\n        Object.defineProperty(this, NODE_TYPE, { value: PAIR });\n        this.key = key;\n        this.value = value;\n    }\n    clone(schema) {\n        let { key, value } = this;\n        if (isNode(key))\n            key = key.clone(schema);\n        if (isNode(value))\n            value = value.clone(schema);\n        return new Pair(key, value);\n    }\n    toJSON(_, ctx) {\n        const pair = ctx?.mapAsMap ? new Map() : {};\n        return addPairToJSMap(ctx, pair, this);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        return ctx?.doc\n            ? stringifyPair(this, ctx, onComment, onChompKeep)\n            : JSON.stringify(this);\n    }\n}\n\nexport { Pair, createPair };\n","import { isCollection, isNode, isScalar, isSeq } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\n    let keyComment = (isNode(key) && key.comment) || null;\n    if (simpleKeys) {\n        if (keyComment) {\n            throw new Error('With simple keys, key nodes cannot have comments');\n        }\n        if (isCollection(key)) {\n            const msg = 'With simple keys, collection cannot be used as a key value';\n            throw new Error(msg);\n        }\n    }\n    let explicitKey = !simpleKeys &&\n        (!key ||\n            (keyComment && value == null && !ctx.inFlow) ||\n            isCollection(key) ||\n            (isScalar(key)\n                ? key.type === Scalar.BLOCK_FOLDED || key.type === Scalar.BLOCK_LITERAL\n                : typeof key === 'object'));\n    ctx = Object.assign({}, ctx, {\n        allNullValues: false,\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\n        indent: indent + indentStep\n    });\n    let keyCommentDone = false;\n    let chompKeep = false;\n    let str = stringify(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\n        if (simpleKeys)\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\n        explicitKey = true;\n    }\n    if (ctx.inFlow) {\n        if (allNullValues || value == null) {\n            if (keyCommentDone && onComment)\n                onComment();\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\n        }\n    }\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\n        str = `? ${str}`;\n        if (keyComment && !keyCommentDone) {\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        }\n        else if (chompKeep && onChompKeep)\n            onChompKeep();\n        return str;\n    }\n    if (keyCommentDone)\n        keyComment = null;\n    if (explicitKey) {\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        str = `? ${str}\\n${indent}:`;\n    }\n    else {\n        str = `${str}:`;\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n    }\n    let vsb, vcb, valueComment;\n    if (isNode(value)) {\n        vsb = !!value.spaceBefore;\n        vcb = value.commentBefore;\n        valueComment = value.comment;\n    }\n    else {\n        vsb = false;\n        vcb = null;\n        valueComment = null;\n        if (value && typeof value === 'object')\n            value = doc.createNode(value);\n    }\n    ctx.implicitKey = false;\n    if (!explicitKey && !keyComment && isScalar(value))\n        ctx.indentAtStart = str.length + 1;\n    chompKeep = false;\n    if (!indentSeq &&\n        indentStep.length >= 2 &&\n        !ctx.inFlow &&\n        !explicitKey &&\n        isSeq(value) &&\n        !value.flow &&\n        !value.tag &&\n        !value.anchor) {\n        // If indentSeq === false, consider '- ' as part of indentation where possible\n        ctx.indent = ctx.indent.substring(2);\n    }\n    let valueCommentDone = false;\n    const valueStr = stringify(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\n    let ws = ' ';\n    if (keyComment || vsb || vcb) {\n        ws = vsb ? '\\n' : '';\n        if (vcb) {\n            const cs = commentString(vcb);\n            ws += `\\n${indentComment(cs, ctx.indent)}`;\n        }\n        if (valueStr === '' && !ctx.inFlow) {\n            if (ws === '\\n')\n                ws = '\\n\\n';\n        }\n        else {\n            ws += `\\n${ctx.indent}`;\n        }\n    }\n    else if (!explicitKey && isCollection(value)) {\n        const vs0 = valueStr[0];\n        const nl0 = valueStr.indexOf('\\n');\n        const hasNewline = nl0 !== -1;\n        const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;\n        if (hasNewline || !flow) {\n            let hasPropsLine = false;\n            if (hasNewline && (vs0 === '&' || vs0 === '!')) {\n                let sp0 = valueStr.indexOf(' ');\n                if (vs0 === '&' &&\n                    sp0 !== -1 &&\n                    sp0 < nl0 &&\n                    valueStr[sp0 + 1] === '!') {\n                    sp0 = valueStr.indexOf(' ', sp0 + 1);\n                }\n                if (sp0 === -1 || nl0 < sp0)\n                    hasPropsLine = true;\n            }\n            if (!hasPropsLine)\n                ws = `\\n${ctx.indent}`;\n        }\n    }\n    else if (valueStr === '' || valueStr[0] === '\\n') {\n        ws = '';\n    }\n    str += ws + valueStr;\n    if (ctx.inFlow) {\n        if (valueCommentDone && onComment)\n            onComment();\n    }\n    else if (valueComment && !valueCommentDone) {\n        str += lineComment(str, ctx.indent, commentString(valueComment));\n    }\n    else if (chompKeep && onChompKeep) {\n        onChompKeep();\n    }\n    return str;\n}\n\nexport { stringifyPair };\n","import { isNode, isPair } from '../nodes/identity.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyCollection(collection, ctx, options) {\n    const flow = ctx.inFlow ?? collection.flow;\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\n    return stringify(collection, ctx, options);\n}\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\n    const { indent, options: { commentString } } = ctx;\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\n    let chompKeep = false; // flag for the preceding node's status\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (!chompKeep && item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (!chompKeep && ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\n            }\n        }\n        chompKeep = false;\n        let str = stringify(item, itemCtx, () => (comment = null), () => (chompKeep = true));\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (chompKeep && comment)\n            chompKeep = false;\n        lines.push(blockItemPrefix + str);\n    }\n    let str;\n    if (lines.length === 0) {\n        str = flowChars.start + flowChars.end;\n    }\n    else {\n        str = lines[0];\n        for (let i = 1; i < lines.length; ++i) {\n            const line = lines[i];\n            str += line ? `\\n${indent}${line}` : '\\n';\n        }\n    }\n    if (comment) {\n        str += '\\n' + indentComment(commentString(comment), indent);\n        if (onComment)\n            onComment();\n    }\n    else if (chompKeep && onChompKeep)\n        onChompKeep();\n    return str;\n}\nfunction stringifyFlowCollection({ items }, ctx, { flowChars, itemIndent }) {\n    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;\n    itemIndent += indentStep;\n    const itemCtx = Object.assign({}, ctx, {\n        indent: itemIndent,\n        inFlow: true,\n        type: null\n    });\n    let reqNewline = false;\n    let linesAtValue = 0;\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, false);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\n                if (ik.comment)\n                    reqNewline = true;\n            }\n            const iv = isNode(item.value) ? item.value : null;\n            if (iv) {\n                if (iv.comment)\n                    comment = iv.comment;\n                if (iv.commentBefore)\n                    reqNewline = true;\n            }\n            else if (item.value == null && ik?.comment) {\n                comment = ik.comment;\n            }\n        }\n        if (comment)\n            reqNewline = true;\n        let str = stringify(item, itemCtx, () => (comment = null));\n        if (i < items.length - 1)\n            str += ',';\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\n            reqNewline = true;\n        lines.push(str);\n        linesAtValue = lines.length;\n    }\n    const { start, end } = flowChars;\n    if (lines.length === 0) {\n        return start + end;\n    }\n    else {\n        if (!reqNewline) {\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\n            reqNewline = ctx.options.lineWidth > 0 && len > ctx.options.lineWidth;\n        }\n        if (reqNewline) {\n            let str = start;\n            for (const line of lines)\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\n            return `${str}\\n${indent}${end}`;\n        }\n        else {\n            return `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;\n        }\n    }\n}\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\n    if (comment && chompKeep)\n        comment = comment.replace(/^\\n+/, '');\n    if (comment) {\n        const ic = indentComment(commentString(comment), indent);\n        lines.push(ic.trimStart()); // Avoid double indent on first line\n    }\n}\n\nexport { stringifyCollection };\n","import { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { Collection } from './Collection.js';\nimport { isPair, isScalar, MAP } from './identity.js';\nimport { Pair, createPair } from './Pair.js';\nimport { isScalarValue } from './Scalar.js';\n\nfunction findPair(items, key) {\n    const k = isScalar(key) ? key.value : key;\n    for (const it of items) {\n        if (isPair(it)) {\n            if (it.key === key || it.key === k)\n                return it;\n            if (isScalar(it.key) && it.key.value === k)\n                return it;\n        }\n    }\n    return undefined;\n}\nclass YAMLMap extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:map';\n    }\n    constructor(schema) {\n        super(MAP, schema);\n        this.items = [];\n    }\n    /**\n     * A generic collection parsing method that can be extended\n     * to other node classes that inherit from YAMLMap\n     */\n    static from(schema, obj, ctx) {\n        const { keepUndefined, replacer } = ctx;\n        const map = new this(schema);\n        const add = (key, value) => {\n            if (typeof replacer === 'function')\n                value = replacer.call(obj, key, value);\n            else if (Array.isArray(replacer) && !replacer.includes(key))\n                return;\n            if (value !== undefined || keepUndefined)\n                map.items.push(createPair(key, value, ctx));\n        };\n        if (obj instanceof Map) {\n            for (const [key, value] of obj)\n                add(key, value);\n        }\n        else if (obj && typeof obj === 'object') {\n            for (const key of Object.keys(obj))\n                add(key, obj[key]);\n        }\n        if (typeof schema.sortMapEntries === 'function') {\n            map.items.sort(schema.sortMapEntries);\n        }\n        return map;\n    }\n    /**\n     * Adds a value to the collection.\n     *\n     * @param overwrite - If not set `true`, using a key that is already in the\n     *   collection will throw. Otherwise, overwrites the previous value.\n     */\n    add(pair, overwrite) {\n        let _pair;\n        if (isPair(pair))\n            _pair = pair;\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\n            // In TypeScript, this never happens.\n            _pair = new Pair(pair, pair?.value);\n        }\n        else\n            _pair = new Pair(pair.key, pair.value);\n        const prev = findPair(this.items, _pair.key);\n        const sortEntries = this.schema?.sortMapEntries;\n        if (prev) {\n            if (!overwrite)\n                throw new Error(`Key ${_pair.key} already set`);\n            // For scalars, keep the old node & its comments and anchors\n            if (isScalar(prev.value) && isScalarValue(_pair.value))\n                prev.value.value = _pair.value;\n            else\n                prev.value = _pair.value;\n        }\n        else if (sortEntries) {\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\n            if (i === -1)\n                this.items.push(_pair);\n            else\n                this.items.splice(i, 0, _pair);\n        }\n        else {\n            this.items.push(_pair);\n        }\n    }\n    delete(key) {\n        const it = findPair(this.items, key);\n        if (!it)\n            return false;\n        const del = this.items.splice(this.items.indexOf(it), 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const it = findPair(this.items, key);\n        const node = it?.value;\n        return (!keepScalar && isScalar(node) ? node.value : node) ?? undefined;\n    }\n    has(key) {\n        return !!findPair(this.items, key);\n    }\n    set(key, value) {\n        this.add(new Pair(key, value), true);\n    }\n    /**\n     * @param ctx - Conversion context, originally set in Document#toJS()\n     * @param {Class} Type - If set, forces the returned collection type\n     * @returns Instance of Type, Map, or Object\n     */\n    toJSON(_, ctx, Type) {\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const item of this.items)\n            addPairToJSMap(ctx, map, item);\n        return map;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        for (const item of this.items) {\n            if (!isPair(item))\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\n        }\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\n            ctx = Object.assign({}, ctx, { allNullValues: true });\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '',\n            flowChars: { start: '{', end: '}' },\n            itemIndent: ctx.indent || '',\n            onChompKeep,\n            onComment\n        });\n    }\n}\n\nexport { YAMLMap, findPair };\n","import { isMap } from '../../nodes/identity.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\n\nconst map = {\n    collection: 'map',\n    default: true,\n    nodeClass: YAMLMap,\n    tag: 'tag:yaml.org,2002:map',\n    resolve(map, onError) {\n        if (!isMap(map))\n            onError('Expected a mapping for this tag');\n        return map;\n    },\n    createNode: (schema, obj, ctx) => YAMLMap.from(schema, obj, ctx)\n};\n\nexport { map };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { Collection } from './Collection.js';\nimport { SEQ, isScalar } from './identity.js';\nimport { isScalarValue } from './Scalar.js';\nimport { toJS } from './toJS.js';\n\nclass YAMLSeq extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:seq';\n    }\n    constructor(schema) {\n        super(SEQ, schema);\n        this.items = [];\n    }\n    add(value) {\n        this.items.push(value);\n    }\n    /**\n     * Removes a value from the collection.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     *\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return false;\n        const del = this.items.splice(idx, 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return undefined;\n        const it = this.items[idx];\n        return !keepScalar && isScalar(it) ? it.value : it;\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     */\n    has(key) {\n        const idx = asItemIndex(key);\n        return typeof idx === 'number' && idx < this.items.length;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     *\n     * If `key` does not contain a representation of an integer, this will throw.\n     * It may be wrapped in a `Scalar`.\n     */\n    set(key, value) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            throw new Error(`Expected a valid index, not ${key}.`);\n        const prev = this.items[idx];\n        if (isScalar(prev) && isScalarValue(value))\n            prev.value = value;\n        else\n            this.items[idx] = value;\n    }\n    toJSON(_, ctx) {\n        const seq = [];\n        if (ctx?.onCreate)\n            ctx.onCreate(seq);\n        let i = 0;\n        for (const item of this.items)\n            seq.push(toJS(item, String(i++), ctx));\n        return seq;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '- ',\n            flowChars: { start: '[', end: ']' },\n            itemIndent: (ctx.indent || '') + '  ',\n            onChompKeep,\n            onComment\n        });\n    }\n    static from(schema, obj, ctx) {\n        const { replacer } = ctx;\n        const seq = new this(schema);\n        if (obj && Symbol.iterator in Object(obj)) {\n            let i = 0;\n            for (let it of obj) {\n                if (typeof replacer === 'function') {\n                    const key = obj instanceof Set ? it : String(i++);\n                    it = replacer.call(obj, key, it);\n                }\n                seq.items.push(createNode(it, undefined, ctx));\n            }\n        }\n        return seq;\n    }\n}\nfunction asItemIndex(key) {\n    let idx = isScalar(key) ? key.value : key;\n    if (idx && typeof idx === 'string')\n        idx = Number(idx);\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\n        ? idx\n        : null;\n}\n\nexport { YAMLSeq };\n","import { isSeq } from '../../nodes/identity.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nconst seq = {\n    collection: 'seq',\n    default: true,\n    nodeClass: YAMLSeq,\n    tag: 'tag:yaml.org,2002:seq',\n    resolve(seq, onError) {\n        if (!isSeq(seq))\n            onError('Expected a sequence for this tag');\n        return seq;\n    },\n    createNode: (schema, obj, ctx) => YAMLSeq.from(schema, obj, ctx)\n};\n\nexport { seq };\n","import { stringifyString } from '../../stringify/stringifyString.js';\n\nconst string = {\n    identify: value => typeof value === 'string',\n    default: true,\n    tag: 'tag:yaml.org,2002:str',\n    resolve: str => str,\n    stringify(item, ctx, onComment, onChompKeep) {\n        ctx = Object.assign({ actualString: true }, ctx);\n        return stringifyString(item, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { string };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst nullTag = {\n    identify: value => value == null,\n    createNode: () => new Scalar(null),\n    default: true,\n    tag: 'tag:yaml.org,2002:null',\n    test: /^(?:~|[Nn]ull|NULL)?$/,\n    resolve: () => new Scalar(null),\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\n        ? source\n        : ctx.options.nullStr\n};\n\nexport { nullTag };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst boolTag = {\n    identify: value => typeof value === 'boolean',\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\n    resolve: str => new Scalar(str[0] === 't' || str[0] === 'T'),\n    stringify({ source, value }, ctx) {\n        if (source && boolTag.test.test(source)) {\n            const sv = source[0] === 't' || source[0] === 'T';\n            if (value === sv)\n                return source;\n        }\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\n    }\n};\n\nexport { boolTag };\n","function stringifyNumber({ format, minFractionDigits, tag, value }) {\n    if (typeof value === 'bigint')\n        return String(value);\n    const num = typeof value === 'number' ? value : Number(value);\n    if (!isFinite(num))\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\n    let n = JSON.stringify(value);\n    if (!format &&\n        minFractionDigits &&\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\n        /^\\d/.test(n)) {\n        let i = n.indexOf('.');\n        if (i < 0) {\n            i = n.length;\n            n += '.';\n        }\n        let d = minFractionDigits - (n.length - i - 1);\n        while (d-- > 0)\n            n += '0';\n    }\n    return n;\n}\n\nexport { stringifyNumber };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN))$/,\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\n    resolve: str => parseFloat(str),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str));\n        const dot = str.indexOf('.');\n        if (dot !== -1 && str[str.length - 1] === '0')\n            node.minFractionDigits = str.length - dot - 1;\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nconst intResolve = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value) && value >= 0)\n        return prefix + value.toString(radix);\n    return stringifyNumber(node);\n}\nconst intOct = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^0o[0-7]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 8, opt),\n    stringify: node => intStringify(node, 8, '0o')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^0x[0-9a-fA-F]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intHex, intOct };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { boolTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intOct, int, intHex } from './int.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    boolTag,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float\n];\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { map } from '../common/map.js';\nimport { seq } from '../common/seq.js';\n\nfunction intIdentify(value) {\n    return typeof value === 'bigint' || Number.isInteger(value);\n}\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\nconst jsonScalars = [\n    {\n        identify: value => typeof value === 'string',\n        default: true,\n        tag: 'tag:yaml.org,2002:str',\n        resolve: str => str,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => value == null,\n        createNode: () => new Scalar(null),\n        default: true,\n        tag: 'tag:yaml.org,2002:null',\n        test: /^null$/,\n        resolve: () => null,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => typeof value === 'boolean',\n        default: true,\n        tag: 'tag:yaml.org,2002:bool',\n        test: /^true|false$/,\n        resolve: str => str === 'true',\n        stringify: stringifyJSON\n    },\n    {\n        identify: intIdentify,\n        default: true,\n        tag: 'tag:yaml.org,2002:int',\n        test: /^-?(?:0|[1-9][0-9]*)$/,\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\n        stringify: ({ value }) => intIdentify(value) ? value.toString() : JSON.stringify(value)\n    },\n    {\n        identify: value => typeof value === 'number',\n        default: true,\n        tag: 'tag:yaml.org,2002:float',\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\n        resolve: str => parseFloat(str),\n        stringify: stringifyJSON\n    }\n];\nconst jsonError = {\n    default: true,\n    tag: '',\n    test: /^/,\n    resolve(str, onError) {\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\n        return str;\n    }\n};\nconst schema = [map, seq].concat(jsonScalars, jsonError);\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyString } from '../../stringify/stringifyString.js';\n\nconst binary = {\n    identify: value => value instanceof Uint8Array, // Buffer inherits from Uint8Array\n    default: false,\n    tag: 'tag:yaml.org,2002:binary',\n    /**\n     * Returns a Buffer in node and an Uint8Array in browsers\n     *\n     * To use the resulting buffer as an image, you'll want to do something like:\n     *\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\n     */\n    resolve(src, onError) {\n        if (typeof Buffer === 'function') {\n            return Buffer.from(src, 'base64');\n        }\n        else if (typeof atob === 'function') {\n            // On IE 11, atob() can't handle newlines\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\n            const buffer = new Uint8Array(str.length);\n            for (let i = 0; i < str.length; ++i)\n                buffer[i] = str.charCodeAt(i);\n            return buffer;\n        }\n        else {\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\n            return src;\n        }\n    },\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\n        const buf = value; // checked earlier by binary.identify()\n        let str;\n        if (typeof Buffer === 'function') {\n            str =\n                buf instanceof Buffer\n                    ? buf.toString('base64')\n                    : Buffer.from(buf.buffer).toString('base64');\n        }\n        else if (typeof btoa === 'function') {\n            let s = '';\n            for (let i = 0; i < buf.length; ++i)\n                s += String.fromCharCode(buf[i]);\n            str = btoa(s);\n        }\n        else {\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\n        }\n        if (!type)\n            type = Scalar.BLOCK_LITERAL;\n        if (type !== Scalar.QUOTE_DOUBLE) {\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\n            const n = Math.ceil(str.length / lineWidth);\n            const lines = new Array(n);\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\n                lines[i] = str.substr(o, lineWidth);\n            }\n            str = lines.join(type === Scalar.BLOCK_LITERAL ? '\\n' : ' ');\n        }\n        return stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { binary };\n","import { isSeq, isPair, isMap } from '../../nodes/identity.js';\nimport { Pair, createPair } from '../../nodes/Pair.js';\nimport { Scalar } from '../../nodes/Scalar.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nfunction resolvePairs(seq, onError) {\n    if (isSeq(seq)) {\n        for (let i = 0; i < seq.items.length; ++i) {\n            let item = seq.items[i];\n            if (isPair(item))\n                continue;\n            else if (isMap(item)) {\n                if (item.items.length > 1)\n                    onError('Each pair must have its own sequence indicator');\n                const pair = item.items[0] || new Pair(new Scalar(null));\n                if (item.commentBefore)\n                    pair.key.commentBefore = pair.key.commentBefore\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\n                        : item.commentBefore;\n                if (item.comment) {\n                    const cn = pair.value ?? pair.key;\n                    cn.comment = cn.comment\n                        ? `${item.comment}\\n${cn.comment}`\n                        : item.comment;\n                }\n                item = pair;\n            }\n            seq.items[i] = isPair(item) ? item : new Pair(item);\n        }\n    }\n    else\n        onError('Expected a sequence for this tag');\n    return seq;\n}\nfunction createPairs(schema, iterable, ctx) {\n    const { replacer } = ctx;\n    const pairs = new YAMLSeq(schema);\n    pairs.tag = 'tag:yaml.org,2002:pairs';\n    let i = 0;\n    if (iterable && Symbol.iterator in Object(iterable))\n        for (let it of iterable) {\n            if (typeof replacer === 'function')\n                it = replacer.call(iterable, String(i++), it);\n            let key, value;\n            if (Array.isArray(it)) {\n                if (it.length === 2) {\n                    key = it[0];\n                    value = it[1];\n                }\n                else\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\n            }\n            else if (it && it instanceof Object) {\n                const keys = Object.keys(it);\n                if (keys.length === 1) {\n                    key = keys[0];\n                    value = it[key];\n                }\n                else {\n                    throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);\n                }\n            }\n            else {\n                key = it;\n            }\n            pairs.items.push(createPair(key, value, ctx));\n        }\n    return pairs;\n}\nconst pairs = {\n    collection: 'seq',\n    default: false,\n    tag: 'tag:yaml.org,2002:pairs',\n    resolve: resolvePairs,\n    createNode: createPairs\n};\n\nexport { createPairs, pairs, resolvePairs };\n","import { isScalar, isPair } from '../../nodes/identity.js';\nimport { toJS } from '../../nodes/toJS.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\nimport { resolvePairs, createPairs } from './pairs.js';\n\nclass YAMLOMap extends YAMLSeq {\n    constructor() {\n        super();\n        this.add = YAMLMap.prototype.add.bind(this);\n        this.delete = YAMLMap.prototype.delete.bind(this);\n        this.get = YAMLMap.prototype.get.bind(this);\n        this.has = YAMLMap.prototype.has.bind(this);\n        this.set = YAMLMap.prototype.set.bind(this);\n        this.tag = YAMLOMap.tag;\n    }\n    /**\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\n     * but TypeScript won't allow widening the signature of a child method.\n     */\n    toJSON(_, ctx) {\n        if (!ctx)\n            return super.toJSON(_);\n        const map = new Map();\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const pair of this.items) {\n            let key, value;\n            if (isPair(pair)) {\n                key = toJS(pair.key, '', ctx);\n                value = toJS(pair.value, key, ctx);\n            }\n            else {\n                key = toJS(pair, '', ctx);\n            }\n            if (map.has(key))\n                throw new Error('Ordered maps must not include duplicate keys');\n            map.set(key, value);\n        }\n        return map;\n    }\n    static from(schema, iterable, ctx) {\n        const pairs = createPairs(schema, iterable, ctx);\n        const omap = new this();\n        omap.items = pairs.items;\n        return omap;\n    }\n}\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\nconst omap = {\n    collection: 'seq',\n    identify: value => value instanceof Map,\n    nodeClass: YAMLOMap,\n    default: false,\n    tag: 'tag:yaml.org,2002:omap',\n    resolve(seq, onError) {\n        const pairs = resolvePairs(seq, onError);\n        const seenKeys = [];\n        for (const { key } of pairs.items) {\n            if (isScalar(key)) {\n                if (seenKeys.includes(key.value)) {\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\n                }\n                else {\n                    seenKeys.push(key.value);\n                }\n            }\n        }\n        return Object.assign(new YAMLOMap(), pairs);\n    },\n    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)\n};\n\nexport { YAMLOMap, omap };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nfunction boolStringify({ value, source }, ctx) {\n    const boolObj = value ? trueTag : falseTag;\n    if (source && boolObj.test.test(source))\n        return source;\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\n}\nconst trueTag = {\n    identify: value => value === true,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\n    resolve: () => new Scalar(true),\n    stringify: boolStringify\n};\nconst falseTag = {\n    identify: value => value === false,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,\n    resolve: () => new Scalar(false),\n    stringify: boolStringify\n};\n\nexport { falseTag, trueTag };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN)$/,\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str.replace(/_/g, '')));\n        const dot = str.indexOf('.');\n        if (dot !== -1) {\n            const f = str.substring(dot + 1).replace(/_/g, '');\n            if (f[f.length - 1] === '0')\n                node.minFractionDigits = f.length;\n        }\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\n    const sign = str[0];\n    if (sign === '-' || sign === '+')\n        offset += 1;\n    str = str.substring(offset).replace(/_/g, '');\n    if (intAsBigInt) {\n        switch (radix) {\n            case 2:\n                str = `0b${str}`;\n                break;\n            case 8:\n                str = `0o${str}`;\n                break;\n            case 16:\n                str = `0x${str}`;\n                break;\n        }\n        const n = BigInt(str);\n        return sign === '-' ? BigInt(-1) * n : n;\n    }\n    const n = parseInt(str, radix);\n    return sign === '-' ? -1 * n : n;\n}\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value)) {\n        const str = value.toString(radix);\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\n    }\n    return stringifyNumber(node);\n}\nconst intBin = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'BIN',\n    test: /^[-+]?0b[0-1_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\n    stringify: node => intStringify(node, 2, '0b')\n};\nconst intOct = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^[-+]?0[0-7_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\n    stringify: node => intStringify(node, 8, '0')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9][0-9_]*$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intBin, intHex, intOct };\n","import { isMap, isPair, isScalar } from '../../nodes/identity.js';\nimport { Pair, createPair } from '../../nodes/Pair.js';\nimport { YAMLMap, findPair } from '../../nodes/YAMLMap.js';\n\nclass YAMLSet extends YAMLMap {\n    constructor(schema) {\n        super(schema);\n        this.tag = YAMLSet.tag;\n    }\n    add(key) {\n        let pair;\n        if (isPair(key))\n            pair = key;\n        else if (key &&\n            typeof key === 'object' &&\n            'key' in key &&\n            'value' in key &&\n            key.value === null)\n            pair = new Pair(key.key, null);\n        else\n            pair = new Pair(key, null);\n        const prev = findPair(this.items, pair.key);\n        if (!prev)\n            this.items.push(pair);\n    }\n    /**\n     * If `keepPair` is `true`, returns the Pair matching `key`.\n     * Otherwise, returns the value of that Pair's key.\n     */\n    get(key, keepPair) {\n        const pair = findPair(this.items, key);\n        return !keepPair && isPair(pair)\n            ? isScalar(pair.key)\n                ? pair.key.value\n                : pair.key\n            : pair;\n    }\n    set(key, value) {\n        if (typeof value !== 'boolean')\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\n        const prev = findPair(this.items, key);\n        if (prev && !value) {\n            this.items.splice(this.items.indexOf(prev), 1);\n        }\n        else if (!prev && value) {\n            this.items.push(new Pair(key));\n        }\n    }\n    toJSON(_, ctx) {\n        return super.toJSON(_, ctx, Set);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        if (this.hasAllNullValues(true))\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\n        else\n            throw new Error('Set items must all have null values');\n    }\n    static from(schema, iterable, ctx) {\n        const { replacer } = ctx;\n        const set = new this(schema);\n        if (iterable && Symbol.iterator in Object(iterable))\n            for (let value of iterable) {\n                if (typeof replacer === 'function')\n                    value = replacer.call(iterable, value, value);\n                set.items.push(createPair(value, null, ctx));\n            }\n        return set;\n    }\n}\nYAMLSet.tag = 'tag:yaml.org,2002:set';\nconst set = {\n    collection: 'map',\n    identify: value => value instanceof Set,\n    nodeClass: YAMLSet,\n    default: false,\n    tag: 'tag:yaml.org,2002:set',\n    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),\n    resolve(map, onError) {\n        if (isMap(map)) {\n            if (map.hasAllNullValues(true))\n                return Object.assign(new YAMLSet(), map);\n            else\n                onError('Set items must all have null values');\n        }\n        else\n            onError('Expected a mapping for this tag');\n        return map;\n    }\n};\n\nexport { YAMLSet, set };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\n/** Internal types handle bigint as number, because TS can't figure it out. */\nfunction parseSexagesimal(str, asBigInt) {\n    const sign = str[0];\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\n    const res = parts\n        .replace(/_/g, '')\n        .split(':')\n        .reduce((res, p) => res * num(60) + num(p), num(0));\n    return (sign === '-' ? num(-1) * res : res);\n}\n/**\n * hhhh:mm:ss.sss\n *\n * Internal types handle bigint as number, because TS can't figure it out.\n */\nfunction stringifySexagesimal(node) {\n    let { value } = node;\n    let num = (n) => n;\n    if (typeof value === 'bigint')\n        num = n => BigInt(n);\n    else if (isNaN(value) || !isFinite(value))\n        return stringifyNumber(node);\n    let sign = '';\n    if (value < 0) {\n        sign = '-';\n        value *= num(-1);\n    }\n    const _60 = num(60);\n    const parts = [value % _60]; // seconds, including ms\n    if (value < 60) {\n        parts.unshift(0); // at least one : is required\n    }\n    else {\n        value = (value - parts[0]) / _60;\n        parts.unshift(value % _60); // minutes\n        if (value >= 60) {\n            value = (value - parts[0]) / _60;\n            parts.unshift(value); // hours\n        }\n    }\n    return (sign +\n        parts\n            .map(n => String(n).padStart(2, '0'))\n            .join(':')\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\n    );\n}\nconst intTime = {\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\n    stringify: stringifySexagesimal\n};\nconst floatTime = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\n    resolve: str => parseSexagesimal(str, false),\n    stringify: stringifySexagesimal\n};\nconst timestamp = {\n    identify: value => value instanceof Date,\n    default: true,\n    tag: 'tag:yaml.org,2002:timestamp',\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\n    // assumed to be 00:00:00Z (start of day, UTC).\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\n        '(?:' + // time is optional\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\n        ')?$'),\n    resolve(str) {\n        const match = str.match(timestamp.test);\n        if (!match)\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\n        const [, year, month, day, hour, minute, second] = match.map(Number);\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\n        const tz = match[8];\n        if (tz && tz !== 'Z') {\n            let d = parseSexagesimal(tz, false);\n            if (Math.abs(d) < 30)\n                d *= 60;\n            date -= 60000 * d;\n        }\n        return new Date(date);\n    },\n    stringify: ({ value }) => value.toISOString().replace(/((T00:00)?:00)?\\.000Z$/, '')\n};\n\nexport { floatTime, intTime, timestamp };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { binary } from './binary.js';\nimport { trueTag, falseTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intBin, intOct, int, intHex } from './int.js';\nimport { omap } from './omap.js';\nimport { pairs } from './pairs.js';\nimport { set } from './set.js';\nimport { intTime, floatTime, timestamp } from './timestamp.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    trueTag,\n    falseTag,\n    intBin,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float,\n    binary,\n    omap,\n    pairs,\n    set,\n    intTime,\n    floatTime,\n    timestamp\n];\n\nexport { schema };\n","import { map } from './common/map.js';\nimport { nullTag } from './common/null.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { boolTag } from './core/bool.js';\nimport { float, floatExp, floatNaN } from './core/float.js';\nimport { int, intHex, intOct } from './core/int.js';\nimport { schema } from './core/schema.js';\nimport { schema as schema$1 } from './json/schema.js';\nimport { binary } from './yaml-1.1/binary.js';\nimport { omap } from './yaml-1.1/omap.js';\nimport { pairs } from './yaml-1.1/pairs.js';\nimport { schema as schema$2 } from './yaml-1.1/schema.js';\nimport { set } from './yaml-1.1/set.js';\nimport { timestamp, floatTime, intTime } from './yaml-1.1/timestamp.js';\n\nconst schemas = new Map([\n    ['core', schema],\n    ['failsafe', [map, seq, string]],\n    ['json', schema$1],\n    ['yaml11', schema$2],\n    ['yaml-1.1', schema$2]\n]);\nconst tagsByName = {\n    binary,\n    bool: boolTag,\n    float,\n    floatExp,\n    floatNaN,\n    floatTime,\n    int,\n    intHex,\n    intOct,\n    intTime,\n    map,\n    null: nullTag,\n    omap,\n    pairs,\n    seq,\n    set,\n    timestamp\n};\nconst coreKnownTags = {\n    'tag:yaml.org,2002:binary': binary,\n    'tag:yaml.org,2002:omap': omap,\n    'tag:yaml.org,2002:pairs': pairs,\n    'tag:yaml.org,2002:set': set,\n    'tag:yaml.org,2002:timestamp': timestamp\n};\nfunction getTags(customTags, schemaName) {\n    let tags = schemas.get(schemaName);\n    if (!tags) {\n        if (Array.isArray(customTags))\n            tags = [];\n        else {\n            const keys = Array.from(schemas.keys())\n                .filter(key => key !== 'yaml11')\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\n        }\n    }\n    if (Array.isArray(customTags)) {\n        for (const tag of customTags)\n            tags = tags.concat(tag);\n    }\n    else if (typeof customTags === 'function') {\n        tags = customTags(tags.slice());\n    }\n    return tags.map(tag => {\n        if (typeof tag !== 'string')\n            return tag;\n        const tagObj = tagsByName[tag];\n        if (tagObj)\n            return tagObj;\n        const keys = Object.keys(tagsByName)\n            .map(key => JSON.stringify(key))\n            .join(', ');\n        throw new Error(`Unknown custom tag \"${tag}\"; use one of ${keys}`);\n    });\n}\n\nexport { coreKnownTags, getTags };\n","import { MAP, SCALAR, SEQ } from '../nodes/identity.js';\nimport { map } from './common/map.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { getTags, coreKnownTags } from './tags.js';\n\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\nclass Schema {\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\n        this.compat = Array.isArray(compat)\n            ? getTags(compat, 'compat')\n            : compat\n                ? getTags(null, compat)\n                : null;\n        this.merge = !!merge;\n        this.name = (typeof schema === 'string' && schema) || 'core';\n        this.knownTags = resolveKnownTags ? coreKnownTags : {};\n        this.tags = getTags(customTags, this.name);\n        this.toStringOptions = toStringDefaults ?? null;\n        Object.defineProperty(this, MAP, { value: map });\n        Object.defineProperty(this, SCALAR, { value: string });\n        Object.defineProperty(this, SEQ, { value: seq });\n        // Used by createMap()\n        this.sortMapEntries =\n            typeof sortMapEntries === 'function'\n                ? sortMapEntries\n                : sortMapEntries === true\n                    ? sortMapEntriesByKey\n                    : null;\n    }\n    clone() {\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\n        copy.tags = this.tags.slice();\n        return copy;\n    }\n}\n\nexport { Schema };\n","import { Alias } from '../nodes/Alias.js';\nimport { isEmptyPath, collectionFromPath } from '../nodes/Collection.js';\nimport { NODE_TYPE, DOC, isNode, isCollection, isScalar } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { toJS } from '../nodes/toJS.js';\nimport { Schema } from '../schema/Schema.js';\nimport { stringifyDocument } from '../stringify/stringifyDocument.js';\nimport { anchorNames, findNewAnchor, createNodeAnchors } from './anchors.js';\nimport { applyReviver } from './applyReviver.js';\nimport { createNode } from './createNode.js';\nimport { Directives } from './directives.js';\n\nclass Document {\n    constructor(value, replacer, options) {\n        /** A comment before this Document */\n        this.commentBefore = null;\n        /** A comment immediately after this Document */\n        this.comment = null;\n        /** Errors encountered during parsing. */\n        this.errors = [];\n        /** Warnings encountered during parsing. */\n        this.warnings = [];\n        Object.defineProperty(this, NODE_TYPE, { value: DOC });\n        let _replacer = null;\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const opt = Object.assign({\n            intAsBigInt: false,\n            keepSourceTokens: false,\n            logLevel: 'warn',\n            prettyErrors: true,\n            strict: true,\n            uniqueKeys: true,\n            version: '1.2'\n        }, options);\n        this.options = opt;\n        let { version } = opt;\n        if (options?._directives) {\n            this.directives = options._directives.atDocument();\n            if (this.directives.yaml.explicit)\n                version = this.directives.yaml.version;\n        }\n        else\n            this.directives = new Directives({ version });\n        this.setSchema(version, options);\n        // @ts-expect-error We can't really know that this matches Contents.\n        this.contents =\n            value === undefined ? null : this.createNode(value, _replacer, options);\n    }\n    /**\n     * Create a deep copy of this Document and its contents.\n     *\n     * Custom Node values that inherit from `Object` still refer to their original instances.\n     */\n    clone() {\n        const copy = Object.create(Document.prototype, {\n            [NODE_TYPE]: { value: DOC }\n        });\n        copy.commentBefore = this.commentBefore;\n        copy.comment = this.comment;\n        copy.errors = this.errors.slice();\n        copy.warnings = this.warnings.slice();\n        copy.options = Object.assign({}, this.options);\n        if (this.directives)\n            copy.directives = this.directives.clone();\n        copy.schema = this.schema.clone();\n        // @ts-expect-error We can't really know that this matches Contents.\n        copy.contents = isNode(this.contents)\n            ? this.contents.clone(copy.schema)\n            : this.contents;\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** Adds a value to the document. */\n    add(value) {\n        if (assertCollection(this.contents))\n            this.contents.add(value);\n    }\n    /** Adds a value to the document. */\n    addIn(path, value) {\n        if (assertCollection(this.contents))\n            this.contents.addIn(path, value);\n    }\n    /**\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\n     *\n     * If `node` already has an anchor, `name` is ignored.\n     * Otherwise, the `node.anchor` value will be set to `name`,\n     * or if an anchor with that name is already present in the document,\n     * `name` will be used as a prefix for a new unique anchor.\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\n     */\n    createAlias(node, name) {\n        if (!node.anchor) {\n            const prev = anchorNames(this);\n            node.anchor =\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                !name || prev.has(name) ? findNewAnchor(name || 'a', prev) : name;\n        }\n        return new Alias(node.anchor);\n    }\n    createNode(value, replacer, options) {\n        let _replacer = undefined;\n        if (typeof replacer === 'function') {\n            value = replacer.call({ '': value }, '', value);\n            _replacer = replacer;\n        }\n        else if (Array.isArray(replacer)) {\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\n            const asStr = replacer.filter(keyToStr).map(String);\n            if (asStr.length > 0)\n                replacer = replacer.concat(asStr);\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\n        const { onAnchor, setAnchors, sourceObjects } = createNodeAnchors(this, \n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        anchorPrefix || 'a');\n        const ctx = {\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\n            keepUndefined: keepUndefined ?? false,\n            onAnchor,\n            onTagObj,\n            replacer: _replacer,\n            schema: this.schema,\n            sourceObjects\n        };\n        const node = createNode(value, tag, ctx);\n        if (flow && isCollection(node))\n            node.flow = true;\n        setAnchors();\n        return node;\n    }\n    /**\n     * Convert a key and a value into a `Pair` using the current schema,\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\n     */\n    createPair(key, value, options = {}) {\n        const k = this.createNode(key, null, options);\n        const v = this.createNode(value, null, options);\n        return new Pair(k, v);\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        if (isEmptyPath(path)) {\n            if (this.contents == null)\n                return false;\n            // @ts-expect-error Presumed impossible if Strict extends false\n            this.contents = null;\n            return true;\n        }\n        return assertCollection(this.contents)\n            ? this.contents.deleteIn(path)\n            : false;\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    get(key, keepScalar) {\n        return isCollection(this.contents)\n            ? this.contents.get(key, keepScalar)\n            : undefined;\n    }\n    /**\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        if (isEmptyPath(path))\n            return !keepScalar && isScalar(this.contents)\n                ? this.contents.value\n                : this.contents;\n        return isCollection(this.contents)\n            ? this.contents.getIn(path, keepScalar)\n            : undefined;\n    }\n    /**\n     * Checks if the document includes a value with the key `key`.\n     */\n    has(key) {\n        return isCollection(this.contents) ? this.contents.has(key) : false;\n    }\n    /**\n     * Checks if the document includes a value at `path`.\n     */\n    hasIn(path) {\n        if (isEmptyPath(path))\n            return this.contents !== undefined;\n        return isCollection(this.contents) ? this.contents.hasIn(path) : false;\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    set(key, value) {\n        if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, [key], value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.set(key, value);\n        }\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        if (isEmptyPath(path)) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = value;\n        }\n        else if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, Array.from(path), value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.setIn(path, value);\n        }\n    }\n    /**\n     * Change the YAML version and schema used by the document.\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\n     * It also requires the `schema` option to be given as a `Schema` instance value.\n     *\n     * Overrides all previously set schema options.\n     */\n    setSchema(version, options = {}) {\n        if (typeof version === 'number')\n            version = String(version);\n        let opt;\n        switch (version) {\n            case '1.1':\n                if (this.directives)\n                    this.directives.yaml.version = '1.1';\n                else\n                    this.directives = new Directives({ version: '1.1' });\n                opt = { merge: true, resolveKnownTags: false, schema: 'yaml-1.1' };\n                break;\n            case '1.2':\n            case 'next':\n                if (this.directives)\n                    this.directives.yaml.version = version;\n                else\n                    this.directives = new Directives({ version });\n                opt = { merge: false, resolveKnownTags: true, schema: 'core' };\n                break;\n            case null:\n                if (this.directives)\n                    delete this.directives;\n                opt = null;\n                break;\n            default: {\n                const sv = JSON.stringify(version);\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\n            }\n        }\n        // Not using `instanceof Schema` to allow for duck typing\n        if (options.schema instanceof Object)\n            this.schema = options.schema;\n        else if (opt)\n            this.schema = new Schema(Object.assign(opt, options));\n        else\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\n    }\n    // json & jsonArg are only used from toJSON()\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        const ctx = {\n            anchors: new Map(),\n            doc: this,\n            keep: !json,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this.contents, jsonArg ?? '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n    /**\n     * A JSON representation of the document `contents`.\n     *\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\n     *   property name.\n     */\n    toJSON(jsonArg, onAnchor) {\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\n    }\n    /** A YAML representation of the document. */\n    toString(options = {}) {\n        if (this.errors.length > 0)\n            throw new Error('Document with errors cannot be stringified');\n        if ('indent' in options &&\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\n            const s = JSON.stringify(options.indent);\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\n        }\n        return stringifyDocument(this, options);\n    }\n}\nfunction assertCollection(contents) {\n    if (isCollection(contents))\n        return true;\n    throw new Error('Expected a YAML collection as document contents');\n}\n\nexport { Document };\n","import { isNode } from '../nodes/identity.js';\nimport { createStringifyContext, stringify } from './stringify.js';\nimport { indentComment, lineComment } from './stringifyComment.js';\n\nfunction stringifyDocument(doc, options) {\n    const lines = [];\n    let hasDirectives = options.directives === true;\n    if (options.directives !== false && doc.directives) {\n        const dir = doc.directives.toString(doc);\n        if (dir) {\n            lines.push(dir);\n            hasDirectives = true;\n        }\n        else if (doc.directives.docStart)\n            hasDirectives = true;\n    }\n    if (hasDirectives)\n        lines.push('---');\n    const ctx = createStringifyContext(doc, options);\n    const { commentString } = ctx.options;\n    if (doc.commentBefore) {\n        if (lines.length !== 1)\n            lines.unshift('');\n        const cs = commentString(doc.commentBefore);\n        lines.unshift(indentComment(cs, ''));\n    }\n    let chompKeep = false;\n    let contentComment = null;\n    if (doc.contents) {\n        if (isNode(doc.contents)) {\n            if (doc.contents.spaceBefore && hasDirectives)\n                lines.push('');\n            if (doc.contents.commentBefore) {\n                const cs = commentString(doc.contents.commentBefore);\n                lines.push(indentComment(cs, ''));\n            }\n            // top-level block scalars need to be indented if followed by a comment\n            ctx.forceBlockIndent = !!doc.comment;\n            contentComment = doc.contents.comment;\n        }\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\n        let body = stringify(doc.contents, ctx, () => (contentComment = null), onChompKeep);\n        if (contentComment)\n            body += lineComment(body, '', commentString(contentComment));\n        if ((body[0] === '|' || body[0] === '>') &&\n            lines[lines.length - 1] === '---') {\n            // Top-level block scalars with a preceding doc marker ought to use the\n            // same line for their header.\n            lines[lines.length - 1] = `--- ${body}`;\n        }\n        else\n            lines.push(body);\n    }\n    else {\n        lines.push(stringify(doc.contents, ctx));\n    }\n    if (doc.directives?.docEnd) {\n        if (doc.comment) {\n            const cs = commentString(doc.comment);\n            if (cs.includes('\\n')) {\n                lines.push('...');\n                lines.push(indentComment(cs, ''));\n            }\n            else {\n                lines.push(`... ${cs}`);\n            }\n        }\n        else {\n            lines.push('...');\n        }\n    }\n    else {\n        let dc = doc.comment;\n        if (dc && chompKeep)\n            dc = dc.replace(/^\\n+/, '');\n        if (dc) {\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\n                lines.push('');\n            lines.push(indentComment(commentString(dc), ''));\n        }\n    }\n    return lines.join('\\n') + '\\n';\n}\n\nexport { stringifyDocument };\n","class YAMLError extends Error {\n    constructor(name, pos, code, message) {\n        super();\n        this.name = name;\n        this.code = code;\n        this.message = message;\n        this.pos = pos;\n    }\n}\nclass YAMLParseError extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLParseError', pos, code, message);\n    }\n}\nclass YAMLWarning extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLWarning', pos, code, message);\n    }\n}\nconst prettifyError = (src, lc) => (error) => {\n    if (error.pos[0] === -1)\n        return;\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\n    const { line, col } = error.linePos[0];\n    error.message += ` at line ${line}, column ${col}`;\n    let ci = col - 1;\n    let lineStr = src\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\n        .replace(/[\\n\\r]+$/, '');\n    // Trim to max 80 chars, keeping col position near the middle\n    if (ci >= 60 && lineStr.length > 80) {\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\n        lineStr = '' + lineStr.substring(trimStart);\n        ci -= trimStart - 1;\n    }\n    if (lineStr.length > 80)\n        lineStr = lineStr.substring(0, 79) + '';\n    // Include previous line in context if pointing at line start\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\n        // Regexp won't match if start is trimmed\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\n        if (prev.length > 80)\n            prev = prev.substring(0, 79) + '\\n';\n        lineStr = prev + lineStr;\n    }\n    if (/[^ ]/.test(lineStr)) {\n        let count = 1;\n        const end = error.linePos[1];\n        if (end && end.line === line && end.col > col) {\n            count = Math.max(1, Math.min(end.col - col, 80 - ci));\n        }\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\n    }\n};\n\nexport { YAMLError, YAMLParseError, YAMLWarning, prettifyError };\n","function resolveProps(tokens, { flow, indicator, next, offset, onError, startOnNewline }) {\n    let spaceBefore = false;\n    let atNewline = startOnNewline;\n    let hasSpace = startOnNewline;\n    let comment = '';\n    let commentSep = '';\n    let hasNewline = false;\n    let hasNewlineAfterProp = false;\n    let reqSpace = false;\n    let anchor = null;\n    let tag = null;\n    let comma = null;\n    let found = null;\n    let start = null;\n    for (const token of tokens) {\n        if (reqSpace) {\n            if (token.type !== 'space' &&\n                token.type !== 'newline' &&\n                token.type !== 'comma')\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n            reqSpace = false;\n        }\n        switch (token.type) {\n            case 'space':\n                // At the doc level, tabs at line start may be parsed\n                // as leading white space rather than indentation.\n                // In a flow collection, only the parser handles indent.\n                if (!flow &&\n                    atNewline &&\n                    indicator !== 'doc-start' &&\n                    token.source[0] === '\\t')\n                    onError(token, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n                hasSpace = true;\n                break;\n            case 'comment': {\n                if (!hasSpace)\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                const cb = token.source.substring(1) || ' ';\n                if (!comment)\n                    comment = cb;\n                else\n                    comment += commentSep + cb;\n                commentSep = '';\n                atNewline = false;\n                break;\n            }\n            case 'newline':\n                if (atNewline) {\n                    if (comment)\n                        comment += token.source;\n                    else\n                        spaceBefore = true;\n                }\n                else\n                    commentSep += token.source;\n                atNewline = true;\n                hasNewline = true;\n                if (anchor || tag)\n                    hasNewlineAfterProp = true;\n                hasSpace = true;\n                break;\n            case 'anchor':\n                if (anchor)\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\n                if (token.source.endsWith(':'))\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\n                anchor = token;\n                if (start === null)\n                    start = token.offset;\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            case 'tag': {\n                if (tag)\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\n                tag = token;\n                if (start === null)\n                    start = token.offset;\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            }\n            case indicator:\n                // Could here handle preceding comments differently\n                if (anchor || tag)\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\n                if (found)\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\n                found = token;\n                atNewline = false;\n                hasSpace = false;\n                break;\n            case 'comma':\n                if (flow) {\n                    if (comma)\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\n                    comma = token;\n                    atNewline = false;\n                    hasSpace = false;\n                    break;\n                }\n            // else fallthrough\n            default:\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\n                atNewline = false;\n                hasSpace = false;\n        }\n    }\n    const last = tokens[tokens.length - 1];\n    const end = last ? last.offset + last.source.length : offset;\n    if (reqSpace &&\n        next &&\n        next.type !== 'space' &&\n        next.type !== 'newline' &&\n        next.type !== 'comma' &&\n        (next.type !== 'scalar' || next.source !== ''))\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n    return {\n        comma,\n        found,\n        spaceBefore,\n        comment,\n        hasNewline,\n        hasNewlineAfterProp,\n        anchor,\n        tag,\n        end,\n        start: start ?? end\n    };\n}\n\nexport { resolveProps };\n","function containsNewline(key) {\n    if (!key)\n        return null;\n    switch (key.type) {\n        case 'alias':\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            if (key.source.includes('\\n'))\n                return true;\n            if (key.end)\n                for (const st of key.end)\n                    if (st.type === 'newline')\n                        return true;\n            return false;\n        case 'flow-collection':\n            for (const it of key.items) {\n                for (const st of it.start)\n                    if (st.type === 'newline')\n                        return true;\n                if (it.sep)\n                    for (const st of it.sep)\n                        if (st.type === 'newline')\n                            return true;\n                if (containsNewline(it.key) || containsNewline(it.value))\n                    return true;\n            }\n            return false;\n        default:\n            return true;\n    }\n}\n\nexport { containsNewline };\n","import { containsNewline } from './util-contains-newline.js';\n\nfunction flowIndentCheck(indent, fc, onError) {\n    if (fc?.type === 'flow-collection') {\n        const end = fc.end[0];\n        if (end.indent === indent &&\n            (end.source === ']' || end.source === '}') &&\n            containsNewline(fc)) {\n            const msg = 'Flow end indicator should be more indented than parent';\n            onError(end, 'BAD_INDENT', msg, true);\n        }\n    }\n}\n\nexport { flowIndentCheck };\n","import { isScalar } from '../nodes/identity.js';\n\nfunction mapIncludes(ctx, items, search) {\n    const { uniqueKeys } = ctx.options;\n    if (uniqueKeys === false)\n        return false;\n    const isEqual = typeof uniqueKeys === 'function'\n        ? uniqueKeys\n        : (a, b) => a === b ||\n            (isScalar(a) &&\n                isScalar(b) &&\n                a.value === b.value &&\n                !(a.value === '<<' && ctx.schema.merge));\n    return items.some(pair => isEqual(pair.key, search));\n}\n\nexport { mapIncludes };\n","import { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst startColMsg = 'All mapping items must start at the same column';\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLMap;\n    const map = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bm.offset;\n    let commentEnd = null;\n    for (const collItem of bm.items) {\n        const { start, key, sep, value } = collItem;\n        // key properties\n        const keyProps = resolveProps(start, {\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            startOnNewline: true\n        });\n        const implicitKey = !keyProps.found;\n        if (implicitKey) {\n            if (key) {\n                if (key.type === 'block-seq')\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\n                else if ('indent' in key && key.indent !== bm.indent)\n                    onError(offset, 'BAD_INDENT', startColMsg);\n            }\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\n                commentEnd = keyProps.end;\n                if (keyProps.comment) {\n                    if (map.comment)\n                        map.comment += '\\n' + keyProps.comment;\n                    else\n                        map.comment = keyProps.comment;\n                }\n                continue;\n            }\n            if (keyProps.hasNewlineAfterProp || containsNewline(key)) {\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\n            }\n        }\n        else if (keyProps.found?.indent !== bm.indent) {\n            onError(offset, 'BAD_INDENT', startColMsg);\n        }\n        // key value\n        const keyStart = keyProps.end;\n        const keyNode = key\n            ? composeNode(ctx, key, keyProps, onError)\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bm.indent, key, onError);\n        if (mapIncludes(ctx, map.items, keyNode))\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n        // value properties\n        const valueProps = resolveProps(sep ?? [], {\n            indicator: 'map-value-ind',\n            next: value,\n            offset: keyNode.range[2],\n            onError,\n            startOnNewline: !key || key.type === 'block-scalar'\n        });\n        offset = valueProps.end;\n        if (valueProps.found) {\n            if (implicitKey) {\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\n                if (ctx.options.strict &&\n                    keyProps.start < valueProps.found.offset - 1024)\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\n            if (ctx.schema.compat)\n                flowIndentCheck(bm.indent, value, onError);\n            offset = valueNode.range[2];\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n        else {\n            // key with no value\n            if (implicitKey)\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\n            if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n    }\n    if (commentEnd && commentEnd < offset)\n        onError(commentEnd, 'IMPOSSIBLE', 'Map comment with trailing content');\n    map.range = [bm.offset, offset, commentEnd ?? offset];\n    return map;\n}\n\nexport { resolveBlockMap };\n","function resolveEnd(end, offset, reqSpace, onError) {\n    let comment = '';\n    if (end) {\n        let hasSpace = false;\n        let sep = '';\n        for (const token of end) {\n            const { source, type } = token;\n            switch (type) {\n                case 'space':\n                    hasSpace = true;\n                    break;\n                case 'comment': {\n                    if (reqSpace && !hasSpace)\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                    const cb = source.substring(1) || ' ';\n                    if (!comment)\n                        comment = cb;\n                    else\n                        comment += sep + cb;\n                    sep = '';\n                    break;\n                }\n                case 'newline':\n                    if (comment)\n                        sep += source;\n                    hasSpace = true;\n                    break;\n                default:\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\n            }\n            offset += source.length;\n        }\n    }\n    return { comment, offset };\n}\n\nexport { resolveEnd };\n","import { isPair } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst blockMsg = 'Block collections are not allowed within flow collections';\nconst isBlock = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {\n    const isMap = fc.start.source === '{';\n    const fcName = isMap ? 'flow map' : 'flow sequence';\n    const NodeClass = (tag?.nodeClass ?? (isMap ? YAMLMap : YAMLSeq));\n    const coll = new NodeClass(ctx.schema);\n    coll.flow = true;\n    const atRoot = ctx.atRoot;\n    if (atRoot)\n        ctx.atRoot = false;\n    let offset = fc.offset + fc.start.source.length;\n    for (let i = 0; i < fc.items.length; ++i) {\n        const collItem = fc.items[i];\n        const { start, key, sep, value } = collItem;\n        const props = resolveProps(start, {\n            flow: fcName,\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            startOnNewline: false\n        });\n        if (!props.found) {\n            if (!props.anchor && !props.tag && !sep && !value) {\n                if (i === 0 && props.comma)\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n                else if (i < fc.items.length - 1)\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\n                if (props.comment) {\n                    if (coll.comment)\n                        coll.comment += '\\n' + props.comment;\n                    else\n                        coll.comment = props.comment;\n                }\n                offset = props.end;\n                continue;\n            }\n            if (!isMap && ctx.options.strict && containsNewline(key))\n                onError(key, // checked by containsNewline()\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n        }\n        if (i === 0) {\n            if (props.comma)\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n        }\n        else {\n            if (!props.comma)\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\n            if (props.comment) {\n                let prevItemComment = '';\n                loop: for (const st of start) {\n                    switch (st.type) {\n                        case 'comma':\n                        case 'space':\n                            break;\n                        case 'comment':\n                            prevItemComment = st.source.substring(1);\n                            break loop;\n                        default:\n                            break loop;\n                    }\n                }\n                if (prevItemComment) {\n                    let prev = coll.items[coll.items.length - 1];\n                    if (isPair(prev))\n                        prev = prev.value ?? prev.key;\n                    if (prev.comment)\n                        prev.comment += '\\n' + prevItemComment;\n                    else\n                        prev.comment = prevItemComment;\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\n                }\n            }\n        }\n        if (!isMap && !sep && !props.found) {\n            // item is a value in a seq\n            //  key & sep are empty, start does not include ? or :\n            const valueNode = value\n                ? composeNode(ctx, value, props, onError)\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\n            coll.items.push(valueNode);\n            offset = valueNode.range[2];\n            if (isBlock(value))\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n        }\n        else {\n            // item is a key+value pair\n            // key value\n            const keyStart = props.end;\n            const keyNode = key\n                ? composeNode(ctx, key, props, onError)\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\n            if (isBlock(key))\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            // value properties\n            const valueProps = resolveProps(sep ?? [], {\n                flow: fcName,\n                indicator: 'map-value-ind',\n                next: value,\n                offset: keyNode.range[2],\n                onError,\n                startOnNewline: false\n            });\n            if (valueProps.found) {\n                if (!isMap && !props.found && ctx.options.strict) {\n                    if (sep)\n                        for (const st of sep) {\n                            if (st === valueProps.found)\n                                break;\n                            if (st.type === 'newline') {\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n                                break;\n                            }\n                        }\n                    if (props.start < valueProps.found.offset - 1024)\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\n                }\n            }\n            else if (value) {\n                if ('source' in value && value.source && value.source[0] === ':')\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\n                else\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : valueProps.found\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\n                    : null;\n            if (valueNode) {\n                if (isBlock(value))\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            }\n            else if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            if (isMap) {\n                const map = coll;\n                if (mapIncludes(ctx, map.items, keyNode))\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n                map.items.push(pair);\n            }\n            else {\n                const map = new YAMLMap(ctx.schema);\n                map.flow = true;\n                map.items.push(pair);\n                coll.items.push(map);\n            }\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\n        }\n    }\n    const expectedEnd = isMap ? '}' : ']';\n    const [ce, ...ee] = fc.end;\n    let cePos = offset;\n    if (ce && ce.source === expectedEnd)\n        cePos = ce.offset + ce.source.length;\n    else {\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\n        const msg = atRoot\n            ? `${name} must end with a ${expectedEnd}`\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\n        if (ce && ce.source.length !== 1)\n            ee.unshift(ce);\n    }\n    if (ee.length > 0) {\n        const end = resolveEnd(ee, cePos, ctx.options.strict, onError);\n        if (end.comment) {\n            if (coll.comment)\n                coll.comment += '\\n' + end.comment;\n            else\n                coll.comment = end.comment;\n        }\n        coll.range = [fc.offset, cePos, end.offset];\n    }\n    else {\n        coll.range = [fc.offset, cePos, cePos];\n    }\n    return coll;\n}\n\nexport { resolveFlowCollection };\n","import { isNode } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveBlockMap } from './resolve-block-map.js';\nimport { resolveBlockSeq } from './resolve-block-seq.js';\nimport { resolveFlowCollection } from './resolve-flow-collection.js';\n\nfunction resolveCollection(CN, ctx, token, onError, tagName, tag) {\n    const coll = token.type === 'block-map'\n        ? resolveBlockMap(CN, ctx, token, onError, tag)\n        : token.type === 'block-seq'\n            ? resolveBlockSeq(CN, ctx, token, onError, tag)\n            : resolveFlowCollection(CN, ctx, token, onError, tag);\n    const Coll = coll.constructor;\n    // If we got a tagName matching the class, or the tag name is '!',\n    // then use the tagName from the node class used to create it.\n    if (tagName === '!' || tagName === Coll.tagName) {\n        coll.tag = Coll.tagName;\n        return coll;\n    }\n    if (tagName)\n        coll.tag = tagName;\n    return coll;\n}\nfunction composeCollection(CN, ctx, token, tagToken, onError) {\n    const tagName = !tagToken\n        ? null\n        : ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\n    const expType = token.type === 'block-map'\n        ? 'map'\n        : token.type === 'block-seq'\n            ? 'seq'\n            : token.start.source === '{'\n                ? 'map'\n                : 'seq';\n    // shortcut: check if it's a generic YAMLMap or YAMLSeq\n    // before jumping into the custom tag logic.\n    if (!tagToken ||\n        !tagName ||\n        tagName === '!' ||\n        (tagName === YAMLMap.tagName && expType === 'map') ||\n        (tagName === YAMLSeq.tagName && expType === 'seq') ||\n        !expType) {\n        return resolveCollection(CN, ctx, token, onError, tagName);\n    }\n    let tag = ctx.schema.tags.find(t => t.tag === tagName && t.collection === expType);\n    if (!tag) {\n        const kt = ctx.schema.knownTags[tagName];\n        if (kt && kt.collection === expType) {\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\n            tag = kt;\n        }\n        else {\n            if (kt?.collection) {\n                onError(tagToken, 'BAD_COLLECTION_TYPE', `${kt.tag} used for ${expType} collection, but expects ${kt.collection}`, true);\n            }\n            else {\n                onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\n            }\n            return resolveCollection(CN, ctx, token, onError, tagName);\n        }\n    }\n    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);\n    const res = tag.resolve?.(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options) ?? coll;\n    const node = isNode(res)\n        ? res\n        : new Scalar(res);\n    node.range = coll.range;\n    node.tag = tagName;\n    if (tag?.format)\n        node.format = tag.format;\n    return node;\n}\n\nexport { composeCollection };\n","import { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveProps } from './resolve-props.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\n\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLSeq;\n    const seq = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bs.offset;\n    let commentEnd = null;\n    for (const { start, value } of bs.items) {\n        const props = resolveProps(start, {\n            indicator: 'seq-item-ind',\n            next: value,\n            offset,\n            onError,\n            startOnNewline: true\n        });\n        if (!props.found) {\n            if (props.anchor || props.tag || value) {\n                if (value && value.type === 'block-seq')\n                    onError(props.end, 'BAD_INDENT', 'All sequence items must start at the same column');\n                else\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\n            }\n            else {\n                commentEnd = props.end;\n                if (props.comment)\n                    seq.comment = props.comment;\n                continue;\n            }\n        }\n        const node = value\n            ? composeNode(ctx, value, props, onError)\n            : composeEmptyNode(ctx, props.end, start, null, props, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bs.indent, value, onError);\n        offset = node.range[2];\n        seq.items.push(node);\n    }\n    seq.range = [bs.offset, offset, commentEnd ?? offset];\n    return seq;\n}\n\nexport { resolveBlockSeq };\n","import { Scalar } from '../nodes/Scalar.js';\n\nfunction resolveBlockScalar(scalar, strict, onError) {\n    const start = scalar.offset;\n    const header = parseBlockScalarHeader(scalar, strict, onError);\n    if (!header)\n        return { value: '', type: null, comment: '', range: [start, start, start] };\n    const type = header.mode === '>' ? Scalar.BLOCK_FOLDED : Scalar.BLOCK_LITERAL;\n    const lines = scalar.source ? splitLines(scalar.source) : [];\n    // determine the end of content & start of chomping\n    let chompStart = lines.length;\n    for (let i = lines.length - 1; i >= 0; --i) {\n        const content = lines[i][1];\n        if (content === '' || content === '\\r')\n            chompStart = i;\n        else\n            break;\n    }\n    // shortcut for empty contents\n    if (chompStart === 0) {\n        const value = header.chomp === '+' && lines.length > 0\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\n            : '';\n        let end = start + header.length;\n        if (scalar.source)\n            end += scalar.source.length;\n        return { value, type, comment: header.comment, range: [start, end, end] };\n    }\n    // find the indentation level to trim from start\n    let trimIndent = scalar.indent + header.indent;\n    let offset = scalar.offset + header.length;\n    let contentStart = 0;\n    for (let i = 0; i < chompStart; ++i) {\n        const [indent, content] = lines[i];\n        if (content === '' || content === '\\r') {\n            if (header.indent === 0 && indent.length > trimIndent)\n                trimIndent = indent.length;\n        }\n        else {\n            if (indent.length < trimIndent) {\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\n                onError(offset + indent.length, 'MISSING_CHAR', message);\n            }\n            if (header.indent === 0)\n                trimIndent = indent.length;\n            contentStart = i;\n            break;\n        }\n        offset += indent.length + content.length + 1;\n    }\n    // include trailing more-indented empty lines in content\n    for (let i = lines.length - 1; i >= chompStart; --i) {\n        if (lines[i][0].length > trimIndent)\n            chompStart = i + 1;\n    }\n    let value = '';\n    let sep = '';\n    let prevMoreIndented = false;\n    // leading whitespace is kept intact\n    for (let i = 0; i < contentStart; ++i)\n        value += lines[i][0].slice(trimIndent) + '\\n';\n    for (let i = contentStart; i < chompStart; ++i) {\n        let [indent, content] = lines[i];\n        offset += indent.length + content.length + 1;\n        const crlf = content[content.length - 1] === '\\r';\n        if (crlf)\n            content = content.slice(0, -1);\n        /* istanbul ignore if already caught in lexer */\n        if (content && indent.length < trimIndent) {\n            const src = header.indent\n                ? 'explicit indentation indicator'\n                : 'first line';\n            const message = `Block scalar lines must not be less indented than their ${src}`;\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\n            indent = '';\n        }\n        if (type === Scalar.BLOCK_LITERAL) {\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n        }\n        else if (indent.length > trimIndent || content[0] === '\\t') {\n            // more-indented content within a folded block\n            if (sep === ' ')\n                sep = '\\n';\n            else if (!prevMoreIndented && sep === '\\n')\n                sep = '\\n\\n';\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n            prevMoreIndented = true;\n        }\n        else if (content === '') {\n            // empty line\n            if (sep === '\\n')\n                value += '\\n';\n            else\n                sep = '\\n';\n        }\n        else {\n            value += sep + content;\n            sep = ' ';\n            prevMoreIndented = false;\n        }\n    }\n    switch (header.chomp) {\n        case '-':\n            break;\n        case '+':\n            for (let i = chompStart; i < lines.length; ++i)\n                value += '\\n' + lines[i][0].slice(trimIndent);\n            if (value[value.length - 1] !== '\\n')\n                value += '\\n';\n            break;\n        default:\n            value += '\\n';\n    }\n    const end = start + header.length + scalar.source.length;\n    return { value, type, comment: header.comment, range: [start, end, end] };\n}\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\n    /* istanbul ignore if should not happen */\n    if (props[0].type !== 'block-scalar-header') {\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\n        return null;\n    }\n    const { source } = props[0];\n    const mode = source[0];\n    let indent = 0;\n    let chomp = '';\n    let error = -1;\n    for (let i = 1; i < source.length; ++i) {\n        const ch = source[i];\n        if (!chomp && (ch === '-' || ch === '+'))\n            chomp = ch;\n        else {\n            const n = Number(ch);\n            if (!indent && n)\n                indent = n;\n            else if (error === -1)\n                error = offset + i;\n        }\n    }\n    if (error !== -1)\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\n    let hasSpace = false;\n    let comment = '';\n    let length = source.length;\n    for (let i = 1; i < props.length; ++i) {\n        const token = props[i];\n        switch (token.type) {\n            case 'space':\n                hasSpace = true;\n            // fallthrough\n            case 'newline':\n                length += token.source.length;\n                break;\n            case 'comment':\n                if (strict && !hasSpace) {\n                    const message = 'Comments must be separated from other tokens by white space characters';\n                    onError(token, 'MISSING_CHAR', message);\n                }\n                length += token.source.length;\n                comment = token.source.substring(1);\n                break;\n            case 'error':\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\n                length += token.source.length;\n                break;\n            /* istanbul ignore next should not happen */\n            default: {\n                const message = `Unexpected token in block scalar header: ${token.type}`;\n                onError(token, 'UNEXPECTED_TOKEN', message);\n                const ts = token.source;\n                if (ts && typeof ts === 'string')\n                    length += ts.length;\n            }\n        }\n    }\n    return { mode, indent, chomp, comment, length };\n}\n/** @returns Array of lines split up as `[indent, content]` */\nfunction splitLines(source) {\n    const split = source.split(/\\n( *)/);\n    const first = split[0];\n    const m = first.match(/^( *)/);\n    const line0 = m?.[1]\n        ? [m[1], first.slice(m[1].length)]\n        : ['', first];\n    const lines = [line0];\n    for (let i = 1; i < split.length; i += 2)\n        lines.push([split[i], split[i + 1]]);\n    return lines;\n}\n\nexport { resolveBlockScalar };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction resolveFlowScalar(scalar, strict, onError) {\n    const { offset, type, source, end } = scalar;\n    let _type;\n    let value;\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\n    switch (type) {\n        case 'scalar':\n            _type = Scalar.PLAIN;\n            value = plainValue(source, _onError);\n            break;\n        case 'single-quoted-scalar':\n            _type = Scalar.QUOTE_SINGLE;\n            value = singleQuotedValue(source, _onError);\n            break;\n        case 'double-quoted-scalar':\n            _type = Scalar.QUOTE_DOUBLE;\n            value = doubleQuotedValue(source, _onError);\n            break;\n        /* istanbul ignore next should not happen */\n        default:\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\n            return {\n                value: '',\n                type: null,\n                comment: '',\n                range: [offset, offset + source.length, offset + source.length]\n            };\n    }\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, strict, onError);\n    return {\n        value,\n        type: _type,\n        comment: re.comment,\n        range: [offset, valueEnd, re.offset]\n    };\n}\nfunction plainValue(source, onError) {\n    let badChar = '';\n    switch (source[0]) {\n        /* istanbul ignore next should not happen */\n        case '\\t':\n            badChar = 'a tab character';\n            break;\n        case ',':\n            badChar = 'flow indicator character ,';\n            break;\n        case '%':\n            badChar = 'directive indicator character %';\n            break;\n        case '|':\n        case '>': {\n            badChar = `block scalar indicator ${source[0]}`;\n            break;\n        }\n        case '@':\n        case '`': {\n            badChar = `reserved character ${source[0]}`;\n            break;\n        }\n    }\n    if (badChar)\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\n    return foldLines(source);\n}\nfunction singleQuotedValue(source, onError) {\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\n}\nfunction foldLines(source) {\n    /**\n     * The negative lookbehind here and in the `re` RegExp is to\n     * prevent causing a polynomial search time in certain cases.\n     *\n     * The try-catch is for Safari, which doesn't support this yet:\n     * https://caniuse.com/js-regexp-lookbehind\n     */\n    let first, line;\n    try {\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\n    }\n    catch (_) {\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\n    }\n    let match = first.exec(source);\n    if (!match)\n        return source;\n    let res = match[1];\n    let sep = ' ';\n    let pos = first.lastIndex;\n    line.lastIndex = pos;\n    while ((match = line.exec(source))) {\n        if (match[1] === '') {\n            if (sep === '\\n')\n                res += sep;\n            else\n                sep = '\\n';\n        }\n        else {\n            res += sep + match[1];\n            sep = ' ';\n        }\n        pos = line.lastIndex;\n    }\n    const last = /[ \\t]*(.*)/sy;\n    last.lastIndex = pos;\n    match = last.exec(source);\n    return res + sep + (match?.[1] ?? '');\n}\nfunction doubleQuotedValue(source, onError) {\n    let res = '';\n    for (let i = 1; i < source.length - 1; ++i) {\n        const ch = source[i];\n        if (ch === '\\r' && source[i + 1] === '\\n')\n            continue;\n        if (ch === '\\n') {\n            const { fold, offset } = foldNewline(source, i);\n            res += fold;\n            i = offset;\n        }\n        else if (ch === '\\\\') {\n            let next = source[++i];\n            const cc = escapeCodes[next];\n            if (cc)\n                res += cc;\n            else if (next === '\\n') {\n                // skip escaped newlines, but still trim the following line\n                next = source[i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === '\\r' && source[i + 1] === '\\n') {\n                // skip escaped CRLF newlines, but still trim the following line\n                next = source[++i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === 'x' || next === 'u' || next === 'U') {\n                const length = { x: 2, u: 4, U: 8 }[next];\n                res += parseCharCode(source, i + 1, length, onError);\n                i += length;\n            }\n            else {\n                const raw = source.substr(i - 1, 2);\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n                res += raw;\n            }\n        }\n        else if (ch === ' ' || ch === '\\t') {\n            // trim trailing whitespace\n            const wsStart = i;\n            let next = source[i + 1];\n            while (next === ' ' || next === '\\t')\n                next = source[++i + 1];\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\n        }\n        else {\n            res += ch;\n        }\n    }\n    if (source[source.length - 1] !== '\"' || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\n    return res;\n}\n/**\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\n * Presumes `source[offset] === '\\n'`\n */\nfunction foldNewline(source, offset) {\n    let fold = '';\n    let ch = source[offset + 1];\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\n            break;\n        if (ch === '\\n')\n            fold += '\\n';\n        offset += 1;\n        ch = source[offset + 1];\n    }\n    if (!fold)\n        fold = ' ';\n    return { fold, offset };\n}\nconst escapeCodes = {\n    '0': '\\0', // null character\n    a: '\\x07', // bell character\n    b: '\\b', // backspace\n    e: '\\x1b', // escape character\n    f: '\\f', // form feed\n    n: '\\n', // line feed\n    r: '\\r', // carriage return\n    t: '\\t', // horizontal tab\n    v: '\\v', // vertical tab\n    N: '\\u0085', // Unicode next line\n    _: '\\u00a0', // Unicode non-breaking space\n    L: '\\u2028', // Unicode line separator\n    P: '\\u2029', // Unicode paragraph separator\n    ' ': ' ',\n    '\"': '\"',\n    '/': '/',\n    '\\\\': '\\\\',\n    '\\t': '\\t'\n};\nfunction parseCharCode(source, offset, length, onError) {\n    const cc = source.substr(offset, length);\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\n    const code = ok ? parseInt(cc, 16) : NaN;\n    if (isNaN(code)) {\n        const raw = source.substr(offset - 2, length + 2);\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n        return raw;\n    }\n    return String.fromCodePoint(code);\n}\n\nexport { resolveFlowScalar };\n","import { SCALAR, isScalar } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { resolveBlockScalar } from './resolve-block-scalar.js';\nimport { resolveFlowScalar } from './resolve-flow-scalar.js';\n\nfunction composeScalar(ctx, token, tagToken, onError) {\n    const { value, type, comment, range } = token.type === 'block-scalar'\n        ? resolveBlockScalar(token, ctx.options.strict, onError)\n        : resolveFlowScalar(token, ctx.options.strict, onError);\n    const tagName = tagToken\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\n        : null;\n    const tag = tagToken && tagName\n        ? findScalarTagByName(ctx.schema, value, tagName, tagToken, onError)\n        : token.type === 'scalar'\n            ? findScalarTagByTest(ctx, value, token, onError)\n            : ctx.schema[SCALAR];\n    let scalar;\n    try {\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\n        scalar = isScalar(res) ? res : new Scalar(res);\n    }\n    catch (error) {\n        const msg = error instanceof Error ? error.message : String(error);\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\n        scalar = new Scalar(value);\n    }\n    scalar.range = range;\n    scalar.source = value;\n    if (type)\n        scalar.type = type;\n    if (tagName)\n        scalar.tag = tagName;\n    if (tag.format)\n        scalar.format = tag.format;\n    if (comment)\n        scalar.comment = comment;\n    return scalar;\n}\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\n    if (tagName === '!')\n        return schema[SCALAR]; // non-specific tag\n    const matchWithTest = [];\n    for (const tag of schema.tags) {\n        if (!tag.collection && tag.tag === tagName) {\n            if (tag.default && tag.test)\n                matchWithTest.push(tag);\n            else\n                return tag;\n        }\n    }\n    for (const tag of matchWithTest)\n        if (tag.test?.test(value))\n            return tag;\n    const kt = schema.knownTags[tagName];\n    if (kt && !kt.collection) {\n        // Ensure that the known tag is available for stringifying,\n        // but does not get used by default.\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\n        return kt;\n    }\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\n    return schema[SCALAR];\n}\nfunction findScalarTagByTest({ directives, schema }, value, token, onError) {\n    const tag = schema.tags.find(tag => tag.default && tag.test?.test(value)) || schema[SCALAR];\n    if (schema.compat) {\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\n            schema[SCALAR];\n        if (tag.tag !== compat.tag) {\n            const ts = directives.tagString(tag.tag);\n            const cs = directives.tagString(compat.tag);\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\n        }\n    }\n    return tag;\n}\n\nexport { composeScalar };\n","function emptyScalarPosition(offset, before, pos) {\n    if (before) {\n        if (pos === null)\n            pos = before.length;\n        for (let i = pos - 1; i >= 0; --i) {\n            let st = before[i];\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                case 'newline':\n                    offset -= st.source.length;\n                    continue;\n            }\n            // Technically, an empty scalar is immediately after the last non-empty\n            // node, but it's more useful to place it after any whitespace.\n            st = before[++i];\n            while (st?.type === 'space') {\n                offset += st.source.length;\n                st = before[++i];\n            }\n            break;\n        }\n    }\n    return offset;\n}\n\nexport { emptyScalarPosition };\n","import { Alias } from '../nodes/Alias.js';\nimport { composeCollection } from './compose-collection.js';\nimport { composeScalar } from './compose-scalar.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { emptyScalarPosition } from './util-empty-scalar-position.js';\n\nconst CN = { composeNode, composeEmptyNode };\nfunction composeNode(ctx, token, props, onError) {\n    const { spaceBefore, comment, anchor, tag } = props;\n    let node;\n    let isSrcToken = true;\n    switch (token.type) {\n        case 'alias':\n            node = composeAlias(ctx, token, onError);\n            if (anchor || tag)\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\n            break;\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'block-scalar':\n            node = composeScalar(ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        case 'block-map':\n        case 'block-seq':\n        case 'flow-collection':\n            node = composeCollection(CN, ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        default: {\n            const message = token.type === 'error'\n                ? token.message\n                : `Unsupported token (type: ${token.type})`;\n            onError(token, 'UNEXPECTED_TOKEN', message);\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\n            isSrcToken = false;\n        }\n    }\n    if (anchor && node.anchor === '')\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        if (token.type === 'scalar' && token.source === '')\n            node.comment = comment;\n        else\n            node.commentBefore = comment;\n    }\n    // @ts-expect-error Type checking misses meaning of isSrcToken\n    if (ctx.options.keepSourceTokens && isSrcToken)\n        node.srcToken = token;\n    return node;\n}\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {\n    const token = {\n        type: 'scalar',\n        offset: emptyScalarPosition(offset, before, pos),\n        indent: -1,\n        source: ''\n    };\n    const node = composeScalar(ctx, token, tag, onError);\n    if (anchor) {\n        node.anchor = anchor.source.substring(1);\n        if (node.anchor === '')\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        node.comment = comment;\n        node.range[2] = end;\n    }\n    return node;\n}\nfunction composeAlias({ options }, { offset, source, end }, onError) {\n    const alias = new Alias(source.substring(1));\n    if (alias.source === '')\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\n    if (alias.source.endsWith(':'))\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, options.strict, onError);\n    alias.range = [offset, valueEnd, re.offset];\n    if (re.comment)\n        alias.comment = re.comment;\n    return alias;\n}\n\nexport { composeEmptyNode, composeNode };\n","import { Directives } from '../doc/directives.js';\nimport { Document } from '../doc/Document.js';\nimport { YAMLWarning, YAMLParseError } from '../errors.js';\nimport { isCollection, isPair } from '../nodes/identity.js';\nimport { composeDoc } from './compose-doc.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction getErrorPos(src) {\n    if (typeof src === 'number')\n        return [src, src + 1];\n    if (Array.isArray(src))\n        return src.length === 2 ? src : [src[0], src[1]];\n    const { offset, source } = src;\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\n}\nfunction parsePrelude(prelude) {\n    let comment = '';\n    let atComment = false;\n    let afterEmptyLine = false;\n    for (let i = 0; i < prelude.length; ++i) {\n        const source = prelude[i];\n        switch (source[0]) {\n            case '#':\n                comment +=\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\n                        (source.substring(1) || ' ');\n                atComment = true;\n                afterEmptyLine = false;\n                break;\n            case '%':\n                if (prelude[i + 1]?.[0] !== '#')\n                    i += 1;\n                atComment = false;\n                break;\n            default:\n                // This may be wrong after doc-end, but in that case it doesn't matter\n                if (!atComment)\n                    afterEmptyLine = true;\n                atComment = false;\n        }\n    }\n    return { comment, afterEmptyLine };\n}\n/**\n * Compose a stream of CST nodes into a stream of YAML Documents.\n *\n * ```ts\n * import { Composer, Parser } from 'yaml'\n *\n * const src: string = ...\n * const tokens = new Parser().parse(src)\n * const docs = new Composer().compose(tokens)\n * ```\n */\nclass Composer {\n    constructor(options = {}) {\n        this.doc = null;\n        this.atDirectives = false;\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n        this.onError = (source, code, message, warning) => {\n            const pos = getErrorPos(source);\n            if (warning)\n                this.warnings.push(new YAMLWarning(pos, code, message));\n            else\n                this.errors.push(new YAMLParseError(pos, code, message));\n        };\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        this.directives = new Directives({ version: options.version || '1.2' });\n        this.options = options;\n    }\n    decorate(doc, afterDoc) {\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\n        //console.log({ dc: doc.comment, prelude, comment })\n        if (comment) {\n            const dc = doc.contents;\n            if (afterDoc) {\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\n            }\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\n                doc.commentBefore = comment;\n            }\n            else if (isCollection(dc) && !dc.flow && dc.items.length > 0) {\n                let it = dc.items[0];\n                if (isPair(it))\n                    it = it.key;\n                const cb = it.commentBefore;\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n            else {\n                const cb = dc.commentBefore;\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n        }\n        if (afterDoc) {\n            Array.prototype.push.apply(doc.errors, this.errors);\n            Array.prototype.push.apply(doc.warnings, this.warnings);\n        }\n        else {\n            doc.errors = this.errors;\n            doc.warnings = this.warnings;\n        }\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n    }\n    /**\n     * Current stream status information.\n     *\n     * Mostly useful at the end of input for an empty stream.\n     */\n    streamInfo() {\n        return {\n            comment: parsePrelude(this.prelude).comment,\n            directives: this.directives,\n            errors: this.errors,\n            warnings: this.warnings\n        };\n    }\n    /**\n     * Compose tokens into documents.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *compose(tokens, forceDoc = false, endOffset = -1) {\n        for (const token of tokens)\n            yield* this.next(token);\n        yield* this.end(forceDoc, endOffset);\n    }\n    /** Advance the composer by one CST token. */\n    *next(token) {\n        switch (token.type) {\n            case 'directive':\n                this.directives.add(token.source, (offset, message, warning) => {\n                    const pos = getErrorPos(token);\n                    pos[0] += offset;\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\n                });\n                this.prelude.push(token.source);\n                this.atDirectives = true;\n                break;\n            case 'document': {\n                const doc = composeDoc(this.options, this.directives, token, this.onError);\n                if (this.atDirectives && !doc.directives.docStart)\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\n                this.decorate(doc, false);\n                if (this.doc)\n                    yield this.doc;\n                this.doc = doc;\n                this.atDirectives = false;\n                break;\n            }\n            case 'byte-order-mark':\n            case 'space':\n                break;\n            case 'comment':\n            case 'newline':\n                this.prelude.push(token.source);\n                break;\n            case 'error': {\n                const msg = token.source\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\n                    : token.message;\n                const error = new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\n                if (this.atDirectives || !this.doc)\n                    this.errors.push(error);\n                else\n                    this.doc.errors.push(error);\n                break;\n            }\n            case 'doc-end': {\n                if (!this.doc) {\n                    const msg = 'Unexpected doc-end without preceding document';\n                    this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\n                    break;\n                }\n                this.doc.directives.docEnd = true;\n                const end = resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\n                this.decorate(this.doc, true);\n                if (end.comment) {\n                    const dc = this.doc.comment;\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\n                }\n                this.doc.range[2] = end.offset;\n                break;\n            }\n            default:\n                this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\n        }\n    }\n    /**\n     * Call at end of input to yield any remaining document.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *end(forceDoc = false, endOffset = -1) {\n        if (this.doc) {\n            this.decorate(this.doc, true);\n            yield this.doc;\n            this.doc = null;\n        }\n        else if (forceDoc) {\n            const opts = Object.assign({ _directives: this.directives }, this.options);\n            const doc = new Document(undefined, opts);\n            if (this.atDirectives)\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\n            doc.range = [0, endOffset, endOffset];\n            this.decorate(doc, false);\n            yield doc;\n        }\n    }\n}\n\nexport { Composer };\n","import { Document } from '../doc/Document.js';\nimport { composeNode, composeEmptyNode } from './compose-node.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\n\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\n    const opts = Object.assign({ _directives: directives }, options);\n    const doc = new Document(undefined, opts);\n    const ctx = {\n        atRoot: true,\n        directives: doc.directives,\n        options: doc.options,\n        schema: doc.schema\n    };\n    const props = resolveProps(start, {\n        indicator: 'doc-start',\n        next: value ?? end?.[0],\n        offset,\n        onError,\n        startOnNewline: true\n    });\n    if (props.found) {\n        doc.directives.docStart = true;\n        if (value &&\n            (value.type === 'block-map' || value.type === 'block-seq') &&\n            !props.hasNewline)\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\n    }\n    // @ts-expect-error If Contents is set, let's trust the user\n    doc.contents = value\n        ? composeNode(ctx, value, props, onError)\n        : composeEmptyNode(ctx, props.end, start, null, props, onError);\n    const contentEnd = doc.contents.range[2];\n    const re = resolveEnd(end, contentEnd, false, onError);\n    if (re.comment)\n        doc.comment = re.comment;\n    doc.range = [offset, contentEnd, re.offset];\n    return doc;\n}\n\nexport { composeDoc };\n","import { resolveBlockScalar } from '../compose/resolve-block-scalar.js';\nimport { resolveFlowScalar } from '../compose/resolve-flow-scalar.js';\nimport { YAMLParseError } from '../errors.js';\nimport { stringifyString } from '../stringify/stringifyString.js';\n\nfunction resolveAsScalar(token, strict = true, onError) {\n    if (token) {\n        const _onError = (pos, code, message) => {\n            const offset = typeof pos === 'number' ? pos : Array.isArray(pos) ? pos[0] : pos.offset;\n            if (onError)\n                onError(offset, code, message);\n            else\n                throw new YAMLParseError([offset, offset + 1], code, message);\n        };\n        switch (token.type) {\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return resolveFlowScalar(token, strict, _onError);\n            case 'block-scalar':\n                return resolveBlockScalar(token, strict, _onError);\n        }\n    }\n    return null;\n}\n/**\n * Create a new scalar token with `value`\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.indent The indent level of the token.\n * @param context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token's value.\n * @param context.offset The offset position of the token.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction createScalarToken(value, context) {\n    const { implicitKey = false, indent, inFlow = false, offset = -1, type = 'PLAIN' } = context;\n    const source = stringifyString({ type, value }, {\n        implicitKey,\n        indent: indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    const end = context.end ?? [\n        { type: 'newline', offset: -1, indent, source: '\\n' }\n    ];\n    switch (source[0]) {\n        case '|':\n        case '>': {\n            const he = source.indexOf('\\n');\n            const head = source.substring(0, he);\n            const body = source.substring(he + 1) + '\\n';\n            const props = [\n                { type: 'block-scalar-header', offset, indent, source: head }\n            ];\n            if (!addEndtoBlockProps(props, end))\n                props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n            return { type: 'block-scalar', offset, indent, props, source: body };\n        }\n        case '\"':\n            return { type: 'double-quoted-scalar', offset, indent, source, end };\n        case \"'\":\n            return { type: 'single-quoted-scalar', offset, indent, source, end };\n        default:\n            return { type: 'scalar', offset, indent, source, end };\n    }\n}\n/**\n * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.\n *\n * Best efforts are made to retain any comments previously associated with the `token`,\n * though all contents within a collection's `items` will be overwritten.\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.afterKey In most cases, values after a key should have an additional level of indentation.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.inFlow Being within a flow collection may affect the resolved type of the token's value.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction setScalarValue(token, value, context = {}) {\n    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;\n    let indent = 'indent' in token ? token.indent : null;\n    if (afterKey && typeof indent === 'number')\n        indent += 2;\n    if (!type)\n        switch (token.type) {\n            case 'single-quoted-scalar':\n                type = 'QUOTE_SINGLE';\n                break;\n            case 'double-quoted-scalar':\n                type = 'QUOTE_DOUBLE';\n                break;\n            case 'block-scalar': {\n                const header = token.props[0];\n                if (header.type !== 'block-scalar-header')\n                    throw new Error('Invalid block scalar header');\n                type = header.source[0] === '>' ? 'BLOCK_FOLDED' : 'BLOCK_LITERAL';\n                break;\n            }\n            default:\n                type = 'PLAIN';\n        }\n    const source = stringifyString({ type, value }, {\n        implicitKey: implicitKey || indent === null,\n        indent: indent !== null && indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    switch (source[0]) {\n        case '|':\n        case '>':\n            setBlockScalarValue(token, source);\n            break;\n        case '\"':\n            setFlowScalarValue(token, source, 'double-quoted-scalar');\n            break;\n        case \"'\":\n            setFlowScalarValue(token, source, 'single-quoted-scalar');\n            break;\n        default:\n            setFlowScalarValue(token, source, 'scalar');\n    }\n}\nfunction setBlockScalarValue(token, source) {\n    const he = source.indexOf('\\n');\n    const head = source.substring(0, he);\n    const body = source.substring(he + 1) + '\\n';\n    if (token.type === 'block-scalar') {\n        const header = token.props[0];\n        if (header.type !== 'block-scalar-header')\n            throw new Error('Invalid block scalar header');\n        header.source = head;\n        token.source = body;\n    }\n    else {\n        const { offset } = token;\n        const indent = 'indent' in token ? token.indent : -1;\n        const props = [\n            { type: 'block-scalar-header', offset, indent, source: head }\n        ];\n        if (!addEndtoBlockProps(props, 'end' in token ? token.end : undefined))\n            props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n        for (const key of Object.keys(token))\n            if (key !== 'type' && key !== 'offset')\n                delete token[key];\n        Object.assign(token, { type: 'block-scalar', indent, props, source: body });\n    }\n}\n/** @returns `true` if last token is a newline */\nfunction addEndtoBlockProps(props, end) {\n    if (end)\n        for (const st of end)\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                    props.push(st);\n                    break;\n                case 'newline':\n                    props.push(st);\n                    return true;\n            }\n    return false;\n}\nfunction setFlowScalarValue(token, source, type) {\n    switch (token.type) {\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            token.type = type;\n            token.source = source;\n            break;\n        case 'block-scalar': {\n            const end = token.props.slice(1);\n            let oa = source.length;\n            if (token.props[0].type === 'block-scalar-header')\n                oa -= token.props[0].source.length;\n            for (const tok of end)\n                tok.offset += oa;\n            delete token.props;\n            Object.assign(token, { type, source, end });\n            break;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            const offset = token.offset + source.length;\n            const nl = { type: 'newline', offset, indent: token.indent, source: '\\n' };\n            delete token.items;\n            Object.assign(token, { type, source, end: [nl] });\n            break;\n        }\n        default: {\n            const indent = 'indent' in token ? token.indent : -1;\n            const end = 'end' in token && Array.isArray(token.end)\n                ? token.end.filter(st => st.type === 'space' ||\n                    st.type === 'comment' ||\n                    st.type === 'newline')\n                : [];\n            for (const key of Object.keys(token))\n                if (key !== 'type' && key !== 'offset')\n                    delete token[key];\n            Object.assign(token, { type, indent, source, end });\n        }\n    }\n}\n\nexport { createScalarToken, resolveAsScalar, setScalarValue };\n","/**\n * Stringify a CST document, token, or collection item\n *\n * Fair warning: This applies no validation whatsoever, and\n * simply concatenates the sources in their logical order.\n */\nconst stringify = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\nfunction stringifyToken(token) {\n    switch (token.type) {\n        case 'block-scalar': {\n            let res = '';\n            for (const tok of token.props)\n                res += stringifyToken(tok);\n            return res + token.source;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            let res = '';\n            for (const item of token.items)\n                res += stringifyItem(item);\n            return res;\n        }\n        case 'flow-collection': {\n            let res = token.start.source;\n            for (const item of token.items)\n                res += stringifyItem(item);\n            for (const st of token.end)\n                res += st.source;\n            return res;\n        }\n        case 'document': {\n            let res = stringifyItem(token);\n            if (token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n        default: {\n            let res = token.source;\n            if ('end' in token && token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n    }\n}\nfunction stringifyItem({ start, key, sep, value }) {\n    let res = '';\n    for (const st of start)\n        res += st.source;\n    if (key)\n        res += stringifyToken(key);\n    if (sep)\n        for (const st of sep)\n            res += st.source;\n    if (value)\n        res += stringifyToken(value);\n    return res;\n}\n\nexport { stringify };\n","const BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove item');\n/**\n * Apply a visitor to a CST document or item.\n *\n * Walks through the tree (depth-first) starting from the root, calling a\n * `visitor` function with two arguments when entering each item:\n *   - `item`: The current item, which included the following members:\n *     - `start: SourceToken[]`  Source tokens before the key or value,\n *       possibly including its anchor or tag.\n *     - `key?: Token | null`  Set for pair values. May then be `null`, if\n *       the key before the `:` separator is empty.\n *     - `sep?: SourceToken[]`  Source tokens between the key and the value,\n *       which should include the `:` map value indicator if `value` is set.\n *     - `value?: Token`  The value of a sequence item, or of a map pair.\n *   - `path`: The steps from the root to the current node, as an array of\n *     `['key' | 'value', number]` tuples.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\n *      next sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\n *   - `number`: Set the index of the next step. This is useful especially if\n *     the index of the current token has changed.\n *   - `function`: Define the next visitor for this item. After the original\n *     visitor is called on item entry, next visitors are called after handling\n *     a non-empty `key` and when exiting the item.\n */\nfunction visit(cst, visitor) {\n    if ('type' in cst && cst.type === 'document')\n        cst = { start: cst.start, value: cst.value };\n    _visit(Object.freeze([]), cst, visitor);\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current item */\nvisit.SKIP = SKIP;\n/** Remove the current item */\nvisit.REMOVE = REMOVE;\n/** Find the item at `path` from `cst` as the root */\nvisit.itemAtPath = (cst, path) => {\n    let item = cst;\n    for (const [field, index] of path) {\n        const tok = item?.[field];\n        if (tok && 'items' in tok) {\n            item = tok.items[index];\n        }\n        else\n            return undefined;\n    }\n    return item;\n};\n/**\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\n *\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\n */\nvisit.parentCollection = (cst, path) => {\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\n    const field = path[path.length - 1][0];\n    const coll = parent?.[field];\n    if (coll && 'items' in coll)\n        return coll;\n    throw new Error('Parent collection not found');\n};\nfunction _visit(path, item, visitor) {\n    let ctrl = visitor(item, path);\n    if (typeof ctrl === 'symbol')\n        return ctrl;\n    for (const field of ['key', 'value']) {\n        const token = item[field];\n        if (token && 'items' in token) {\n            for (let i = 0; i < token.items.length; ++i) {\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    token.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n            if (typeof ctrl === 'function' && field === 'key')\n                ctrl = ctrl(item, path);\n        }\n    }\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\n}\n\nexport { visit };\n","export { createScalarToken, resolveAsScalar, setScalarValue } from './cst-scalar.js';\nexport { stringify } from './cst-stringify.js';\nexport { visit } from './cst-visit.js';\n\n/** The byte order mark */\nconst BOM = '\\u{FEFF}';\n/** Start of doc-mode */\nconst DOCUMENT = '\\x02'; // C0: Start of Text\n/** Unexpected end of flow-mode */\nconst FLOW_END = '\\x18'; // C0: Cancel\n/** Next token is a scalar value */\nconst SCALAR = '\\x1f'; // C0: Unit Separator\n/** @returns `true` if `token` is a flow or block collection */\nconst isCollection = (token) => !!token && 'items' in token;\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\nconst isScalar = (token) => !!token &&\n    (token.type === 'scalar' ||\n        token.type === 'single-quoted-scalar' ||\n        token.type === 'double-quoted-scalar' ||\n        token.type === 'block-scalar');\n/* istanbul ignore next */\n/** Get a printable representation of a lexer token */\nfunction prettyToken(token) {\n    switch (token) {\n        case BOM:\n            return '<BOM>';\n        case DOCUMENT:\n            return '<DOC>';\n        case FLOW_END:\n            return '<FLOW_END>';\n        case SCALAR:\n            return '<SCALAR>';\n        default:\n            return JSON.stringify(token);\n    }\n}\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\nfunction tokenType(source) {\n    switch (source) {\n        case BOM:\n            return 'byte-order-mark';\n        case DOCUMENT:\n            return 'doc-mode';\n        case FLOW_END:\n            return 'flow-error-end';\n        case SCALAR:\n            return 'scalar';\n        case '---':\n            return 'doc-start';\n        case '...':\n            return 'doc-end';\n        case '':\n        case '\\n':\n        case '\\r\\n':\n            return 'newline';\n        case '-':\n            return 'seq-item-ind';\n        case '?':\n            return 'explicit-key-ind';\n        case ':':\n            return 'map-value-ind';\n        case '{':\n            return 'flow-map-start';\n        case '}':\n            return 'flow-map-end';\n        case '[':\n            return 'flow-seq-start';\n        case ']':\n            return 'flow-seq-end';\n        case ',':\n            return 'comma';\n    }\n    switch (source[0]) {\n        case ' ':\n        case '\\t':\n            return 'space';\n        case '#':\n            return 'comment';\n        case '%':\n            return 'directive-line';\n        case '*':\n            return 'alias';\n        case '&':\n            return 'anchor';\n        case '!':\n            return 'tag';\n        case \"'\":\n            return 'single-quoted-scalar';\n        case '\"':\n            return 'double-quoted-scalar';\n        case '|':\n        case '>':\n            return 'block-scalar-header';\n    }\n    return null;\n}\n\nexport { BOM, DOCUMENT, FLOW_END, SCALAR, isCollection, isScalar, prettyToken, tokenType };\n","import { BOM, DOCUMENT, FLOW_END, SCALAR } from './cst.js';\n\n/*\nSTART -> stream\n\nstream\n  directive -> line-end -> stream\n  indent + line-end -> stream\n  [else] -> line-start\n\nline-end\n  comment -> line-end\n  newline -> .\n  input-end -> END\n\nline-start\n  doc-start -> doc\n  doc-end -> stream\n  [else] -> indent -> block-start\n\nblock-start\n  seq-item-start -> block-start\n  explicit-key-start -> block-start\n  map-value-start -> block-start\n  [else] -> doc\n\ndoc\n  line-end -> line-start\n  spaces -> doc\n  anchor -> doc\n  tag -> doc\n  flow-start -> flow -> doc\n  flow-end -> error -> doc\n  seq-item-start -> error -> doc\n  explicit-key-start -> error -> doc\n  map-value-start -> doc\n  alias -> doc\n  quote-start -> quoted-scalar -> doc\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\n  [else] -> plain-scalar(false, min) -> doc\n\nflow\n  line-end -> flow\n  spaces -> flow\n  anchor -> flow\n  tag -> flow\n  flow-start -> flow -> flow\n  flow-end -> .\n  seq-item-start -> error -> flow\n  explicit-key-start -> flow\n  map-value-start -> flow\n  alias -> flow\n  quote-start -> quoted-scalar -> flow\n  comma -> flow\n  [else] -> plain-scalar(true, 0) -> flow\n\nquoted-scalar\n  quote-end -> .\n  [else] -> quoted-scalar\n\nblock-scalar(min)\n  newline + peek(indent < min) -> .\n  [else] -> block-scalar(min)\n\nplain-scalar(is-flow, min)\n  scalar-end(is-flow) -> .\n  peek(newline + (indent < min)) -> .\n  [else] -> plain-scalar(min)\n*/\nfunction isEmpty(ch) {\n    switch (ch) {\n        case undefined:\n        case ' ':\n        case '\\n':\n        case '\\r':\n        case '\\t':\n            return true;\n        default:\n            return false;\n    }\n}\nconst hexDigits = '0123456789ABCDEFabcdef'.split('');\nconst tagChars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\".split('');\nconst invalidFlowScalarChars = ',[]{}'.split('');\nconst invalidAnchorChars = ' ,[]{}\\n\\r\\t'.split('');\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.includes(ch);\n/**\n * Splits an input string into lexical tokens, i.e. smaller strings that are\n * easily identifiable by `tokens.tokenType()`.\n *\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\n * until a complete token can be emitted.\n *\n * In addition to slices of the original input, the following control characters\n * may also be emitted:\n *\n * - `\\x02` (Start of Text): A document starts with the next token\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\n * - `\\x1f` (Unit Separator): Next token is a scalar value\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\n */\nclass Lexer {\n    constructor() {\n        /**\n         * Flag indicating whether the end of the current buffer marks the end of\n         * all input\n         */\n        this.atEnd = false;\n        /**\n         * Explicit indent set in block scalar header, as an offset from the current\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\n         * explicitly set.\n         */\n        this.blockScalarIndent = -1;\n        /**\n         * Block scalars that include a + (keep) chomping indicator in their header\n         * include trailing empty lines, which are otherwise excluded from the\n         * scalar's contents.\n         */\n        this.blockScalarKeep = false;\n        /** Current input */\n        this.buffer = '';\n        /**\n         * Flag noting whether the map value indicator : can immediately follow this\n         * node within a flow context.\n         */\n        this.flowKey = false;\n        /** Count of surrounding flow collection levels. */\n        this.flowLevel = 0;\n        /**\n         * Minimum level of indentation required for next lines to be parsed as a\n         * part of the current scalar value.\n         */\n        this.indentNext = 0;\n        /** Indentation level of the current line. */\n        this.indentValue = 0;\n        /** Position of the next \\n character. */\n        this.lineEndPos = null;\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\n        this.next = null;\n        /** A pointer to `buffer`; the current position of the lexer. */\n        this.pos = 0;\n    }\n    /**\n     * Generate YAML tokens from the `source` string. If `incomplete`,\n     * a part of the last line may be left as a buffer for the next call.\n     *\n     * @returns A generator of lexical tokens\n     */\n    *lex(source, incomplete = false) {\n        if (source) {\n            this.buffer = this.buffer ? this.buffer + source : source;\n            this.lineEndPos = null;\n        }\n        this.atEnd = !incomplete;\n        let next = this.next ?? 'stream';\n        while (next && (incomplete || this.hasChars(1)))\n            next = yield* this.parseNext(next);\n    }\n    atLineEnd() {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (ch === ' ' || ch === '\\t')\n            ch = this.buffer[++i];\n        if (!ch || ch === '#' || ch === '\\n')\n            return true;\n        if (ch === '\\r')\n            return this.buffer[i + 1] === '\\n';\n        return false;\n    }\n    charAt(n) {\n        return this.buffer[this.pos + n];\n    }\n    continueScalar(offset) {\n        let ch = this.buffer[offset];\n        if (this.indentNext > 0) {\n            let indent = 0;\n            while (ch === ' ')\n                ch = this.buffer[++indent + offset];\n            if (ch === '\\r') {\n                const next = this.buffer[indent + offset + 1];\n                if (next === '\\n' || (!next && !this.atEnd))\n                    return offset + indent + 1;\n            }\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\n                ? offset + indent\n                : -1;\n        }\n        if (ch === '-' || ch === '.') {\n            const dt = this.buffer.substr(offset, 3);\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\n                return -1;\n        }\n        return offset;\n    }\n    getLine() {\n        let end = this.lineEndPos;\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\n            end = this.buffer.indexOf('\\n', this.pos);\n            this.lineEndPos = end;\n        }\n        if (end === -1)\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\n        if (this.buffer[end - 1] === '\\r')\n            end -= 1;\n        return this.buffer.substring(this.pos, end);\n    }\n    hasChars(n) {\n        return this.pos + n <= this.buffer.length;\n    }\n    setNext(state) {\n        this.buffer = this.buffer.substring(this.pos);\n        this.pos = 0;\n        this.lineEndPos = null;\n        this.next = state;\n        return null;\n    }\n    peek(n) {\n        return this.buffer.substr(this.pos, n);\n    }\n    *parseNext(next) {\n        switch (next) {\n            case 'stream':\n                return yield* this.parseStream();\n            case 'line-start':\n                return yield* this.parseLineStart();\n            case 'block-start':\n                return yield* this.parseBlockStart();\n            case 'doc':\n                return yield* this.parseDocument();\n            case 'flow':\n                return yield* this.parseFlowCollection();\n            case 'quoted-scalar':\n                return yield* this.parseQuotedScalar();\n            case 'block-scalar':\n                return yield* this.parseBlockScalar();\n            case 'plain-scalar':\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseStream() {\n        let line = this.getLine();\n        if (line === null)\n            return this.setNext('stream');\n        if (line[0] === BOM) {\n            yield* this.pushCount(1);\n            line = line.substring(1);\n        }\n        if (line[0] === '%') {\n            let dirEnd = line.length;\n            const cs = line.indexOf('#');\n            if (cs !== -1) {\n                const ch = line[cs - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd = cs - 1;\n            }\n            while (true) {\n                const ch = line[dirEnd - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd -= 1;\n                else\n                    break;\n            }\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\n            yield* this.pushCount(line.length - n); // possible comment\n            this.pushNewline();\n            return 'stream';\n        }\n        if (this.atLineEnd()) {\n            const sp = yield* this.pushSpaces(true);\n            yield* this.pushCount(line.length - sp);\n            yield* this.pushNewline();\n            return 'stream';\n        }\n        yield DOCUMENT;\n        return yield* this.parseLineStart();\n    }\n    *parseLineStart() {\n        const ch = this.charAt(0);\n        if (!ch && !this.atEnd)\n            return this.setNext('line-start');\n        if (ch === '-' || ch === '.') {\n            if (!this.atEnd && !this.hasChars(4))\n                return this.setNext('line-start');\n            const s = this.peek(3);\n            if (s === '---' && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                this.indentValue = 0;\n                this.indentNext = 0;\n                return 'doc';\n            }\n            else if (s === '...' && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                return 'stream';\n            }\n        }\n        this.indentValue = yield* this.pushSpaces(false);\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\n            this.indentNext = this.indentValue;\n        return yield* this.parseBlockStart();\n    }\n    *parseBlockStart() {\n        const [ch0, ch1] = this.peek(2);\n        if (!ch1 && !this.atEnd)\n            return this.setNext('block-start');\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\n            this.indentNext = this.indentValue + 1;\n            this.indentValue += n;\n            return yield* this.parseBlockStart();\n        }\n        return 'doc';\n    }\n    *parseDocument() {\n        yield* this.pushSpaces(true);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('doc');\n        let n = yield* this.pushIndicators();\n        switch (line[n]) {\n            case '#':\n                yield* this.pushCount(line.length - n);\n            // fallthrough\n            case undefined:\n                yield* this.pushNewline();\n                return yield* this.parseLineStart();\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel = 1;\n                return 'flow';\n            case '}':\n            case ']':\n                // this is an error\n                yield* this.pushCount(1);\n                return 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'doc';\n            case '\"':\n            case \"'\":\n                return yield* this.parseQuotedScalar();\n            case '|':\n            case '>':\n                n += yield* this.parseBlockScalarHeader();\n                n += yield* this.pushSpaces(true);\n                yield* this.pushCount(line.length - n);\n                yield* this.pushNewline();\n                return yield* this.parseBlockScalar();\n            default:\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseFlowCollection() {\n        let nl, sp;\n        let indent = -1;\n        do {\n            nl = yield* this.pushNewline();\n            if (nl > 0) {\n                sp = yield* this.pushSpaces(false);\n                this.indentValue = indent = sp;\n            }\n            else {\n                sp = 0;\n            }\n            sp += yield* this.pushSpaces(true);\n        } while (nl + sp > 0);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('flow');\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\n            (indent === 0 &&\n                (line.startsWith('---') || line.startsWith('...')) &&\n                isEmpty(line[3]))) {\n            // Allowing for the terminal ] or } at the same (rather than greater)\n            // indent level as the initial [ or { is technically invalid, but\n            // failing here would be surprising to users.\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\n                this.flowLevel === 1 &&\n                (line[0] === ']' || line[0] === '}');\n            if (!atFlowEndMarker) {\n                // this is an error\n                this.flowLevel = 0;\n                yield FLOW_END;\n                return yield* this.parseLineStart();\n            }\n        }\n        let n = 0;\n        while (line[n] === ',') {\n            n += yield* this.pushCount(1);\n            n += yield* this.pushSpaces(true);\n            this.flowKey = false;\n        }\n        n += yield* this.pushIndicators();\n        switch (line[n]) {\n            case undefined:\n                return 'flow';\n            case '#':\n                yield* this.pushCount(line.length - n);\n                return 'flow';\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel += 1;\n                return 'flow';\n            case '}':\n            case ']':\n                yield* this.pushCount(1);\n                this.flowKey = true;\n                this.flowLevel -= 1;\n                return this.flowLevel ? 'flow' : 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'flow';\n            case '\"':\n            case \"'\":\n                this.flowKey = true;\n                return yield* this.parseQuotedScalar();\n            case ':': {\n                const next = this.charAt(1);\n                if (this.flowKey || isEmpty(next) || next === ',') {\n                    this.flowKey = false;\n                    yield* this.pushCount(1);\n                    yield* this.pushSpaces(true);\n                    return 'flow';\n                }\n            }\n            // fallthrough\n            default:\n                this.flowKey = false;\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseQuotedScalar() {\n        const quote = this.charAt(0);\n        let end = this.buffer.indexOf(quote, this.pos + 1);\n        if (quote === \"'\") {\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\n                end = this.buffer.indexOf(\"'\", end + 2);\n        }\n        else {\n            // double-quote\n            while (end !== -1) {\n                let n = 0;\n                while (this.buffer[end - 1 - n] === '\\\\')\n                    n += 1;\n                if (n % 2 === 0)\n                    break;\n                end = this.buffer.indexOf('\"', end + 1);\n            }\n        }\n        // Only looking for newlines within the quotes\n        const qb = this.buffer.substring(0, end);\n        let nl = qb.indexOf('\\n', this.pos);\n        if (nl !== -1) {\n            while (nl !== -1) {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = qb.indexOf('\\n', cs);\n            }\n            if (nl !== -1) {\n                // this is an error caused by an unexpected unindent\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\n            }\n        }\n        if (end === -1) {\n            if (!this.atEnd)\n                return this.setNext('quoted-scalar');\n            end = this.buffer.length;\n        }\n        yield* this.pushToIndex(end + 1, false);\n        return this.flowLevel ? 'flow' : 'doc';\n    }\n    *parseBlockScalarHeader() {\n        this.blockScalarIndent = -1;\n        this.blockScalarKeep = false;\n        let i = this.pos;\n        while (true) {\n            const ch = this.buffer[++i];\n            if (ch === '+')\n                this.blockScalarKeep = true;\n            else if (ch > '0' && ch <= '9')\n                this.blockScalarIndent = Number(ch) - 1;\n            else if (ch !== '-')\n                break;\n        }\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\n    }\n    *parseBlockScalar() {\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\n        let indent = 0;\n        let ch;\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\n            switch (ch) {\n                case ' ':\n                    indent += 1;\n                    break;\n                case '\\n':\n                    nl = i;\n                    indent = 0;\n                    break;\n                case '\\r': {\n                    const next = this.buffer[i + 1];\n                    if (!next && !this.atEnd)\n                        return this.setNext('block-scalar');\n                    if (next === '\\n')\n                        break;\n                } // fallthrough\n                default:\n                    break loop;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('block-scalar');\n        if (indent >= this.indentNext) {\n            if (this.blockScalarIndent === -1)\n                this.indentNext = indent;\n            else\n                this.indentNext += this.blockScalarIndent;\n            do {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = this.buffer.indexOf('\\n', cs);\n            } while (nl !== -1);\n            if (nl === -1) {\n                if (!this.atEnd)\n                    return this.setNext('block-scalar');\n                nl = this.buffer.length;\n            }\n        }\n        if (!this.blockScalarKeep) {\n            do {\n                let i = nl - 1;\n                let ch = this.buffer[i];\n                if (ch === '\\r')\n                    ch = this.buffer[--i];\n                const lastChar = i; // Drop the line if last char not more indented\n                while (ch === ' ' || ch === '\\t')\n                    ch = this.buffer[--i];\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\n                    nl = i;\n                else\n                    break;\n            } while (true);\n        }\n        yield SCALAR;\n        yield* this.pushToIndex(nl + 1, true);\n        return yield* this.parseLineStart();\n    }\n    *parsePlainScalar() {\n        const inFlow = this.flowLevel > 0;\n        let end = this.pos - 1;\n        let i = this.pos - 1;\n        let ch;\n        while ((ch = this.buffer[++i])) {\n            if (ch === ':') {\n                const next = this.buffer[i + 1];\n                if (isEmpty(next) || (inFlow && next === ','))\n                    break;\n                end = i;\n            }\n            else if (isEmpty(ch)) {\n                let next = this.buffer[i + 1];\n                if (ch === '\\r') {\n                    if (next === '\\n') {\n                        i += 1;\n                        ch = '\\n';\n                        next = this.buffer[i + 1];\n                    }\n                    else\n                        end = i;\n                }\n                if (next === '#' || (inFlow && invalidFlowScalarChars.includes(next)))\n                    break;\n                if (ch === '\\n') {\n                    const cs = this.continueScalar(i + 1);\n                    if (cs === -1)\n                        break;\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\n                }\n            }\n            else {\n                if (inFlow && invalidFlowScalarChars.includes(ch))\n                    break;\n                end = i;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('plain-scalar');\n        yield SCALAR;\n        yield* this.pushToIndex(end + 1, true);\n        return inFlow ? 'flow' : 'doc';\n    }\n    *pushCount(n) {\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos += n;\n            return n;\n        }\n        return 0;\n    }\n    *pushToIndex(i, allowEmpty) {\n        const s = this.buffer.slice(this.pos, i);\n        if (s) {\n            yield s;\n            this.pos += s.length;\n            return s.length;\n        }\n        else if (allowEmpty)\n            yield '';\n        return 0;\n    }\n    *pushIndicators() {\n        switch (this.charAt(0)) {\n            case '!':\n                return ((yield* this.pushTag()) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '&':\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '-': // this is an error\n            case '?': // this is an error outside flow collections\n            case ':': {\n                const inFlow = this.flowLevel > 0;\n                const ch1 = this.charAt(1);\n                if (isEmpty(ch1) || (inFlow && invalidFlowScalarChars.includes(ch1))) {\n                    if (!inFlow)\n                        this.indentNext = this.indentValue + 1;\n                    else if (this.flowKey)\n                        this.flowKey = false;\n                    return ((yield* this.pushCount(1)) +\n                        (yield* this.pushSpaces(true)) +\n                        (yield* this.pushIndicators()));\n                }\n            }\n        }\n        return 0;\n    }\n    *pushTag() {\n        if (this.charAt(1) === '<') {\n            let i = this.pos + 2;\n            let ch = this.buffer[i];\n            while (!isEmpty(ch) && ch !== '>')\n                ch = this.buffer[++i];\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\n        }\n        else {\n            let i = this.pos + 1;\n            let ch = this.buffer[i];\n            while (ch) {\n                if (tagChars.includes(ch))\n                    ch = this.buffer[++i];\n                else if (ch === '%' &&\n                    hexDigits.includes(this.buffer[i + 1]) &&\n                    hexDigits.includes(this.buffer[i + 2])) {\n                    ch = this.buffer[(i += 3)];\n                }\n                else\n                    break;\n            }\n            return yield* this.pushToIndex(i, false);\n        }\n    }\n    *pushNewline() {\n        const ch = this.buffer[this.pos];\n        if (ch === '\\n')\n            return yield* this.pushCount(1);\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\n            return yield* this.pushCount(2);\n        else\n            return 0;\n    }\n    *pushSpaces(allowTabs) {\n        let i = this.pos - 1;\n        let ch;\n        do {\n            ch = this.buffer[++i];\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\n        const n = i - this.pos;\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos = i;\n        }\n        return n;\n    }\n    *pushUntil(test) {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (!test(ch))\n            ch = this.buffer[++i];\n        return yield* this.pushToIndex(i, false);\n    }\n}\n\nexport { Lexer };\n","/**\n * Tracks newlines during parsing in order to provide an efficient API for\n * determining the one-indexed `{ line, col }` position for any offset\n * within the input.\n */\nclass LineCounter {\n    constructor() {\n        this.lineStarts = [];\n        /**\n         * Should be called in ascending order. Otherwise, call\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\n         */\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\n        /**\n         * Performs a binary search and returns the 1-indexed { line, col }\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\n         * called or `offset` is before the first known newline.\n         */\n        this.linePos = (offset) => {\n            let low = 0;\n            let high = this.lineStarts.length;\n            while (low < high) {\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\n                if (this.lineStarts[mid] < offset)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            if (this.lineStarts[low] === offset)\n                return { line: low + 1, col: 1 };\n            if (low === 0)\n                return { line: 0, col: offset };\n            const start = this.lineStarts[low - 1];\n            return { line: low, col: offset - start + 1 };\n        };\n    }\n}\n\nexport { LineCounter };\n","import { tokenType } from './cst.js';\nimport { Lexer } from './lexer.js';\n\nfunction includesToken(list, type) {\n    for (let i = 0; i < list.length; ++i)\n        if (list[i].type === type)\n            return true;\n    return false;\n}\nfunction findNonEmptyIndex(list) {\n    for (let i = 0; i < list.length; ++i) {\n        switch (list[i].type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                break;\n            default:\n                return i;\n        }\n    }\n    return -1;\n}\nfunction isFlowToken(token) {\n    switch (token?.type) {\n        case 'alias':\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'flow-collection':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getPrevProps(parent) {\n    switch (parent.type) {\n        case 'document':\n            return parent.start;\n        case 'block-map': {\n            const it = parent.items[parent.items.length - 1];\n            return it.sep ?? it.start;\n        }\n        case 'block-seq':\n            return parent.items[parent.items.length - 1].start;\n        /* istanbul ignore next should not happen */\n        default:\n            return [];\n    }\n}\n/** Note: May modify input array */\nfunction getFirstKeyStartProps(prev) {\n    if (prev.length === 0)\n        return [];\n    let i = prev.length;\n    loop: while (--i >= 0) {\n        switch (prev[i].type) {\n            case 'doc-start':\n            case 'explicit-key-ind':\n            case 'map-value-ind':\n            case 'seq-item-ind':\n            case 'newline':\n                break loop;\n        }\n    }\n    while (prev[++i]?.type === 'space') {\n        /* loop */\n    }\n    return prev.splice(i, prev.length);\n}\nfunction fixFlowSeqItems(fc) {\n    if (fc.start.type === 'flow-seq-start') {\n        for (const it of fc.items) {\n            if (it.sep &&\n                !it.value &&\n                !includesToken(it.start, 'explicit-key-ind') &&\n                !includesToken(it.sep, 'map-value-ind')) {\n                if (it.key)\n                    it.value = it.key;\n                delete it.key;\n                if (isFlowToken(it.value)) {\n                    if (it.value.end)\n                        Array.prototype.push.apply(it.value.end, it.sep);\n                    else\n                        it.value.end = it.sep;\n                }\n                else\n                    Array.prototype.push.apply(it.start, it.sep);\n                delete it.sep;\n            }\n        }\n    }\n}\n/**\n * A YAML concrete syntax tree (CST) parser\n *\n * ```ts\n * const src: string = ...\n * for (const token of new Parser().parse(src)) {\n *   // token: Token\n * }\n * ```\n *\n * To use the parser with a user-provided lexer:\n *\n * ```ts\n * function* parse(source: string, lexer: Lexer) {\n *   const parser = new Parser()\n *   for (const lexeme of lexer.lex(source))\n *     yield* parser.next(lexeme)\n *   yield* parser.end()\n * }\n *\n * const src: string = ...\n * const lexer = new Lexer()\n * for (const token of parse(src, lexer)) {\n *   // token: Token\n * }\n * ```\n */\nclass Parser {\n    /**\n     * @param onNewLine - If defined, called separately with the start position of\n     *   each new line (in `parse()`, including the start of input).\n     */\n    constructor(onNewLine) {\n        /** If true, space and sequence indicators count as indentation */\n        this.atNewLine = true;\n        /** If true, next token is a scalar value */\n        this.atScalar = false;\n        /** Current indentation level */\n        this.indent = 0;\n        /** Current offset since the start of parsing */\n        this.offset = 0;\n        /** On the same line with a block map key */\n        this.onKeyLine = false;\n        /** Top indicates the node that's currently being built */\n        this.stack = [];\n        /** The source of the current token, set in parse() */\n        this.source = '';\n        /** The type of the current token, set in parse() */\n        this.type = '';\n        // Must be defined after `next()`\n        this.lexer = new Lexer();\n        this.onNewLine = onNewLine;\n    }\n    /**\n     * Parse `source` as a YAML stream.\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\n     *\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\n     *\n     * @returns A generator of tokens representing each directive, document, and other structure.\n     */\n    *parse(source, incomplete = false) {\n        if (this.onNewLine && this.offset === 0)\n            this.onNewLine(0);\n        for (const lexeme of this.lexer.lex(source, incomplete))\n            yield* this.next(lexeme);\n        if (!incomplete)\n            yield* this.end();\n    }\n    /**\n     * Advance the parser by the `source` of one lexical token.\n     */\n    *next(source) {\n        this.source = source;\n        if (this.atScalar) {\n            this.atScalar = false;\n            yield* this.step();\n            this.offset += source.length;\n            return;\n        }\n        const type = tokenType(source);\n        if (!type) {\n            const message = `Not a YAML token: ${source}`;\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\n            this.offset += source.length;\n        }\n        else if (type === 'scalar') {\n            this.atNewLine = false;\n            this.atScalar = true;\n            this.type = 'scalar';\n        }\n        else {\n            this.type = type;\n            yield* this.step();\n            switch (type) {\n                case 'newline':\n                    this.atNewLine = true;\n                    this.indent = 0;\n                    if (this.onNewLine)\n                        this.onNewLine(this.offset + source.length);\n                    break;\n                case 'space':\n                    if (this.atNewLine && source[0] === ' ')\n                        this.indent += source.length;\n                    break;\n                case 'explicit-key-ind':\n                case 'map-value-ind':\n                case 'seq-item-ind':\n                    if (this.atNewLine)\n                        this.indent += source.length;\n                    break;\n                case 'doc-mode':\n                case 'flow-error-end':\n                    return;\n                default:\n                    this.atNewLine = false;\n            }\n            this.offset += source.length;\n        }\n    }\n    /** Call at end of input to push out any remaining constructions */\n    *end() {\n        while (this.stack.length > 0)\n            yield* this.pop();\n    }\n    get sourceToken() {\n        const st = {\n            type: this.type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n        return st;\n    }\n    *step() {\n        const top = this.peek(1);\n        if (this.type === 'doc-end' && (!top || top.type !== 'doc-end')) {\n            while (this.stack.length > 0)\n                yield* this.pop();\n            this.stack.push({\n                type: 'doc-end',\n                offset: this.offset,\n                source: this.source\n            });\n            return;\n        }\n        if (!top)\n            return yield* this.stream();\n        switch (top.type) {\n            case 'document':\n                return yield* this.document(top);\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return yield* this.scalar(top);\n            case 'block-scalar':\n                return yield* this.blockScalar(top);\n            case 'block-map':\n                return yield* this.blockMap(top);\n            case 'block-seq':\n                return yield* this.blockSequence(top);\n            case 'flow-collection':\n                return yield* this.flowCollection(top);\n            case 'doc-end':\n                return yield* this.documentEnd(top);\n        }\n        /* istanbul ignore next should not happen */\n        yield* this.pop();\n    }\n    peek(n) {\n        return this.stack[this.stack.length - n];\n    }\n    *pop(error) {\n        const token = error ?? this.stack.pop();\n        /* istanbul ignore if should not happen */\n        if (!token) {\n            const message = 'Tried to pop an empty stack';\n            yield { type: 'error', offset: this.offset, source: '', message };\n        }\n        else if (this.stack.length === 0) {\n            yield token;\n        }\n        else {\n            const top = this.peek(1);\n            if (token.type === 'block-scalar') {\n                // Block scalars use their parent rather than header indent\n                token.indent = 'indent' in top ? top.indent : 0;\n            }\n            else if (token.type === 'flow-collection' && top.type === 'document') {\n                // Ignore all indent for top-level flow collections\n                token.indent = 0;\n            }\n            if (token.type === 'flow-collection')\n                fixFlowSeqItems(token);\n            switch (top.type) {\n                case 'document':\n                    top.value = token;\n                    break;\n                case 'block-scalar':\n                    top.props.push(token); // error\n                    break;\n                case 'block-map': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value) {\n                        top.items.push({ start: [], key: token, sep: [] });\n                        this.onKeyLine = true;\n                        return;\n                    }\n                    else if (it.sep) {\n                        it.value = token;\n                    }\n                    else {\n                        Object.assign(it, { key: token, sep: [] });\n                        this.onKeyLine = !includesToken(it.start, 'explicit-key-ind');\n                        return;\n                    }\n                    break;\n                }\n                case 'block-seq': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value)\n                        top.items.push({ start: [], value: token });\n                    else\n                        it.value = token;\n                    break;\n                }\n                case 'flow-collection': {\n                    const it = top.items[top.items.length - 1];\n                    if (!it || it.value)\n                        top.items.push({ start: [], key: token, sep: [] });\n                    else if (it.sep)\n                        it.value = token;\n                    else\n                        Object.assign(it, { key: token, sep: [] });\n                    return;\n                }\n                /* istanbul ignore next should not happen */\n                default:\n                    yield* this.pop();\n                    yield* this.pop(token);\n            }\n            if ((top.type === 'document' ||\n                top.type === 'block-map' ||\n                top.type === 'block-seq') &&\n                (token.type === 'block-map' || token.type === 'block-seq')) {\n                const last = token.items[token.items.length - 1];\n                if (last &&\n                    !last.sep &&\n                    !last.value &&\n                    last.start.length > 0 &&\n                    findNonEmptyIndex(last.start) === -1 &&\n                    (token.indent === 0 ||\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\n                    if (top.type === 'document')\n                        top.end = last.start;\n                    else\n                        top.items.push({ start: last.start });\n                    token.items.splice(-1, 1);\n                }\n            }\n        }\n    }\n    *stream() {\n        switch (this.type) {\n            case 'directive-line':\n                yield { type: 'directive', offset: this.offset, source: this.source };\n                return;\n            case 'byte-order-mark':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                yield this.sourceToken;\n                return;\n            case 'doc-mode':\n            case 'doc-start': {\n                const doc = {\n                    type: 'document',\n                    offset: this.offset,\n                    start: []\n                };\n                if (this.type === 'doc-start')\n                    doc.start.push(this.sourceToken);\n                this.stack.push(doc);\n                return;\n            }\n        }\n        yield {\n            type: 'error',\n            offset: this.offset,\n            message: `Unexpected ${this.type} token in YAML stream`,\n            source: this.source\n        };\n    }\n    *document(doc) {\n        if (doc.value)\n            return yield* this.lineEnd(doc);\n        switch (this.type) {\n            case 'doc-start': {\n                if (findNonEmptyIndex(doc.start) !== -1) {\n                    yield* this.pop();\n                    yield* this.step();\n                }\n                else\n                    doc.start.push(this.sourceToken);\n                return;\n            }\n            case 'anchor':\n            case 'tag':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                doc.start.push(this.sourceToken);\n                return;\n        }\n        const bv = this.startBlockValue(doc);\n        if (bv)\n            this.stack.push(bv);\n        else {\n            yield {\n                type: 'error',\n                offset: this.offset,\n                message: `Unexpected ${this.type} token in YAML document`,\n                source: this.source\n            };\n        }\n    }\n    *scalar(scalar) {\n        if (this.type === 'map-value-ind') {\n            const prev = getPrevProps(this.peek(2));\n            const start = getFirstKeyStartProps(prev);\n            let sep;\n            if (scalar.end) {\n                sep = scalar.end;\n                sep.push(this.sourceToken);\n                delete scalar.end;\n            }\n            else\n                sep = [this.sourceToken];\n            const map = {\n                type: 'block-map',\n                offset: scalar.offset,\n                indent: scalar.indent,\n                items: [{ start, key: scalar, sep }]\n            };\n            this.onKeyLine = true;\n            this.stack[this.stack.length - 1] = map;\n        }\n        else\n            yield* this.lineEnd(scalar);\n    }\n    *blockScalar(scalar) {\n        switch (this.type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                scalar.props.push(this.sourceToken);\n                return;\n            case 'scalar':\n                scalar.source = this.source;\n                // block-scalar source includes trailing newline\n                this.atNewLine = true;\n                this.indent = 0;\n                if (this.onNewLine) {\n                    let nl = this.source.indexOf('\\n') + 1;\n                    while (nl !== 0) {\n                        this.onNewLine(this.offset + nl);\n                        nl = this.source.indexOf('\\n', nl) + 1;\n                    }\n                }\n                yield* this.pop();\n                break;\n            /* istanbul ignore next should not happen */\n            default:\n                yield* this.pop();\n                yield* this.step();\n        }\n    }\n    *blockMap(map) {\n        const it = map.items[map.items.length - 1];\n        // it.sep is true-ish if pair already has key or : separator\n        switch (this.type) {\n            case 'newline':\n                this.onKeyLine = false;\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value) {\n                    map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    if (this.atIndentedComment(it.start, map.indent)) {\n                        const prev = map.items[map.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            map.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n        }\n        if (this.indent >= map.indent) {\n            const atNextItem = !this.onKeyLine &&\n                this.indent === map.indent &&\n                it.sep &&\n                this.type !== 'seq-item-ind';\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\n            let start = [];\n            if (atNextItem && it.sep && !it.value) {\n                const nl = [];\n                for (let i = 0; i < it.sep.length; ++i) {\n                    const st = it.sep[i];\n                    switch (st.type) {\n                        case 'newline':\n                            nl.push(i);\n                            break;\n                        case 'space':\n                            break;\n                        case 'comment':\n                            if (st.indent > map.indent)\n                                nl.length = 0;\n                            break;\n                        default:\n                            nl.length = 0;\n                    }\n                }\n                if (nl.length >= 2)\n                    start = it.sep.splice(nl[1]);\n            }\n            switch (this.type) {\n                case 'anchor':\n                case 'tag':\n                    if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        it.sep.push(this.sourceToken);\n                    }\n                    else {\n                        it.start.push(this.sourceToken);\n                    }\n                    return;\n                case 'explicit-key-ind':\n                    if (!it.sep && !includesToken(it.start, 'explicit-key-ind')) {\n                        it.start.push(this.sourceToken);\n                    }\n                    else if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                    }\n                    else {\n                        this.stack.push({\n                            type: 'block-map',\n                            offset: this.offset,\n                            indent: this.indent,\n                            items: [{ start: [this.sourceToken] }]\n                        });\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'map-value-ind':\n                    if (includesToken(it.start, 'explicit-key-ind')) {\n                        if (!it.sep) {\n                            if (includesToken(it.start, 'newline')) {\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\n                            }\n                            else {\n                                const start = getFirstKeyStartProps(it.start);\n                                this.stack.push({\n                                    type: 'block-map',\n                                    offset: this.offset,\n                                    indent: this.indent,\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                                });\n                            }\n                        }\n                        else if (it.value) {\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else if (isFlowToken(it.key) &&\n                            !includesToken(it.sep, 'newline')) {\n                            const start = getFirstKeyStartProps(it.start);\n                            const key = it.key;\n                            const sep = it.sep;\n                            sep.push(this.sourceToken);\n                            // @ts-expect-error type guard is wrong here\n                            delete it.key, delete it.sep;\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key, sep }]\n                            });\n                        }\n                        else if (start.length > 0) {\n                            // Not actually at next item\n                            it.sep = it.sep.concat(start, this.sourceToken);\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    else {\n                        if (!it.sep) {\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\n                        }\n                        else if (it.value || atNextItem) {\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (atNextItem || it.value) {\n                        map.items.push({ start, key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        this.stack.push(fs);\n                    }\n                    else {\n                        Object.assign(it, { key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    return;\n                }\n                default: {\n                    const bv = this.startBlockValue(map);\n                    if (bv) {\n                        if (atNextItem &&\n                            bv.type !== 'block-seq' &&\n                            includesToken(it.start, 'explicit-key-ind')) {\n                            map.items.push({ start });\n                        }\n                        this.stack.push(bv);\n                        return;\n                    }\n                }\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *blockSequence(seq) {\n        const it = seq.items[seq.items.length - 1];\n        switch (this.type) {\n            case 'newline':\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        seq.items.push({ start: [this.sourceToken] });\n                }\n                else\n                    it.start.push(this.sourceToken);\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value)\n                    seq.items.push({ start: [this.sourceToken] });\n                else {\n                    if (this.atIndentedComment(it.start, seq.indent)) {\n                        const prev = seq.items[seq.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            seq.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'anchor':\n            case 'tag':\n                if (it.value || this.indent <= seq.indent)\n                    break;\n                it.start.push(this.sourceToken);\n                return;\n            case 'seq-item-ind':\n                if (this.indent !== seq.indent)\n                    break;\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\n                    seq.items.push({ start: [this.sourceToken] });\n                else\n                    it.start.push(this.sourceToken);\n                return;\n        }\n        if (this.indent > seq.indent) {\n            const bv = this.startBlockValue(seq);\n            if (bv) {\n                this.stack.push(bv);\n                return;\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *flowCollection(fc) {\n        const it = fc.items[fc.items.length - 1];\n        if (this.type === 'flow-error-end') {\n            let top;\n            do {\n                yield* this.pop();\n                top = this.peek(1);\n            } while (top && top.type === 'flow-collection');\n        }\n        else if (fc.end.length === 0) {\n            switch (this.type) {\n                case 'comma':\n                case 'explicit-key-ind':\n                    if (!it || it.sep)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'map-value-ind':\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\n                    return;\n                case 'space':\n                case 'comment':\n                case 'newline':\n                case 'anchor':\n                case 'tag':\n                    if (!it || it.value)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: fs, sep: [] });\n                    else if (it.sep)\n                        this.stack.push(fs);\n                    else\n                        Object.assign(it, { key: fs, sep: [] });\n                    return;\n                }\n                case 'flow-map-end':\n                case 'flow-seq-end':\n                    fc.end.push(this.sourceToken);\n                    return;\n            }\n            const bv = this.startBlockValue(fc);\n            /* istanbul ignore else should not happen */\n            if (bv)\n                this.stack.push(bv);\n            else {\n                yield* this.pop();\n                yield* this.step();\n            }\n        }\n        else {\n            const parent = this.peek(2);\n            if (parent.type === 'block-map' &&\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\n                    (this.type === 'newline' &&\n                        !parent.items[parent.items.length - 1].sep))) {\n                yield* this.pop();\n                yield* this.step();\n            }\n            else if (this.type === 'map-value-ind' &&\n                parent.type !== 'flow-collection') {\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                fixFlowSeqItems(fc);\n                const sep = fc.end.splice(1, fc.end.length);\n                sep.push(this.sourceToken);\n                const map = {\n                    type: 'block-map',\n                    offset: fc.offset,\n                    indent: fc.indent,\n                    items: [{ start, key: fc, sep }]\n                };\n                this.onKeyLine = true;\n                this.stack[this.stack.length - 1] = map;\n            }\n            else {\n                yield* this.lineEnd(fc);\n            }\n        }\n    }\n    flowScalar(type) {\n        if (this.onNewLine) {\n            let nl = this.source.indexOf('\\n') + 1;\n            while (nl !== 0) {\n                this.onNewLine(this.offset + nl);\n                nl = this.source.indexOf('\\n', nl) + 1;\n            }\n        }\n        return {\n            type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n    }\n    startBlockValue(parent) {\n        switch (this.type) {\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return this.flowScalar(this.type);\n            case 'block-scalar-header':\n                return {\n                    type: 'block-scalar',\n                    offset: this.offset,\n                    indent: this.indent,\n                    props: [this.sourceToken],\n                    source: ''\n                };\n            case 'flow-map-start':\n            case 'flow-seq-start':\n                return {\n                    type: 'flow-collection',\n                    offset: this.offset,\n                    indent: this.indent,\n                    start: this.sourceToken,\n                    items: [],\n                    end: []\n                };\n            case 'seq-item-ind':\n                return {\n                    type: 'block-seq',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start: [this.sourceToken] }]\n                };\n            case 'explicit-key-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                start.push(this.sourceToken);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start }]\n                };\n            }\n            case 'map-value-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                };\n            }\n        }\n        return null;\n    }\n    atIndentedComment(start, indent) {\n        if (this.type !== 'comment')\n            return false;\n        if (this.indent <= indent)\n            return false;\n        return start.every(st => st.type === 'newline' || st.type === 'space');\n    }\n    *documentEnd(docEnd) {\n        if (this.type !== 'doc-mode') {\n            if (docEnd.end)\n                docEnd.end.push(this.sourceToken);\n            else\n                docEnd.end = [this.sourceToken];\n            if (this.type === 'newline')\n                yield* this.pop();\n        }\n    }\n    *lineEnd(token) {\n        switch (this.type) {\n            case 'comma':\n            case 'doc-start':\n            case 'doc-end':\n            case 'flow-seq-end':\n            case 'flow-map-end':\n            case 'map-value-ind':\n                yield* this.pop();\n                yield* this.step();\n                break;\n            case 'newline':\n                this.onKeyLine = false;\n            // fallthrough\n            case 'space':\n            case 'comment':\n            default:\n                // all other values are errors\n                if (token.end)\n                    token.end.push(this.sourceToken);\n                else\n                    token.end = [this.sourceToken];\n                if (this.type === 'newline')\n                    yield* this.pop();\n        }\n    }\n}\n\nexport { Parser };\n","import { Composer } from './compose/composer.js';\nimport { Document } from './doc/Document.js';\nimport { prettifyError, YAMLParseError } from './errors.js';\nimport { warn } from './log.js';\nimport { LineCounter } from './parse/line-counter.js';\nimport { Parser } from './parse/parser.js';\n\nfunction parseOptions(options) {\n    const prettyErrors = options.prettyErrors !== false;\n    const lineCounter = options.lineCounter || (prettyErrors && new LineCounter()) || null;\n    return { lineCounter, prettyErrors };\n}\n/**\n * Parse the input as a stream of YAML documents.\n *\n * Documents should be separated from each other by `...` or `---` marker lines.\n *\n * @returns If an empty `docs` array is returned, it will be of type\n *   EmptyStream and contain additional stream information. In\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\n */\nfunction parseAllDocuments(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    const docs = Array.from(composer.compose(parser.parse(source)));\n    if (prettyErrors && lineCounter)\n        for (const doc of docs) {\n            doc.errors.forEach(prettifyError(source, lineCounter));\n            doc.warnings.forEach(prettifyError(source, lineCounter));\n        }\n    if (docs.length > 0)\n        return docs;\n    return Object.assign([], { empty: true }, composer.streamInfo());\n}\n/** Parse an input string into a single YAML.Document */\nfunction parseDocument(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    // `doc` is always set by compose.end(true) at the very latest\n    let doc = null;\n    for (const _doc of composer.compose(parser.parse(source), true, source.length)) {\n        if (!doc)\n            doc = _doc;\n        else if (doc.options.logLevel !== 'silent') {\n            doc.errors.push(new YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\n            break;\n        }\n    }\n    if (prettyErrors && lineCounter) {\n        doc.errors.forEach(prettifyError(source, lineCounter));\n        doc.warnings.forEach(prettifyError(source, lineCounter));\n    }\n    return doc;\n}\nfunction parse(src, reviver, options) {\n    let _reviver = undefined;\n    if (typeof reviver === 'function') {\n        _reviver = reviver;\n    }\n    else if (options === undefined && reviver && typeof reviver === 'object') {\n        options = reviver;\n    }\n    const doc = parseDocument(src, options);\n    if (!doc)\n        return null;\n    doc.warnings.forEach(warning => warn(doc.options.logLevel, warning));\n    if (doc.errors.length > 0) {\n        if (doc.options.logLevel !== 'silent')\n            throw doc.errors[0];\n        else\n            doc.errors = [];\n    }\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\n}\nfunction stringify(value, replacer, options) {\n    let _replacer = null;\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\n        _replacer = replacer;\n    }\n    else if (options === undefined && replacer) {\n        options = replacer;\n    }\n    if (typeof options === 'string')\n        options = options.length;\n    if (typeof options === 'number') {\n        const indent = Math.round(options);\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\n    }\n    if (value === undefined) {\n        const { keepUndefined } = options ?? replacer ?? {};\n        if (!keepUndefined)\n            return undefined;\n    }\n    return new Document(value, _replacer, options).toString(options);\n}\n\nexport { parse, parseAllDocuments, parseDocument, stringify };\n","// `export * as default from ...` fails on Webpack v4\n// https://github.com/eemeli/yaml/issues/228\nimport * as YAML from './dist/index.js'\nexport default YAML\nexport * from './dist/index.js'\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  const threshold = 1000 / freq;\n  let timer = null;\n  return function throttled() {\n    const force = this === true;\n\n    const now = Date.now();\n    if (force || now - timestamp > threshold) {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n      timestamp = now;\n      return fn.apply(null, arguments);\n    }\n    if (!timer) {\n      timer = setTimeout(() => {\n        timer = null;\n        timestamp = Date.now();\n        return fn.apply(null, arguments);\n      }, threshold - (now - timestamp));\n    }\n  };\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\n\nexport default (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  }, freq);\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport progressEventReducer from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType} = _config;\n    let onCanceled;\n    function done() {\n      if (_config.cancelToken) {\n        _config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (_config.signal) {\n        _config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, _config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, _config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        _config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof _config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(_config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof _config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(_config.onUploadProgress));\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst composeSignals = (signals, timeout) => {\n  let controller = new AbortController();\n\n  let aborted;\n\n  const onabort = function (cancel) {\n    if (!aborted) {\n      aborted = true;\n      unsubscribe();\n      const err = cancel instanceof Error ? cancel : this.reason;\n      controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n    }\n  }\n\n  let timer = timeout && setTimeout(() => {\n    onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n  }, timeout)\n\n  const unsubscribe = () => {\n    if (signals) {\n      timer && clearTimeout(timer);\n      timer = null;\n      signals.forEach(signal => {\n        signal &&\n        (signal.removeEventListener ? signal.removeEventListener('abort', onabort) : signal.unsubscribe(onabort));\n      });\n      signals = null;\n    }\n  }\n\n  signals.forEach((signal) => signal && signal.addEventListener && signal.addEventListener('abort', onabort));\n\n  const {signal} = controller;\n\n  signal.unsubscribe = unsubscribe;\n\n  return [signal, () => {\n    timer && clearTimeout(timer);\n    timer = null;\n  }];\n}\n\nexport default composeSignals;\n","\n\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize, encode) {\n  for await (const chunk of iterable) {\n    yield* streamChunk(ArrayBuffer.isView(chunk) ? chunk : (await encode(String(chunk))), chunkSize);\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish, encode) => {\n  const iterator = readBytes(stream, chunkSize, encode);\n\n  let bytes = 0;\n\n  return new ReadableStream({\n    type: 'bytes',\n\n    async pull(controller) {\n      const {done, value} = await iterator.next();\n\n      if (done) {\n        controller.close();\n        onFinish();\n        return;\n      }\n\n      let len = value.byteLength;\n      onProgress && onProgress(bytes += len);\n      controller.enqueue(new Uint8Array(value));\n    },\n    cancel(reason) {\n      onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport progressEventReducer from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst fetchProgressDecorator = (total, fn) => {\n  const lengthComputable = total != null;\n  return (loaded) => setTimeout(() => fn({\n    lengthComputable,\n    total,\n    loaded\n  }));\n}\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst supportsRequestStream = isReadableStreamSupported && (() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n})();\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported && !!(()=> {\n  try {\n    return utils.isReadableStream(new Response('').body);\n  } catch(err) {\n    // return undefined\n  }\n})();\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    return (await new Request(body).arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let [composedSignal, stopTimeout] = (signal || cancelToken || timeout) ?\n    composeSignals([signal, cancelToken], timeout) : [];\n\n  let finished, request;\n\n  const onFinish = () => {\n    !finished && setTimeout(() => {\n      composedSignal && composedSignal.unsubscribe();\n    });\n\n    finished = true;\n  }\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, fetchProgressDecorator(\n          requestContentLength,\n          progressEventReducer(onUploadProgress)\n        ), null, encodeText);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'cors' : 'omit';\n    }\n\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      withCredentials\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || isStreamResponse)) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onDownloadProgress && fetchProgressDecorator(\n          responseContentLength,\n          progressEventReducer(onDownloadProgress, true)\n        ), isStreamResponse && onFinish, encodeText),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && onFinish();\n\n    stopTimeout && stopTimeout();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    onFinish();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.7.2\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import valid from \"semver/functions/valid.js\";\nimport major from \"semver/functions/major.js\";\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.0\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, event) {\n    this.bus.emit(name, event);\n  }\n}\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.0\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h) => h !== handler)\n    );\n  }\n  emit(name, event) {\n    (this.handlers.get(name) || []).forEach((h) => {\n      try {\n        h(event);\n      } catch (e) {\n        console.error(\"could not invoke event listener\", e);\n      }\n    });\n  }\n}\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction subscribe(name, handler) {\n  getBus().subscribe(name, handler);\n}\nfunction unsubscribe(name, handler) {\n  getBus().unsubscribe(name, handler);\n}\nfunction emit(name, event) {\n  getBus().emit(name, event);\n}\nexport {\n  ProxyBus,\n  SimpleBus,\n  emit,\n  subscribe,\n  unsubscribe\n};\n","import { subscribe as i } from \"@nextcloud/event-bus\";\nlet r;\nconst u = [];\nfunction d() {\n  if (r === void 0) {\n    const e = document?.getElementsByTagName(\"head\")[0];\n    r = e ? e.getAttribute(\"data-requesttoken\") : null;\n  }\n  return r;\n}\nfunction c(e) {\n  u.push(e);\n}\ni(\"csrf-token-update\", (e) => {\n  r = e.token, u.forEach((t) => {\n    try {\n      t(r);\n    } catch (s) {\n      console.error(\"error updating CSRF token observer\", s);\n    }\n  });\n});\nlet n;\nconst o = (e, t) => e ? e.getAttribute(t) : null;\nfunction l() {\n  if (n !== void 0)\n    return n;\n  const e = document?.getElementsByTagName(\"head\")[0];\n  if (!e)\n    return null;\n  const t = o(e, \"data-user\");\n  return t === null ? (n = null, n) : (n = {\n    uid: t,\n    displayName: o(e, \"data-user-displayname\"),\n    isAdmin: !!window._oc_isadmin\n  }, n);\n}\nexport {\n  l as getCurrentUser,\n  d as getRequestToken,\n  c as onRequestTokenUpdate\n};\n","const R = (n, e) => d(n, \"\", e), g = (n) => \"/remote.php/\" + n, U = (n, e) => {\n  var o;\n  return ((o = e == null ? void 0 : e.baseURL) != null ? o : w()) + g(n);\n}, v = (n, e, o) => {\n  var c;\n  const i = Object.assign({\n    ocsVersion: 2\n  }, o || {}).ocsVersion === 1 ? 1 : 2;\n  return ((c = o == null ? void 0 : o.baseURL) != null ? c : w()) + \"/ocs/v\" + i + \".php\" + u(n, e, o);\n}, u = (n, e, o) => {\n  const c = Object.assign({\n    escape: !0\n  }, o || {}), r = function(i, s) {\n    return s = s || {}, i.replace(\n      /{([^{}]*)}/g,\n      function(l, t) {\n        const a = s[t];\n        return c.escape ? encodeURIComponent(typeof a == \"string\" || typeof a == \"number\" ? a.toString() : l) : typeof a == \"string\" || typeof a == \"number\" ? a.toString() : l;\n      }\n    );\n  };\n  return n.charAt(0) !== \"/\" && (n = \"/\" + n), r(n, e || {});\n}, _ = (n, e, o) => {\n  var c, r, i;\n  const s = Object.assign({\n    noRewrite: !1\n  }, o || {}), l = (c = o == null ? void 0 : o.baseURL) != null ? c : f();\n  return ((i = (r = window == null ? void 0 : window.OC) == null ? void 0 : r.config) == null ? void 0 : i.modRewriteWorking) === !0 && !s.noRewrite ? l + u(n, e, o) : l + \"/index.php\" + u(n, e, o);\n}, h = (n, e) => e.includes(\".\") ? d(n, \"img\", e) : d(n, \"img\", \"\".concat(e, \".svg\")), d = (n, e, o) => {\n  var c, r, i;\n  const s = (i = (r = (c = window == null ? void 0 : window.OC) == null ? void 0 : c.coreApps) == null ? void 0 : r.includes(n)) != null ? i : !1, l = o.slice(-3) === \"php\";\n  let t = f();\n  return l && !s ? (t += \"/index.php/apps/\".concat(n), e && (t += \"/\".concat(encodeURI(e))), o !== \"index.php\" && (t += \"/\".concat(o))) : !l && !s ? (t = b(n), e && (t += \"/\".concat(e, \"/\")), t.at(-1) !== \"/\" && (t += \"/\"), t += o) : ((n === \"settings\" || n === \"core\" || n === \"search\") && e === \"ajax\" && (t += \"/index.php\"), n && (t += \"/\".concat(n)), e && (t += \"/\".concat(e)), t += \"/\".concat(o)), t;\n}, w = () => window.location.protocol + \"//\" + window.location.host + f();\nfunction f() {\n  let n = window._oc_webroot;\n  if (typeof n > \"u\") {\n    n = location.pathname;\n    const e = n.indexOf(\"/index.php/\");\n    if (e !== -1)\n      n = n.slice(0, e);\n    else {\n      const o = n.indexOf(\"/\", 1);\n      n = n.slice(0, o > 0 ? o : void 0);\n    }\n  }\n  return n;\n}\nfunction b(n) {\n  var e, o;\n  return (o = ((e = window._oc_appswebroots) != null ? e : {})[n]) != null ? o : \"\";\n}\nexport {\n  d as generateFilePath,\n  v as generateOcsUrl,\n  U as generateRemoteUrl,\n  _ as generateUrl,\n  b as getAppRootUrl,\n  w as getBaseUrl,\n  f as getRootUrl,\n  h as imagePath,\n  R as linkTo\n};\n","import Axios from \"axios\";\nimport { isAxiosError, isCancel } from \"axios\";\nimport { getRequestToken, onRequestTokenUpdate } from \"@nextcloud/auth\";\nimport { generateUrl } from \"@nextcloud/router\";\nconst RETRY_KEY = Symbol(\"csrf-retry\");\nconst onError$2 = (axios) => async (error) => {\n  var _a2;\n  const { config, response, request } = error;\n  const responseURL = request == null ? void 0 : request.responseURL;\n  const status = response == null ? void 0 : response.status;\n  if (status === 412 && ((_a2 = response == null ? void 0 : response.data) == null ? void 0 : _a2.message) === \"CSRF check failed\" && config[RETRY_KEY] === void 0) {\n    console.warn(\"Request to \".concat(responseURL, \" failed because of a CSRF mismatch. Fetching a new token\"));\n    const { data: { token } } = await axios.get(generateUrl(\"/csrftoken\"));\n    console.debug(\"New request token \".concat(token, \" fetched\"));\n    axios.defaults.headers.requesttoken = token;\n    return axios({\n      ...config,\n      headers: {\n        ...config.headers,\n        requesttoken: token\n      },\n      [RETRY_KEY]: true\n    });\n  }\n  return Promise.reject(error);\n};\nconst RETRY_DELAY_KEY = Symbol(\"retryDelay\");\nconst onError$1 = (axios) => async (error) => {\n  var _a2;\n  const { config, response, request } = error;\n  const responseURL = request == null ? void 0 : request.responseURL;\n  const status = response == null ? void 0 : response.status;\n  const headers = response == null ? void 0 : response.headers;\n  if (status === 503 && headers[\"x-nextcloud-maintenance-mode\"] === \"1\" && config.retryIfMaintenanceMode && (!config[RETRY_DELAY_KEY] || config[RETRY_DELAY_KEY] <= 32)) {\n    const retryDelay = ((_a2 = config[RETRY_DELAY_KEY]) != null ? _a2 : 1) * 2;\n    console.warn(\"Request to \".concat(responseURL, \" failed because of maintenance mode. Retrying in \").concat(retryDelay, \"s\"));\n    await new Promise((resolve) => {\n      setTimeout(resolve, retryDelay * 1e3);\n    });\n    return axios({\n      ...config,\n      [RETRY_DELAY_KEY]: retryDelay\n    });\n  }\n  return Promise.reject(error);\n};\nconst onError = async (error) => {\n  var _a2;\n  const { config, response, request } = error;\n  const responseURL = request == null ? void 0 : request.responseURL;\n  const status = response == null ? void 0 : response.status;\n  if (status === 401 && ((_a2 = response == null ? void 0 : response.data) == null ? void 0 : _a2.message) === \"Current user is not logged in\" && config.reloadExpiredSession && (window == null ? void 0 : window.location)) {\n    console.error(\"Request to \".concat(responseURL, \" failed because the user session expired. Reloading the page \"));\n    window.location.reload();\n  }\n  return Promise.reject(error);\n};\nvar _a;\nconst client = Axios.create({\n  headers: {\n    requesttoken: (_a = getRequestToken()) != null ? _a : \"\",\n    \"X-Requested-With\": \"XMLHttpRequest\"\n  }\n});\nconst cancelableClient = Object.assign(client, {\n  CancelToken: Axios.CancelToken,\n  isCancel: Axios.isCancel\n});\ncancelableClient.interceptors.response.use((r) => r, onError$2(cancelableClient));\ncancelableClient.interceptors.response.use((r) => r, onError$1(cancelableClient));\ncancelableClient.interceptors.response.use((r) => r, onError);\nonRequestTokenUpdate((token) => {\n  client.defaults.headers.requesttoken = token;\n});\nexport {\n  cancelableClient as default,\n  isAxiosError,\n  isCancel\n};\n","import { loadState } from '@nextcloud/initial-state'\nimport {\n\tcreateConnection,\n\tsubscribeEntities,\n\tcreateLongLivedTokenAuth,\n} from 'home-assistant-js-websocket'\nimport YAML from 'yaml'\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tOCA.Dashboard.register('hass-yaml-widget', (el, { widget }) => {\n\t\tel.parentElement.style.overflow = 'auto'\n\t\ttry {\n\t\t\tconst yamlEntities = YAML.parse(loadState('integration_homeassistant', 'dashboard-yaml-widget'))\n\t\t\tif (yamlEntities.type !== 'entities') {\n\t\t\t\tel.innerHTML = 'YAML is not of \"type: entities\"'\n\t\t\t}\n\t\t\tconst checkboxHTML = (entityId) => {\n\t\t\t\treturn `<label class=\"switch\"><input type=\"checkbox\" data-entity-id=\"${entityId}\"><span class=\"slider round\"></span></label>`\n\t\t\t}\n\t\t\tconst sensorHTML = (entityId) => {\n\t\t\t\treturn `<span data-entity-id=\"${entityId}\"> - &nbsp; &nbsp;</span>`\n\t\t\t}\n\t\t\tObject.values(yamlEntities.entities).forEach(entry => {\n\t\t\t\tif (entry.type === 'divider') {\n\t\t\t\t\tel.innerHTML += '<div class=\"entity-line type-divider\"><hr style=\"width: 100%\"></div>'\n\t\t\t\t\treturn\n\t\t\t\t} if (entry.type === 'section') {\n\t\t\t\t\tel.innerHTML += `<hr style=\"width: 100%\"><div class=\"entity-line type-section\">${entry.label}</div>`\n\t\t\t\t\treturn\n\t\t\t\t} if (entry.type === 'weblink') {\n\t\t\t\t\tel.innerHTML += `<div class=\"entity-line type-weblink\"><a target=\"_blank\" href=\"${entry.url}\">${entry.name}</a</div>`\n\n\t\t\t\t} else if (entry.entity) {\n\t\t\t\t\tconst isLightOrSensor = entry.entity.startsWith('light') || entry.entity.startsWith('switch')\n\t\t\t\t\tconst name = entry.name ?? entry.entity\n\t\t\t\t\tel.innerHTML += `<div class=\"entity-line entity\">\n\t\t\t\t\t\t<div><p data-init-name=\"${entry.name ?? ''}\" title=\"${name}\">${name}</p></div>\n\t\t\t\t\t\t<div>${isLightOrSensor ? checkboxHTML(entry.entity) : sensorHTML(entry.entity)}</div>\n\t\t\t\t\t</div>`\n\t\t\t\t }\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tel.innerHTML = Object.keys(e).length\n\t\t\t\t? JSON.stringify(e)\n\t\t\t\t: 'Nothing to show :))<br><br>Go to \"Administrator settings\" > \"Home assistant integration\" to get started.'\n\t\t}\n\t\tconst url = new URL(loadState('integration_homeassistant', 'dashboard-base-url'))\n\t\tconst auth = createLongLivedTokenAuth(\n\t\t\t`${url.protocol}//${url.host}`,\n\t\t\tloadState('integration_homeassistant', 'dashboard-long-lived-access-token'),\n\t\t)\n\t\tcreateConnection({ auth })\n\t\t\t.then((connection) => subscribeEntities(connection, (entities) => {\n\t\t\t\tdocument.querySelectorAll('[data-entity-id]').forEach(element => {\n\t\t\t\t\tconst entityId = element.dataset.entityId\n\t\t\t\t\tconst entity = entities[entityId]\n\t\t\t\t\tif (element.tagName === 'INPUT' && element.getAttribute('type') === 'checkbox') {\n\t\t\t\t\t\telement.checked = entity?.state === 'on'\n\t\t\t\t\t\telement.disabled = entity?.state === 'unavailable' || !entity\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.innerHTML = entity?.state + ' ' + (entity?.attributes?.unit_of_measurement ?? '')\n\t\t\t\t\t}\n\n\t\t\t\t\tconst nameP = element.closest('div.entity-line').querySelector('p')\n\t\t\t\t\tconst name = nameP.dataset.initName || entity?.attributes?.friendly_name\n\t\t\t\t\tif (name !== nameP.innerHTML) {\n\t\t\t\t\t\tnameP.innerHTML = name\n\t\t\t\t\t\tnameP.setAttribute('title', name)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})).catch(() => { el.innerHTML = 'Cannot connect to websocket server!<br><br>' + el.innerHTML })\n\n\t})\n})\n\ndocument.addEventListener('click', async (e) => {\n\tif (!e.target.dataset.entityId) return\n\tawait axios.post(generateUrl(`/apps/integration_homeassistant/turn_${e.target.checked ? 'on' : 'off'}`), { entity_id: e.target.dataset.entityId })\n}, false)\n","// JS extensions in imports allow tsc output to be consumed by browsers.\nimport { createSocket } from \"./socket.js\";\nimport { Connection } from \"./connection.js\";\nexport * from \"./auth.js\";\nexport * from \"./collection.js\";\nexport * from \"./connection.js\";\nexport * from \"./config.js\";\nexport * from \"./services.js\";\nexport * from \"./entities.js\";\nexport * from \"./errors.js\";\nexport * from \"./socket.js\";\nexport * from \"./types.js\";\nexport * from \"./commands.js\";\nexport async function createConnection(options) {\n    const connOptions = Object.assign({ setupRetry: 0, createSocket }, options);\n    const socket = await connOptions.createSocket(connOptions);\n    const conn = new Connection(socket, connOptions);\n    return conn;\n}\n"],"names":["debug","MAX_LENGTH","MAX_SAFE_INTEGER","safeRe","re","t","parseOptions","compareIdentifiers","SemVer","constructor","version","options","loose","includePrerelease","TypeError","length","this","m","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","id","test","num","build","format","join","toString","compare","other","compareMain","comparePre","i","a","b","undefined","compareBuild","inc","release","identifier","identifierBase","base","Number","Error","push","isNaN","module","exports","throwErrors","er","parse","v","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","process","env","NODE_DEBUG","args","console","error","numeric","anum","bnum","rcompareIdentifiers","looseOption","Object","freeze","emptyOpts","src","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","value","isGlobal","safe","token","max","makeSafeRegex","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","Array","code","indexOf","start","end","output","base64","ieee754","customInspectSymbol","Symbol","Buffer","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","prototype","arg","encodingOrOffset","allocUnsafe","from","string","encoding","isEncoding","actual","write","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","buffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","isBuffer","checked","numberIsNaN","type","isArray","data","fromObject","toPrimitive","assertSize","size","array","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","val","dir","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","Math","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","e","typedArraySupport","defineProperty","enumerable","get","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","x","y","concat","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","replace","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","super","writable","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","floor","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","abs","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","log","LN2","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","key","o","prop","hasOwnProperty","r","toStringTag","loadState","app","fallback","elem","document","querySelector","JSON","atob","ERR_CANNOT_CONNECT","ERR_INVALID_AUTH","ERR_INVALID_HTTPS_TO_HTTP","genExpires","expires_in","Date","now","async","tokenRequest","hassUrl","clientId","l","location","protocol","createElement","href","hostname","formData","FormData","append","keys","forEach","resp","fetch","method","credentials","body","ok","status","tokens","json","expires","Auth","saveTokens","_saveTokens","wsUrl","accessToken","access_token","expired","refreshAccessToken","refresh_token","grant_type","revoke","unsubscribeEvents","subscription","atLeastHaVersion","haMajor","haMinor","haPatch","DEBUG","MSG_TYPE_AUTH_REQUIRED","MSG_TYPE_AUTH_INVALID","MSG_TYPE_AUTH_OK","createSocket","auth","authRefreshTask","then","url","connect","triesLeft","promResolve","promReject","socket","WebSocket","invalidAuth","closeMessage","removeEventListener","newTries","handleOpen","event","send","stringify","err","close","handleMessage","haVersion","ha_version","features","coalesce_messages","warn","addEventListener","Promise","resolve","reject","setupRetry","Connection","_handleMessage","messageGroup","info","commands","callback","sendMessagePromise","catch","success","result","delete","_handleClose","oldCommands","commandId","oldSubscriptions","Map","closeRequested","fireEvent","assign","reconnect","tries","_setSocket","_queuedMessages","queuedMessages","suspendReconnectPromise","eventListeners","connected","readyState","OPEN","subscribe","unsub","unsubscribe","queuedMsg","eventType","splice","eventData","suspendReconnectUntil","suspendPromise","suspend","force","subscribeEvents","subscribeMessage","event_type","ping","sendMessage","_genCmdId","resubscribe","createStore","state","setState","update","overwrite","currentListeners","action","clearState","listener","getCollection","conn","fetchCollection","subscribeUpdates","unsubGrace","unsubProm","unsubTimer","active","store","refresh","refreshSwallow","teardownUpdateSubscription","handleDisconnect","subscriber","setupUpdateSubscription","getStates","connection","ev","updates","entityId","newState","last_changed","lc","toISOString","entity_id","attributes","context","parent_id","user_id","last_updated","lu","entityState","toAdd","toRemove","attributesChanged","processEvent","legacyFetchEntities","states","entities","legacySubscribeUpdates","new_state","newEntities","legacyProcessEvent","subscribeEntities","onChange","entitiesColl","ALIAS","for","DOC","MAP","PAIR","SCALAR","SEQ","NODE_TYPE","isAlias","node","isDocument","isMap","isPair","isScalar","isSeq","isCollection","isNode","hasAnchor","anchor","BREAK","SKIP","REMOVE","visit","visitor","visitor_","initVisitor","visit_","contents","path","ctrl","callVisitor","replaceNode","items","ci","ck","cv","visitAsync","visitAsync_","Collection","Node","Value","Alias","Scalar","Seq","Pair","parent","pt","escapeChars","Directives","yaml","tags","docStart","docEnd","defaultYaml","defaultTags","clone","atDocument","atNextDocument","explicit","add","line","onError","shift","handle","prefix","tagName","source","verbatim","suffix","decodeURIComponent","tagString","tag","entries","startsWith","substring","ch","doc","lines","tagEntries","tagNames","_key","some","tn","anchorIsValid","sa","anchorNames","root","anchors","Set","findNewAnchor","exclude","has","applyReviver","reviver","v0","v1","k","toJS","ctx","aliasCount","count","onCreate","keep","NodeBase","create","getPrototypeOf","getOwnPropertyDescriptors","mapAsMap","maxAliasCount","onAnchor","mapKeyWarned","values","_arg","ReferenceError","getAliasCount","_onComment","_onChompKeep","verifyAliasOrder","implicitKey","item","kc","vc","isScalarValue","BLOCK_FOLDED","BLOCK_LITERAL","PLAIN","QUOTE_DOUBLE","QUOTE_SINGLE","defaultTagPrefix","createNode","schema","Boolean","aliasDuplicateObjects","onTagObj","sourceObjects","ref","tagObj","filter","find","identify","findTagObject","iterator","nodeClass","default","collectionFromPath","keepUndefined","isEmptyPath","next","done","it","addIn","rest","deleteIn","getIn","keepScalar","hasAllNullValues","allowScalar","every","commentBefore","comment","hasIn","setIn","maxFlowStringSingleLineLength","stringifyComment","indentComment","indent","lineComment","endsWith","FOLD_FLOW","FOLD_BLOCK","FOLD_QUOTED","foldFlowLines","text","mode","indentAtStart","lineWidth","minContentWidth","onFold","onOverflow","endStep","folds","escapedFolds","prev","overflow","escStart","escEnd","consumeMoreIndentedLines","fold","getFoldOptions","isBlock","containsDocumentMarker","doubleQuotedString","doubleQuotedAsJSON","minMultiLineLength","doubleQuotedMinMultiLineLength","singleQuotedString","singleQuote","quotedString","qs","hasDouble","hasSingle","blockEndNewlines","blockString","onComment","onChompKeep","blockQuote","commentString","forceBlockIndent","literal","indentLength","lineLengthOverLimit","chomp","endStart","endNlPos","startEnd","startWithSpace","startNlPos","header","stringifyString","inFlow","ss","_stringify","_type","actualString","indentStep","compat","plainString","defaultKeyType","defaultStringType","createStringifyContext","opt","directives","falseStr","flowCollectionPadding","indentSeq","nullStr","simpleKeys","trueStr","toStringOptions","collectionStyle","repeat","resolvedAliases","getTagObject","props","stringifyProps","logLevel","warning","emitWarning","addPairToJSMap","merge","isMergeKey","mergeToJSMap","jsKey","stringKey","strCtx","inStringifyKey","strKey","jsonStr","stringifyKey","jsValue","srcMap","createPair","_","allNullValues","keyComment","explicitKey","vsb","vcb","valueComment","keyCommentDone","chompKeep","spaceBefore","flow","valueCommentDone","valueStr","ws","vs0","nl0","hasNewline","hasPropsLine","sp0","stringifyPair","stringifyCollection","collection","stringifyFlowCollection","stringifyBlockCollection","blockItemPrefix","flowChars","itemIndent","itemCtx","addCommentBefore","ik","fcPadding","reqNewline","linesAtValue","iv","reduce","sum","ic","trimStart","findPair","YAMLMap","replacer","sortMapEntries","sort","pair","_pair","sortEntries","findIndex","Type","YAMLSeq","idx","asItemIndex","seq","nullTag","boolTag","stringifyNumber","minFractionDigits","floatNaN","NEGATIVE_INFINITY","POSITIVE_INFINITY","floatExp","parseFloat","toExponential","dot","intIdentify","intResolve","radix","intAsBigInt","intStringify","intOct","_onError","intHex","stringifyJSON","jsonError","binary","btoa","ceil","resolvePairs","cn","createPairs","iterable","pairs","YAMLOMap","bind","omap","seenKeys","boolStringify","trueTag","falseTag","f","sign","intBin","YAMLSet","keepPair","parseSexagesimal","asBigInt","p","stringifySexagesimal","_60","unshift","padStart","intTime","floatTime","timestamp","year","month","day","hour","minute","second","millisec","date","UTC","tz","schemas","tagsByName","bool","float","int","null","coreKnownTags","getTags","customTags","schemaName","sortMapEntriesByKey","Schema","resolveKnownTags","toStringDefaults","knownTags","Document","warnings","_replacer","keepSourceTokens","prettyErrors","strict","uniqueKeys","_directives","setSchema","assertCollection","createAlias","keyToStr","asStr","anchorPrefix","setAnchors","aliasObjects","prevAnchors","createNodeAnchors","sv","jsonArg","hasDirectives","cs","contentComment","dc","stringifyDocument","YAMLError","YAMLParseError","YAMLWarning","prettifyError","linePos","col","lineStr","lineStarts","pointer","resolveProps","indicator","startOnNewline","atNewline","hasSpace","commentSep","hasNewlineAfterProp","reqSpace","comma","cb","containsNewline","st","sep","flowIndentCheck","fc","mapIncludes","search","isEqual","startColMsg","resolveEnd","blockMsg","resolveCollection","CN","coll","composeNode","composeEmptyNode","bm","atRoot","commentEnd","collItem","keyProps","keyStart","keyNode","valueProps","valueNode","srcToken","resolveBlockMap","bs","resolveBlockSeq","fcName","prevItemComment","loop","expectedEnd","ce","ee","cePos","toUpperCase","resolveFlowCollection","Coll","resolveBlockScalar","scalar","ts","parseBlockScalarHeader","splitLines","chompStart","content","trimIndent","contentStart","prevMoreIndented","crlf","resolveFlowScalar","rel","badChar","foldLines","plainValue","singleQuotedValue","foldNewline","cc","escapeCodes","u","U","parseCharCode","wsStart","doubleQuotedValue","valueEnd","exec","lastIndex","N","L","P","fromCodePoint","composeScalar","tagToken","matchWithTest","kt","findScalarTagByName","findScalarTagByTest","emptyScalarPosition","before","isSrcToken","alias","composeAlias","expType","composeCollection","getErrorPos","parsePrelude","prelude","atComment","afterEmptyLine","Composer","atDirectives","decorate","afterDoc","streamInfo","compose","forceDoc","endOffset","opts","contentEnd","composeDoc","resolveAsScalar","createScalarToken","he","head","addEndtoBlockProps","setScalarValue","afterKey","setBlockScalarValue","setFlowScalarValue","oa","tok","nl","cst","stringifyToken","stringifyItem","_visit","field","itemAtPath","parentCollection","BOM","DOCUMENT","FLOW_END","prettyToken","tokenType","isEmpty","hexDigits","tagChars","invalidFlowScalarChars","invalidAnchorChars","isNotAnchorChar","Lexer","atEnd","blockScalarIndent","blockScalarKeep","flowKey","flowLevel","indentNext","indentValue","lineEndPos","lex","incomplete","hasChars","parseNext","atLineEnd","charAt","continueScalar","dt","getLine","setNext","peek","parseStream","parseLineStart","parseBlockStart","parseDocument","parseFlowCollection","parseQuotedScalar","parseBlockScalar","parsePlainScalar","pushCount","dirEnd","pushSpaces","pushNewline","sp","ch0","ch1","pushIndicators","pushUntil","quote","qb","pushToIndex","lastChar","allowEmpty","pushTag","allowTabs","LineCounter","addNewLine","low","high","mid","includesToken","findNonEmptyIndex","isFlowToken","getPrevProps","getFirstKeyStartProps","fixFlowSeqItems","Parser","onNewLine","atNewLine","atScalar","onKeyLine","lexer","lexeme","step","pop","sourceToken","top","stream","blockScalar","blockMap","blockSequence","flowCollection","documentEnd","lineEnd","bv","startBlockValue","atIndentedComment","atNextItem","fs","flowScalar","lineCounter","parseAllDocuments","parser","composer","docs","empty","_doc","_reviver","round","thisArg","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","getOwnPropertyNames","findKey","_global","globalThis","self","window","global","isContextDefined","isTypedArray","TypedArray","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","reducedDescriptors","descriptor","defineProperties","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","isFormData","kind","isArrayBufferView","isBoolean","isStream","pipe","caseless","assignValue","targetKey","extend","stripBOM","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","position","toArray","forEachEntry","matchAll","regExp","matches","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p1","p2","toFiniteNumber","defaultValue","generateString","random","isSpecCompliantForm","toJSONObject","reducedValue","isThenable","AxiosError","config","request","response","captureStackTrace","utils","description","number","fileName","lineNumber","columnNumber","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","dots","predicates","metaTokens","indexes","option","defaultVisitor","useBlob","Blob","convertValue","isFlatArray","el","exposedHelpers","encode","charMap","encodeURIComponent","AxiosURLSearchParams","params","_pairs","encoder","_encode","buildURL","serializeFn","serialize","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","clear","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","hasStandardBrowserEnv","product","navigator","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","platform","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parseHeaders","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalize","normalized","w","char","formatHeader","targets","asStrings","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","samplesCount","timestamps","firstSampleTS","tail","chunkLength","startedAt","bytesCount","passed","freq","threshold","timer","isDownloadStream","bytesNotified","_speedometer","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","msie","userAgent","urlParsingNode","originURL","resolveURL","setAttribute","host","hash","port","pathname","requestURL","domain","secure","cookie","toGMTString","remove","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","username","password","unescape","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","_config","resolveConfig","requestData","requestHeaders","onCanceled","signal","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","progressEventReducer","upload","cancel","abort","aborted","parseProtocol","signals","controller","AbortController","reason","streamChunk","chunk","chunkSize","trackStream","onProgress","onFinish","readBytes","ReadableStream","pull","enqueue","return","highWaterMark","fetchProgressDecorator","isFetchSupported","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","getBodyLength","fetchOptions","finished","composedSignal","stopTimeout","requestContentLength","contentTypeHeader","_request","isStreamResponse","responseContentLength","responseData","knownAdapters","http","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","formatMessage","desc","ERR_DEPRECATED","assertOptions","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","configOrUrl","dummy","boolean","function","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","instance","toFormData","Cancel","all","promises","spread","isAxiosError","payload","formToJSON","getAdapter","ProxyBus","bus","bus2","getVersion","valid","handler","SimpleBus","getBus","Proxy","OC","_eventBus","_nc_event_bus","escape","noRewrite","modRewriteWorking","_oc_webroot","RETRY_KEY","RETRY_DELAY_KEY","_a","client","requesttoken","getElementsByTagName","getAttribute","cancelableClient","_a2","onError$2","retryIfMaintenanceMode","retryDelay","onError$1","reloadExpiredSession","reload","OCA","Dashboard","register","widget","parentElement","style","yamlEntities","YAML","innerHTML","checkboxHTML","sensorHTML","entry","entity","isLightOrSensor","label","URL","connOptions","createConnection","querySelectorAll","element","dataset","disabled","unit_of_measurement","nameP","closest","initName","friendly_name","post","generateUrl"],"sourceRoot":""}